var RC=Object.defineProperty;var fS=i=>{throw TypeError(i)};var LC=(i,e,t)=>e in i?RC(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var at=(i,e,t)=>LC(i,typeof e!="symbol"?e+"":e,t),yg=(i,e,t)=>e.has(i)||fS("Cannot "+t);var $=(i,e,t)=>(yg(i,e,"read from private field"),t?t.call(i):e.get(i)),Me=(i,e,t)=>e.has(i)?fS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),we=(i,e,t,s)=>(yg(i,e,"write to private field"),s?s.call(i,t):e.set(i,t),t),Ve=(i,e,t)=>(yg(i,e,"access private method"),t);var uh=(i,e,t,s)=>({set _(n){we(i,e,n,t)},get _(){return $(i,e,s)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();function ky(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function CC(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(s){var n=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(t,s,n.get?n:{enumerable:!0,get:function(){return i[s]}})}),t}var vg={exports:{}},Gu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mS;function DC(){if(mS)return Gu;mS=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,n,a){var l=null;if(a!==void 0&&(l=""+a),n.key!==void 0&&(l=""+n.key),"key"in n){a={};for(var u in n)u!=="key"&&(a[u]=n[u])}else a=n;return n=a.ref,{$$typeof:i,type:s,key:l,ref:n!==void 0?n:null,props:a}}return Gu.Fragment=e,Gu.jsx=t,Gu.jsxs=t,Gu}var pS;function IC(){return pS||(pS=1,vg.exports=DC()),vg.exports}var ke=IC(),bg={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS;function jC(){if(gS)return Ye;gS=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function E(j){return j===null||typeof j!="object"?null:(j=g&&j[g]||j["@@iterator"],typeof j=="function"?j:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function x(j,F,K){this.props=j,this.context=F,this.refs=S,this.updater=K||b}x.prototype.isReactComponent={},x.prototype.setState=function(j,F){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,F,"setState")},x.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function _(){}_.prototype=x.prototype;function w(j,F,K){this.props=j,this.context=F,this.refs=S,this.updater=K||b}var R=w.prototype=new _;R.constructor=w,k(R,x.prototype),R.isPureReactComponent=!0;var C=Array.isArray;function I(){}var L={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function M(j,F,K){var ae=K.ref;return{$$typeof:i,type:j,key:F,ref:ae!==void 0?ae:null,props:K}}function N(j,F){return M(j.type,F,j.props)}function H(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function se(j){var F={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(K){return F[K]})}var ge=/\/+/g;function ve(j,F){return typeof j=="object"&&j!==null&&j.key!=null?se(""+j.key):F.toString(36)}function U(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(I,I):(j.status="pending",j.then(function(F){j.status==="pending"&&(j.status="fulfilled",j.value=F)},function(F){j.status==="pending"&&(j.status="rejected",j.reason=F)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function O(j,F,K,ae,le){var me=typeof j;(me==="undefined"||me==="boolean")&&(j=null);var xe=!1;if(j===null)xe=!0;else switch(me){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(j.$$typeof){case i:case e:xe=!0;break;case m:return xe=j._init,O(xe(j._payload),F,K,ae,le)}}if(xe)return le=le(j),xe=ae===""?"."+ve(j,0):ae,C(le)?(K="",xe!=null&&(K=xe.replace(ge,"$&/")+"/"),O(le,F,K,"",function(ot){return ot})):le!=null&&(H(le)&&(le=N(le,K+(le.key==null||j&&j.key===le.key?"":(""+le.key).replace(ge,"$&/")+"/")+xe)),F.push(le)),1;xe=0;var Ee=ae===""?".":ae+":";if(C(j))for(var Oe=0;Oe<j.length;Oe++)ae=j[Oe],me=Ee+ve(ae,Oe),xe+=O(ae,F,K,me,le);else if(Oe=E(j),typeof Oe=="function")for(j=Oe.call(j),Oe=0;!(ae=j.next()).done;)ae=ae.value,me=Ee+ve(ae,Oe++),xe+=O(ae,F,K,me,le);else if(me==="object"){if(typeof j.then=="function")return O(U(j),F,K,ae,le);throw F=String(j),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return xe}function q(j,F,K){if(j==null)return j;var ae=[],le=0;return O(j,ae,"","",function(me){return F.call(K,me,le++)}),ae}function W(j){if(j._status===-1){var F=j._result;F=F(),F.then(function(K){(j._status===0||j._status===-1)&&(j._status=1,j._result=K)},function(K){(j._status===0||j._status===-1)&&(j._status=2,j._result=K)}),j._status===-1&&(j._status=0,j._result=F)}if(j._status===1)return j._result.default;throw j._result}var re=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},he={map:q,forEach:function(j,F,K){q(j,function(){F.apply(this,arguments)},K)},count:function(j){var F=0;return q(j,function(){F++}),F},toArray:function(j){return q(j,function(F){return F})||[]},only:function(j){if(!H(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ye.Activity=p,Ye.Children=he,Ye.Component=x,Ye.Fragment=t,Ye.Profiler=n,Ye.PureComponent=w,Ye.StrictMode=s,Ye.Suspense=h,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(j){return L.H.useMemoCache(j)}},Ye.cache=function(j){return function(){return j.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(j,F,K){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ae=k({},j.props),le=j.key;if(F!=null)for(me in F.key!==void 0&&(le=""+F.key),F)!P.call(F,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&F.ref===void 0||(ae[me]=F[me]);var me=arguments.length-2;if(me===1)ae.children=K;else if(1<me){for(var xe=Array(me),Ee=0;Ee<me;Ee++)xe[Ee]=arguments[Ee+2];ae.children=xe}return M(j.type,le,ae)},Ye.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:a,_context:j},j},Ye.createElement=function(j,F,K){var ae,le={},me=null;if(F!=null)for(ae in F.key!==void 0&&(me=""+F.key),F)P.call(F,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(le[ae]=F[ae]);var xe=arguments.length-2;if(xe===1)le.children=K;else if(1<xe){for(var Ee=Array(xe),Oe=0;Oe<xe;Oe++)Ee[Oe]=arguments[Oe+2];le.children=Ee}if(j&&j.defaultProps)for(ae in xe=j.defaultProps,xe)le[ae]===void 0&&(le[ae]=xe[ae]);return M(j,me,le)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(j){return{$$typeof:u,render:j}},Ye.isValidElement=H,Ye.lazy=function(j){return{$$typeof:m,_payload:{_status:-1,_result:j},_init:W}},Ye.memo=function(j,F){return{$$typeof:d,type:j,compare:F===void 0?null:F}},Ye.startTransition=function(j){var F=L.T,K={};L.T=K;try{var ae=j(),le=L.S;le!==null&&le(K,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(I,re)}catch(me){re(me)}finally{F!==null&&K.types!==null&&(F.types=K.types),L.T=F}},Ye.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Ye.use=function(j){return L.H.use(j)},Ye.useActionState=function(j,F,K){return L.H.useActionState(j,F,K)},Ye.useCallback=function(j,F){return L.H.useCallback(j,F)},Ye.useContext=function(j){return L.H.useContext(j)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(j,F){return L.H.useDeferredValue(j,F)},Ye.useEffect=function(j,F){return L.H.useEffect(j,F)},Ye.useEffectEvent=function(j){return L.H.useEffectEvent(j)},Ye.useId=function(){return L.H.useId()},Ye.useImperativeHandle=function(j,F,K){return L.H.useImperativeHandle(j,F,K)},Ye.useInsertionEffect=function(j,F){return L.H.useInsertionEffect(j,F)},Ye.useLayoutEffect=function(j,F){return L.H.useLayoutEffect(j,F)},Ye.useMemo=function(j,F){return L.H.useMemo(j,F)},Ye.useOptimistic=function(j,F){return L.H.useOptimistic(j,F)},Ye.useReducer=function(j,F,K){return L.H.useReducer(j,F,K)},Ye.useRef=function(j){return L.H.useRef(j)},Ye.useState=function(j){return L.H.useState(j)},Ye.useSyncExternalStore=function(j,F,K){return L.H.useSyncExternalStore(j,F,K)},Ye.useTransition=function(){return L.H.useTransition()},Ye.version="19.2.4",Ye}var yS;function Mf(){return yS||(yS=1,bg.exports=jC()),bg.exports}var $e=Mf();const pe=ky($e);var Eg={exports:{}},Hu={},kg={exports:{}},Sg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vS;function OC(){return vS||(vS=1,function(i){function e(O,q){var W=O.length;O.push(q);e:for(;0<W;){var re=W-1>>>1,he=O[re];if(0<n(he,q))O[re]=q,O[W]=he,W=re;else break e}}function t(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var q=O[0],W=O.pop();if(W!==q){O[0]=W;e:for(var re=0,he=O.length,j=he>>>1;re<j;){var F=2*(re+1)-1,K=O[F],ae=F+1,le=O[ae];if(0>n(K,W))ae<he&&0>n(le,K)?(O[re]=le,O[ae]=W,re=ae):(O[re]=K,O[F]=W,re=F);else if(ae<he&&0>n(le,W))O[re]=le,O[ae]=W,re=ae;else break e}}return q}function n(O,q){var W=O.sortIndex-q.sortIndex;return W!==0?W:O.id-q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();i.unstable_now=function(){return l.now()-u}}var h=[],d=[],m=1,p=null,g=3,E=!1,b=!1,k=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function R(O){for(var q=t(d);q!==null;){if(q.callback===null)s(d);else if(q.startTime<=O)s(d),q.sortIndex=q.expirationTime,e(h,q);else break;q=t(d)}}function C(O){if(k=!1,R(O),!b)if(t(h)!==null)b=!0,I||(I=!0,se());else{var q=t(d);q!==null&&U(C,q.startTime-O)}}var I=!1,L=-1,P=5,M=-1;function N(){return S?!0:!(i.unstable_now()-M<P)}function H(){if(S=!1,I){var O=i.unstable_now();M=O;var q=!0;try{e:{b=!1,k&&(k=!1,_(L),L=-1),E=!0;var W=g;try{t:{for(R(O),p=t(h);p!==null&&!(p.expirationTime>O&&N());){var re=p.callback;if(typeof re=="function"){p.callback=null,g=p.priorityLevel;var he=re(p.expirationTime<=O);if(O=i.unstable_now(),typeof he=="function"){p.callback=he,R(O),q=!0;break t}p===t(h)&&s(h),R(O)}else s(h);p=t(h)}if(p!==null)q=!0;else{var j=t(d);j!==null&&U(C,j.startTime-O),q=!1}}break e}finally{p=null,g=W,E=!1}q=void 0}}finally{q?se():I=!1}}}var se;if(typeof w=="function")se=function(){w(H)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,ve=ge.port2;ge.port1.onmessage=H,se=function(){ve.postMessage(null)}}else se=function(){x(H,0)};function U(O,q){L=x(function(){O(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(O){O.callback=null},i.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<O?Math.floor(1e3/O):5},i.unstable_getCurrentPriorityLevel=function(){return g},i.unstable_next=function(O){switch(g){case 1:case 2:case 3:var q=3;break;default:q=g}var W=g;g=q;try{return O()}finally{g=W}},i.unstable_requestPaint=function(){S=!0},i.unstable_runWithPriority=function(O,q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var W=g;g=O;try{return q()}finally{g=W}},i.unstable_scheduleCallback=function(O,q,W){var re=i.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?re+W:re):W=re,O){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=W+he,O={id:m++,callback:q,priorityLevel:O,startTime:W,expirationTime:he,sortIndex:-1},W>re?(O.sortIndex=W,e(d,O),t(h)===null&&O===t(d)&&(k?(_(L),L=-1):k=!0,U(C,W-re))):(O.sortIndex=he,e(h,O),b||E||(b=!0,I||(I=!0,se()))),O},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(O){var q=g;return function(){var W=g;g=q;try{return O.apply(this,arguments)}finally{g=W}}}}(Sg)),Sg}var bS;function MC(){return bS||(bS=1,kg.exports=OC()),kg.exports}var xg={exports:{}},Ri={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ES;function PC(){if(ES)return Ri;ES=1;var i=Mf();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},n=Symbol.for("react.portal");function a(h,d,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:p==null?null:""+p,children:h,containerInfo:d,implementation:m}}var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ri.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ri.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(h,d,null,m)},Ri.flushSync=function(h){var d=l.T,m=s.p;try{if(l.T=null,s.p=2,h)return h()}finally{l.T=d,s.p=m,s.d.f()}},Ri.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(h,d))},Ri.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},Ri.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var m=d.as,p=u(m,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?s.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:E}):m==="script"&&s.d.X(h,{crossOrigin:p,integrity:g,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ri.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=u(d.as,d.crossOrigin);s.d.M(h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(h)},Ri.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,p=u(m,d.crossOrigin);s.d.L(h,m,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ri.preloadModule=function(h,d){if(typeof h=="string")if(d){var m=u(d.as,d.crossOrigin);s.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(h)},Ri.requestFormReset=function(h){s.d.r(h)},Ri.unstable_batchedUpdates=function(h,d){return h(d)},Ri.useFormState=function(h,d,m){return l.H.useFormState(h,d,m)},Ri.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ri.version="19.2.4",Ri}var kS;function b1(){if(kS)return xg.exports;kS=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),xg.exports=PC(),xg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SS;function NC(){if(SS)return Hu;SS=1;var i=MC(),e=Mf(),t=b1();function s(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function u(r){if(r.tag===31){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function h(r){if(a(r)!==r)throw Error(s(188))}function d(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(s(188));return o!==r?null:r}for(var c=r,f=o;;){var y=c.return;if(y===null)break;var v=y.alternate;if(v===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===c)return h(y),r;if(v===f)return h(y),o;v=v.sibling}throw Error(s(188))}if(c.return!==f.return)c=y,f=v;else{for(var T=!1,D=y.child;D;){if(D===c){T=!0,c=y,f=v;break}if(D===f){T=!0,f=y,c=v;break}D=D.sibling}if(!T){for(D=v.child;D;){if(D===c){T=!0,c=v,f=y;break}if(D===f){T=!0,f=v,c=y;break}D=D.sibling}if(!T)throw Error(s(189))}}if(c.alternate!==f)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?r:o}function m(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=m(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),w=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function se(r){return r===null||typeof r!="object"?null:(r=H&&r[H]||r["@@iterator"],typeof r=="function"?r:null)}var ge=Symbol.for("react.client.reference");function ve(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ge?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case x:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case I:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case w:return r.displayName||"Context";case _:return(r._context.displayName||"Context")+".Consumer";case R:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case L:return o=r.displayName||null,o!==null?o:ve(r.type)||"Memo";case P:o=r._payload,r=r._init;try{return ve(r(o))}catch{}}return null}var U=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},re=[],he=-1;function j(r){return{current:r}}function F(r){0>he||(r.current=re[he],re[he]=null,he--)}function K(r,o){he++,re[he]=r.current,r.current=o}var ae=j(null),le=j(null),me=j(null),xe=j(null);function Ee(r,o){switch(K(me,o),K(le,r),K(ae,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?Pk(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=Pk(o),r=Nk(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}F(ae),K(ae,r)}function Oe(){F(ae),F(le),F(me)}function ot(r){r.memoizedState!==null&&K(xe,r);var o=ae.current,c=Nk(o,r.type);o!==c&&(K(le,r),K(ae,c))}function vt(r){le.current===r&&(F(ae),F(le)),xe.current===r&&(F(xe),Bu._currentValue=W)}var ie,z;function Y(r){if(ie===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);ie=o&&o[1]||"",z=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ie+r+z}var ye=!1;function ee(r,o){if(!r||ye)return"";ye=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ne){var te=ne}Reflect.construct(r,[],fe)}else{try{fe.call()}catch(ne){te=ne}r.call(fe.prototype)}}else{try{throw Error()}catch(ne){te=ne}(fe=r())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),T=v[0],D=v[1];if(T&&D){var B=T.split(`
`),J=D.split(`
`);for(y=f=0;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;for(;y<J.length&&!J[y].includes("DetermineComponentFrameRoot");)y++;if(f===B.length||y===J.length)for(f=B.length-1,y=J.length-1;1<=f&&0<=y&&B[f]!==J[y];)y--;for(;1<=f&&0<=y;f--,y--)if(B[f]!==J[y]){if(f!==1||y!==1)do if(f--,y--,0>y||B[f]!==J[y]){var ue=`
`+B[f].replace(" at new "," at ");return r.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",r.displayName)),ue}while(1<=f&&0<=y);break}}}finally{ye=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?Y(c):""}function Se(r,o){switch(r.tag){case 26:case 27:case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return r.child!==o&&o!==null?Y("Suspense Fallback"):Y("Suspense");case 19:return Y("SuspenseList");case 0:case 15:return ee(r.type,!1);case 11:return ee(r.type.render,!1);case 1:return ee(r.type,!0);case 31:return Y("Activity");default:return""}}function Pe(r){try{var o="",c=null;do o+=Se(r,c),c=r,r=r.return;while(r);return o}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Be=Object.prototype.hasOwnProperty,tt=i.unstable_scheduleCallback,mt=i.unstable_cancelCallback,Ce=i.unstable_shouldYield,Ai=i.unstable_requestPaint,pt=i.unstable_now,Oi=i.unstable_getCurrentPriorityLevel,pi=i.unstable_ImmediatePriority,ct=i.unstable_UserBlockingPriority,xt=i.unstable_NormalPriority,Mi=i.unstable_LowPriority,gi=i.unstable_IdlePriority,Js=i.log,or=i.unstable_setDisableYieldValue,ma=null,Pi=null;function Ns(r){if(typeof Js=="function"&&or(r),Pi&&typeof Pi.setStrictMode=="function")try{Pi.setStrictMode(ma,r)}catch{}}var wi=Math.clz32?Math.clz32:en,am=Math.log,Jl=Math.LN2;function en(r){return r>>>=0,r===0?32:31-(am(r)/Jl|0)|0}var fo=256,mo=262144,pa=4194304;function tn(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function qe(r,o,c){var f=r.pendingLanes;if(f===0)return 0;var y=0,v=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var D=f&134217727;return D!==0?(f=D&~v,f!==0?y=tn(f):(T&=D,T!==0?y=tn(T):c||(c=D&~r,c!==0&&(y=tn(c))))):(D=f&~v,D!==0?y=tn(D):T!==0?y=tn(T):c||(c=f&~r,c!==0&&(y=tn(c)))),y===0?0:o!==0&&o!==y&&(o&v)===0&&(v=y&-y,c=o&-o,v>=c||v===32&&(c&4194048)!==0)?o:y}function Ft(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function ci(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _i(){var r=pa;return pa<<=1,(pa&62914560)===0&&(pa=4194304),r}function lr(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function Ut(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function zi(r,o,c,f,y,v){var T=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var D=r.entanglements,B=r.expirationTimes,J=r.hiddenUpdates;for(c=T&~c;0<c;){var ue=31-wi(c),fe=1<<ue;D[ue]=0,B[ue]=-1;var te=J[ue];if(te!==null)for(J[ue]=null,ue=0;ue<te.length;ue++){var ne=te[ue];ne!==null&&(ne.lane&=-536870913)}c&=~fe}f!==0&&ga(r,f,0),v!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=v&~(T&~o))}function ga(r,o,c){r.pendingLanes|=o,r.suspendedLanes&=~o;var f=31-wi(o);r.entangledLanes|=o,r.entanglements[f]=r.entanglements[f]|1073741824|c&261930}function Gi(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var f=31-wi(c),y=1<<f;y&o|r[f]&o&&(r[f]|=o),c&=~y}}function Hi(r,o){var c=o&-o;return c=(c&42)!==0?1:po(c),(c&(r.suspendedLanes|o))!==0?0:c}function po(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Fs(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function om(){var r=q.p;return r!==0?r:(r=window.event,r===void 0?32:aS(r.type))}function Sv(r,o){var c=q.p;try{return q.p=r,o()}finally{q.p=c}}var ur=Math.random().toString(36).slice(2),yi="__reactFiber$"+ur,qi="__reactProps$"+ur,go="__reactContainer$"+ur,lm="__reactEvents$"+ur,yR="__reactListeners$"+ur,vR="__reactHandles$"+ur,xv="__reactResources$"+ur,eu="__reactMarker$"+ur;function um(r){delete r[yi],delete r[qi],delete r[lm],delete r[yR],delete r[vR]}function yo(r){var o=r[yi];if(o)return o;for(var c=r.parentNode;c;){if(o=c[go]||c[yi]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=Hk(r);r!==null;){if(c=r[yi])return c;r=Hk(r)}return o}r=c,c=r.parentNode}return null}function vo(r){if(r=r[yi]||r[go]){var o=r.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return r}return null}function tu(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(s(33))}function bo(r){var o=r[xv];return o||(o=r[xv]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function di(r){r[eu]=!0}var Tv=new Set,Av={};function ya(r,o){Eo(r,o),Eo(r+"Capture",o)}function Eo(r,o){for(Av[r]=o,r=0;r<o.length;r++)Tv.add(o[r])}var bR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wv={},_v={};function ER(r){return Be.call(_v,r)?!0:Be.call(wv,r)?!1:bR.test(r)?_v[r]=!0:(wv[r]=!0,!1)}function Qc(r,o,c){if(ER(o))if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+c)}}function Zc(r,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+c)}}function Ln(r,o,c,f){if(f===null)r.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(o,c,""+f)}}function ks(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Rv(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function kR(r,o,c){var f=Object.getOwnPropertyDescriptor(r.constructor.prototype,o);if(!r.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,v=f.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return y.call(this)},set:function(T){c=""+T,v.call(this,T)}}),Object.defineProperty(r,o,{enumerable:f.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function cm(r){if(!r._valueTracker){var o=Rv(r)?"checked":"value";r._valueTracker=kR(r,o,""+r[o])}}function Lv(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return r&&(f=Rv(r)?r.checked?"true":"false":r.value),r=f,r!==c?(o.setValue(r),!0):!1}function Jc(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var SR=/[\n"\\]/g;function Ss(r){return r.replace(SR,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function dm(r,o,c,f,y,v,T,D){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),o!=null?T==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+ks(o)):r.value!==""+ks(o)&&(r.value=""+ks(o)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),o!=null?hm(r,T,ks(o)):c!=null?hm(r,T,ks(c)):f!=null&&r.removeAttribute("value"),y==null&&v!=null&&(r.defaultChecked=!!v),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+ks(D):r.removeAttribute("name")}function Cv(r,o,c,f,y,v,T,D){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),o!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||o!=null)){cm(r);return}c=c!=null?""+ks(c):"",o=o!=null?""+ks(o):c,D||o===r.value||(r.value=o),r.defaultValue=o}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=D?r.checked:!!f,r.defaultChecked=!!f,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T),cm(r)}function hm(r,o,c){o==="number"&&Jc(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function ko(r,o,c,f){if(r=r.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<r.length;c++)y=o.hasOwnProperty("$"+r[c].value),r[c].selected!==y&&(r[c].selected=y),y&&f&&(r[c].defaultSelected=!0)}else{for(c=""+ks(c),o=null,y=0;y<r.length;y++){if(r[y].value===c){r[y].selected=!0,f&&(r[y].defaultSelected=!0);return}o!==null||r[y].disabled||(o=r[y])}o!==null&&(o.selected=!0)}}function Dv(r,o,c){if(o!=null&&(o=""+ks(o),o!==r.value&&(r.value=o),c==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=c!=null?""+ks(c):""}function Iv(r,o,c,f){if(o==null){if(f!=null){if(c!=null)throw Error(s(92));if(U(f)){if(1<f.length)throw Error(s(93));f=f[0]}c=f}c==null&&(c=""),o=c}c=ks(o),r.defaultValue=c,f=r.textContent,f===c&&f!==""&&f!==null&&(r.value=f),cm(r)}function So(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var xR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jv(r,o,c){var f=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":f?r.setProperty(o,c):typeof c!="number"||c===0||xR.has(o)?o==="float"?r.cssFloat=c:r[o]=(""+c).trim():r[o]=c+"px"}function Ov(r,o,c){if(o!=null&&typeof o!="object")throw Error(s(62));if(r=r.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var y in o)f=o[y],o.hasOwnProperty(y)&&c[y]!==f&&jv(r,y,f)}else for(var v in o)o.hasOwnProperty(v)&&jv(r,v,o[v])}function fm(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var TR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),AR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ed(r){return AR.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Cn(){}var mm=null;function pm(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var xo=null,To=null;function Mv(r){var o=vo(r);if(o&&(r=o.stateNode)){var c=r[qi]||null;e:switch(r=o.stateNode,o.type){case"input":if(dm(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Ss(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==r&&f.form===r.form){var y=f[qi]||null;if(!y)throw Error(s(90));dm(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)f=c[o],f.form===r.form&&Lv(f)}break e;case"textarea":Dv(r,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&ko(r,!!c.multiple,o,!1)}}}var gm=!1;function Pv(r,o,c){if(gm)return r(o,c);gm=!0;try{var f=r(o);return f}finally{if(gm=!1,(xo!==null||To!==null)&&($d(),xo&&(o=xo,r=To,To=xo=null,Mv(o),r)))for(o=0;o<r.length;o++)Mv(r[o])}}function iu(r,o){var c=r.stateNode;if(c===null)return null;var f=c[qi]||null;if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(s(231,o,typeof c));return c}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ym=!1;if(Dn)try{var su={};Object.defineProperty(su,"passive",{get:function(){ym=!0}}),window.addEventListener("test",su,su),window.removeEventListener("test",su,su)}catch{ym=!1}var cr=null,vm=null,td=null;function Nv(){if(td)return td;var r,o=vm,c=o.length,f,y="value"in cr?cr.value:cr.textContent,v=y.length;for(r=0;r<c&&o[r]===y[r];r++);var T=c-r;for(f=1;f<=T&&o[c-f]===y[v-f];f++);return td=y.slice(r,1<f?1-f:void 0)}function id(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function sd(){return!0}function Fv(){return!1}function Vi(r){function o(c,f,y,v,T){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(c=r[D],this[D]=c?c(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?sd:Fv,this.isPropagationStopped=Fv,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=sd)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=sd)},persist:function(){},isPersistent:sd}),o}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nd=Vi(va),nu=p({},va,{view:0,detail:0}),wR=Vi(nu),bm,Em,ru,rd=p({},nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sm,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ru&&(ru&&r.type==="mousemove"?(bm=r.screenX-ru.screenX,Em=r.screenY-ru.screenY):Em=bm=0,ru=r),bm)},movementY:function(r){return"movementY"in r?r.movementY:Em}}),Bv=Vi(rd),_R=p({},rd,{dataTransfer:0}),RR=Vi(_R),LR=p({},nu,{relatedTarget:0}),km=Vi(LR),CR=p({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),DR=Vi(CR),IR=p({},va,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),jR=Vi(IR),OR=p({},va,{data:0}),Uv=Vi(OR),MR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FR(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=NR[r])?!!o[r]:!1}function Sm(){return FR}var BR=p({},nu,{key:function(r){if(r.key){var o=MR[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=id(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?PR[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sm,charCode:function(r){return r.type==="keypress"?id(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?id(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),UR=Vi(BR),$R=p({},rd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$v=Vi($R),zR=p({},nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sm}),GR=Vi(zR),HR=p({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),qR=Vi(HR),VR=p({},rd,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),KR=Vi(VR),YR=p({},va,{newState:0,oldState:0}),WR=Vi(YR),XR=[9,13,27,32],xm=Dn&&"CompositionEvent"in window,au=null;Dn&&"documentMode"in document&&(au=document.documentMode);var QR=Dn&&"TextEvent"in window&&!au,zv=Dn&&(!xm||au&&8<au&&11>=au),Gv=" ",Hv=!1;function qv(r,o){switch(r){case"keyup":return XR.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vv(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ao=!1;function ZR(r,o){switch(r){case"compositionend":return Vv(o);case"keypress":return o.which!==32?null:(Hv=!0,Gv);case"textInput":return r=o.data,r===Gv&&Hv?null:r;default:return null}}function JR(r,o){if(Ao)return r==="compositionend"||!xm&&qv(r,o)?(r=Nv(),td=vm=cr=null,Ao=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return zv&&o.locale!=="ko"?null:o.data;default:return null}}var eL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kv(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!eL[r.type]:o==="textarea"}function Yv(r,o,c,f){xo?To?To.push(f):To=[f]:xo=f,o=Yd(o,"onChange"),0<o.length&&(c=new nd("onChange","change",null,c,f),r.push({event:c,listeners:o}))}var ou=null,lu=null;function tL(r){Ck(r,0)}function ad(r){var o=tu(r);if(Lv(o))return r}function Wv(r,o){if(r==="change")return o}var Xv=!1;if(Dn){var Tm;if(Dn){var Am="oninput"in document;if(!Am){var Qv=document.createElement("div");Qv.setAttribute("oninput","return;"),Am=typeof Qv.oninput=="function"}Tm=Am}else Tm=!1;Xv=Tm&&(!document.documentMode||9<document.documentMode)}function Zv(){ou&&(ou.detachEvent("onpropertychange",Jv),lu=ou=null)}function Jv(r){if(r.propertyName==="value"&&ad(lu)){var o=[];Yv(o,lu,r,pm(r)),Pv(tL,o)}}function iL(r,o,c){r==="focusin"?(Zv(),ou=o,lu=c,ou.attachEvent("onpropertychange",Jv)):r==="focusout"&&Zv()}function sL(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ad(lu)}function nL(r,o){if(r==="click")return ad(o)}function rL(r,o){if(r==="input"||r==="change")return ad(o)}function aL(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var rs=typeof Object.is=="function"?Object.is:aL;function uu(r,o){if(rs(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!Be.call(o,y)||!rs(r[y],o[y]))return!1}return!0}function eb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function tb(r,o){var c=eb(r);r=0;for(var f;c;){if(c.nodeType===3){if(f=r+c.textContent.length,r<=o&&f>=o)return{node:c,offset:o-r};r=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=eb(c)}}function ib(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?ib(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function sb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Jc(r.document);o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=Jc(r.document)}return o}function wm(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var oL=Dn&&"documentMode"in document&&11>=document.documentMode,wo=null,_m=null,cu=null,Rm=!1;function nb(r,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Rm||wo==null||wo!==Jc(f)||(f=wo,"selectionStart"in f&&wm(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),cu&&uu(cu,f)||(cu=f,f=Yd(_m,"onSelect"),0<f.length&&(o=new nd("onSelect","select",null,o,c),r.push({event:o,listeners:f}),o.target=wo)))}function ba(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var _o={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},Lm={},rb={};Dn&&(rb=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function Ea(r){if(Lm[r])return Lm[r];if(!_o[r])return r;var o=_o[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in rb)return Lm[r]=o[c];return r}var ab=Ea("animationend"),ob=Ea("animationiteration"),lb=Ea("animationstart"),lL=Ea("transitionrun"),uL=Ea("transitionstart"),cL=Ea("transitioncancel"),ub=Ea("transitionend"),cb=new Map,Cm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cm.push("scrollEnd");function Bs(r,o){cb.set(r,o),ya(o,[r])}var od=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},xs=[],Ro=0,Dm=0;function ld(){for(var r=Ro,o=Dm=Ro=0;o<r;){var c=xs[o];xs[o++]=null;var f=xs[o];xs[o++]=null;var y=xs[o];xs[o++]=null;var v=xs[o];if(xs[o++]=null,f!==null&&y!==null){var T=f.pending;T===null?y.next=y:(y.next=T.next,T.next=y),f.pending=y}v!==0&&db(c,y,v)}}function ud(r,o,c,f){xs[Ro++]=r,xs[Ro++]=o,xs[Ro++]=c,xs[Ro++]=f,Dm|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function Im(r,o,c,f){return ud(r,o,c,f),cd(r)}function ka(r,o){return ud(r,null,null,o),cd(r)}function db(r,o,c){r.lanes|=c;var f=r.alternate;f!==null&&(f.lanes|=c);for(var y=!1,v=r.return;v!==null;)v.childLanes|=c,f=v.alternate,f!==null&&(f.childLanes|=c),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(y=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,y&&o!==null&&(y=31-wi(c),r=v.hiddenUpdates,f=r[y],f===null?r[y]=[o]:f.push(o),o.lane=c|536870912),v):null}function cd(r){if(50<Iu)throw Iu=0,$p=null,Error(s(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Lo={};function dL(r,o,c,f){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function as(r,o,c,f){return new dL(r,o,c,f)}function jm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function In(r,o){var c=r.alternate;return c===null?(c=as(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function hb(r,o){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,o=c.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function dd(r,o,c,f,y,v){var T=0;if(f=r,typeof r=="function")jm(r)&&(T=1);else if(typeof r=="string")T=gC(r,c,ae.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=as(31,c,o,y),r.elementType=M,r.lanes=v,r;case k:return Sa(c.children,y,v,o);case S:T=8,y|=24;break;case x:return r=as(12,c,o,y|2),r.elementType=x,r.lanes=v,r;case C:return r=as(13,c,o,y),r.elementType=C,r.lanes=v,r;case I:return r=as(19,c,o,y),r.elementType=I,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case w:T=10;break e;case _:T=9;break e;case R:T=11;break e;case L:T=14;break e;case P:T=16,f=null;break e}T=29,c=Error(s(130,r===null?"null":typeof r,"")),f=null}return o=as(T,c,o,y),o.elementType=r,o.type=f,o.lanes=v,o}function Sa(r,o,c,f){return r=as(7,r,f,o),r.lanes=c,r}function Om(r,o,c){return r=as(6,r,null,o),r.lanes=c,r}function fb(r){var o=as(18,null,null,0);return o.stateNode=r,o}function Mm(r,o,c){return o=as(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var mb=new WeakMap;function Ts(r,o){if(typeof r=="object"&&r!==null){var c=mb.get(r);return c!==void 0?c:(o={value:r,source:o,stack:Pe(o)},mb.set(r,o),o)}return{value:r,source:o,stack:Pe(o)}}var Co=[],Do=0,hd=null,du=0,As=[],ws=0,dr=null,sn=1,nn="";function jn(r,o){Co[Do++]=du,Co[Do++]=hd,hd=r,du=o}function pb(r,o,c){As[ws++]=sn,As[ws++]=nn,As[ws++]=dr,dr=r;var f=sn;r=nn;var y=32-wi(f)-1;f&=~(1<<y),c+=1;var v=32-wi(o)+y;if(30<v){var T=y-y%5;v=(f&(1<<T)-1).toString(32),f>>=T,y-=T,sn=1<<32-wi(o)+y|c<<y|f,nn=v+r}else sn=1<<v|c<<y|f,nn=r}function Pm(r){r.return!==null&&(jn(r,1),pb(r,1,0))}function Nm(r){for(;r===hd;)hd=Co[--Do],Co[Do]=null,du=Co[--Do],Co[Do]=null;for(;r===dr;)dr=As[--ws],As[ws]=null,nn=As[--ws],As[ws]=null,sn=As[--ws],As[ws]=null}function gb(r,o){As[ws++]=sn,As[ws++]=nn,As[ws++]=dr,sn=o.id,nn=o.overflow,dr=r}var vi=null,Mt=null,dt=!1,hr=null,_s=!1,Fm=Error(s(519));function fr(r){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hu(Ts(o,r)),Fm}function yb(r){var o=r.stateNode,c=r.type,f=r.memoizedProps;switch(o[yi]=r,o[qi]=f,c){case"dialog":rt("cancel",o),rt("close",o);break;case"iframe":case"object":case"embed":rt("load",o);break;case"video":case"audio":for(c=0;c<Ou.length;c++)rt(Ou[c],o);break;case"source":rt("error",o);break;case"img":case"image":case"link":rt("error",o),rt("load",o);break;case"details":rt("toggle",o);break;case"input":rt("invalid",o),Cv(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":rt("invalid",o);break;case"textarea":rt("invalid",o),Iv(o,f.value,f.defaultValue,f.children)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||f.suppressHydrationWarning===!0||Ok(o.textContent,c)?(f.popover!=null&&(rt("beforetoggle",o),rt("toggle",o)),f.onScroll!=null&&rt("scroll",o),f.onScrollEnd!=null&&rt("scrollend",o),f.onClick!=null&&(o.onclick=Cn),o=!0):o=!1,o||fr(r,!0)}function vb(r){for(vi=r.return;vi;)switch(vi.tag){case 5:case 31:case 13:_s=!1;return;case 27:case 3:_s=!0;return;default:vi=vi.return}}function Io(r){if(r!==vi)return!1;if(!dt)return vb(r),dt=!0,!1;var o=r.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||ig(r.type,r.memoizedProps)),c=!c),c&&Mt&&fr(r),vb(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Mt=Gk(r)}else if(o===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Mt=Gk(r)}else o===27?(o=Mt,_r(r.type)?(r=og,og=null,Mt=r):Mt=o):Mt=vi?Ls(r.stateNode.nextSibling):null;return!0}function xa(){Mt=vi=null,dt=!1}function Bm(){var r=hr;return r!==null&&(Xi===null?Xi=r:Xi.push.apply(Xi,r),hr=null),r}function hu(r){hr===null?hr=[r]:hr.push(r)}var Um=j(null),Ta=null,On=null;function mr(r,o,c){K(Um,o._currentValue),o._currentValue=c}function Mn(r){r._currentValue=Um.current,F(Um)}function $m(r,o,c){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===c)break;r=r.return}}function zm(r,o,c,f){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var v=y.dependencies;if(v!==null){var T=y.child;v=v.firstContext;e:for(;v!==null;){var D=v;v=y;for(var B=0;B<o.length;B++)if(D.context===o[B]){v.lanes|=c,D=v.alternate,D!==null&&(D.lanes|=c),$m(v.return,c,r),f||(T=null);break e}v=D.next}}else if(y.tag===18){if(T=y.return,T===null)throw Error(s(341));T.lanes|=c,v=T.alternate,v!==null&&(v.lanes|=c),$m(T,c,r),T=null}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===r){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}}function jo(r,o,c,f){r=null;for(var y=o,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var T=y.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var D=y.type;rs(y.pendingProps.value,T.value)||(r!==null?r.push(D):r=[D])}}else if(y===xe.current){if(T=y.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(Bu):r=[Bu])}y=y.return}r!==null&&zm(o,r,c,f),o.flags|=262144}function fd(r){for(r=r.firstContext;r!==null;){if(!rs(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Aa(r){Ta=r,On=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function bi(r){return bb(Ta,r)}function md(r,o){return Ta===null&&Aa(r),bb(r,o)}function bb(r,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},On===null){if(r===null)throw Error(s(308));On=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else On=On.next=o;return c}var hL=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(c,f){r.push(f)}};this.abort=function(){o.aborted=!0,r.forEach(function(c){return c()})}},fL=i.unstable_scheduleCallback,mL=i.unstable_NormalPriority,ei={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gm(){return{controller:new hL,data:new Map,refCount:0}}function fu(r){r.refCount--,r.refCount===0&&fL(mL,function(){r.controller.abort()})}var mu=null,Hm=0,Oo=0,Mo=null;function pL(r,o){if(mu===null){var c=mu=[];Hm=0,Oo=Kp(),Mo={status:"pending",value:void 0,then:function(f){c.push(f)}}}return Hm++,o.then(Eb,Eb),o}function Eb(){if(--Hm===0&&mu!==null){Mo!==null&&(Mo.status="fulfilled");var r=mu;mu=null,Oo=0,Mo=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function gL(r,o){var c=[],f={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return r.then(function(){f.status="fulfilled",f.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(f.status="rejected",f.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),f}var kb=O.S;O.S=function(r,o){nk=pt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&pL(r,o),kb!==null&&kb(r,o)};var wa=j(null);function qm(){var r=wa.current;return r!==null?r:It.pooledCache}function pd(r,o){o===null?K(wa,wa.current):K(wa,o.pool)}function Sb(){var r=qm();return r===null?null:{parent:ei._currentValue,pool:r}}var Po=Error(s(460)),Vm=Error(s(474)),gd=Error(s(542)),yd={then:function(){}};function xb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Tb(r,o,c){switch(c=r[c],c===void 0?r.push(o):c!==o&&(o.then(Cn,Cn),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,wb(r),r;default:if(typeof o.status=="string")o.then(Cn,Cn);else{if(r=It,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=o,r.status="pending",r.then(function(f){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=f}},function(f){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,wb(r),r}throw Ra=o,Po}}function _a(r){try{var o=r._init;return o(r._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ra=c,Po):c}}var Ra=null;function Ab(){if(Ra===null)throw Error(s(459));var r=Ra;return Ra=null,r}function wb(r){if(r===Po||r===gd)throw Error(s(483))}var No=null,pu=0;function vd(r){var o=pu;return pu+=1,No===null&&(No=[]),Tb(No,r,o)}function gu(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function bd(r,o){throw o.$$typeof===g?Error(s(525)):(r=Object.prototype.toString.call(o),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function _b(r){function o(V,G){if(r){var Z=V.deletions;Z===null?(V.deletions=[G],V.flags|=16):Z.push(G)}}function c(V,G){if(!r)return null;for(;G!==null;)o(V,G),G=G.sibling;return null}function f(V){for(var G=new Map;V!==null;)V.key!==null?G.set(V.key,V):G.set(V.index,V),V=V.sibling;return G}function y(V,G){return V=In(V,G),V.index=0,V.sibling=null,V}function v(V,G,Z){return V.index=Z,r?(Z=V.alternate,Z!==null?(Z=Z.index,Z<G?(V.flags|=67108866,G):Z):(V.flags|=67108866,G)):(V.flags|=1048576,G)}function T(V){return r&&V.alternate===null&&(V.flags|=67108866),V}function D(V,G,Z,de){return G===null||G.tag!==6?(G=Om(Z,V.mode,de),G.return=V,G):(G=y(G,Z),G.return=V,G)}function B(V,G,Z,de){var Ne=Z.type;return Ne===k?ue(V,G,Z.props.children,de,Z.key):G!==null&&(G.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===P&&_a(Ne)===G.type)?(G=y(G,Z.props),gu(G,Z),G.return=V,G):(G=dd(Z.type,Z.key,Z.props,null,V.mode,de),gu(G,Z),G.return=V,G)}function J(V,G,Z,de){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=Mm(Z,V.mode,de),G.return=V,G):(G=y(G,Z.children||[]),G.return=V,G)}function ue(V,G,Z,de,Ne){return G===null||G.tag!==7?(G=Sa(Z,V.mode,de,Ne),G.return=V,G):(G=y(G,Z),G.return=V,G)}function fe(V,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Om(""+G,V.mode,Z),G.return=V,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return Z=dd(G.type,G.key,G.props,null,V.mode,Z),gu(Z,G),Z.return=V,Z;case b:return G=Mm(G,V.mode,Z),G.return=V,G;case P:return G=_a(G),fe(V,G,Z)}if(U(G)||se(G))return G=Sa(G,V.mode,Z,null),G.return=V,G;if(typeof G.then=="function")return fe(V,vd(G),Z);if(G.$$typeof===w)return fe(V,md(V,G),Z);bd(V,G)}return null}function te(V,G,Z,de){var Ne=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ne!==null?null:D(V,G,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:return Z.key===Ne?B(V,G,Z,de):null;case b:return Z.key===Ne?J(V,G,Z,de):null;case P:return Z=_a(Z),te(V,G,Z,de)}if(U(Z)||se(Z))return Ne!==null?null:ue(V,G,Z,de,null);if(typeof Z.then=="function")return te(V,G,vd(Z),de);if(Z.$$typeof===w)return te(V,G,md(V,Z),de);bd(V,Z)}return null}function ne(V,G,Z,de,Ne){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return V=V.get(Z)||null,D(G,V,""+de,Ne);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case E:return V=V.get(de.key===null?Z:de.key)||null,B(G,V,de,Ne);case b:return V=V.get(de.key===null?Z:de.key)||null,J(G,V,de,Ne);case P:return de=_a(de),ne(V,G,Z,de,Ne)}if(U(de)||se(de))return V=V.get(Z)||null,ue(G,V,de,Ne,null);if(typeof de.then=="function")return ne(V,G,Z,vd(de),Ne);if(de.$$typeof===w)return ne(V,G,Z,md(G,de),Ne);bd(G,de)}return null}function Le(V,G,Z,de){for(var Ne=null,gt=null,De=G,Ze=G=0,ut=null;De!==null&&Ze<Z.length;Ze++){De.index>Ze?(ut=De,De=null):ut=De.sibling;var yt=te(V,De,Z[Ze],de);if(yt===null){De===null&&(De=ut);break}r&&De&&yt.alternate===null&&o(V,De),G=v(yt,G,Ze),gt===null?Ne=yt:gt.sibling=yt,gt=yt,De=ut}if(Ze===Z.length)return c(V,De),dt&&jn(V,Ze),Ne;if(De===null){for(;Ze<Z.length;Ze++)De=fe(V,Z[Ze],de),De!==null&&(G=v(De,G,Ze),gt===null?Ne=De:gt.sibling=De,gt=De);return dt&&jn(V,Ze),Ne}for(De=f(De);Ze<Z.length;Ze++)ut=ne(De,V,Ze,Z[Ze],de),ut!==null&&(r&&ut.alternate!==null&&De.delete(ut.key===null?Ze:ut.key),G=v(ut,G,Ze),gt===null?Ne=ut:gt.sibling=ut,gt=ut);return r&&De.forEach(function(Ir){return o(V,Ir)}),dt&&jn(V,Ze),Ne}function Ue(V,G,Z,de){if(Z==null)throw Error(s(151));for(var Ne=null,gt=null,De=G,Ze=G=0,ut=null,yt=Z.next();De!==null&&!yt.done;Ze++,yt=Z.next()){De.index>Ze?(ut=De,De=null):ut=De.sibling;var Ir=te(V,De,yt.value,de);if(Ir===null){De===null&&(De=ut);break}r&&De&&Ir.alternate===null&&o(V,De),G=v(Ir,G,Ze),gt===null?Ne=Ir:gt.sibling=Ir,gt=Ir,De=ut}if(yt.done)return c(V,De),dt&&jn(V,Ze),Ne;if(De===null){for(;!yt.done;Ze++,yt=Z.next())yt=fe(V,yt.value,de),yt!==null&&(G=v(yt,G,Ze),gt===null?Ne=yt:gt.sibling=yt,gt=yt);return dt&&jn(V,Ze),Ne}for(De=f(De);!yt.done;Ze++,yt=Z.next())yt=ne(De,V,Ze,yt.value,de),yt!==null&&(r&&yt.alternate!==null&&De.delete(yt.key===null?Ze:yt.key),G=v(yt,G,Ze),gt===null?Ne=yt:gt.sibling=yt,gt=yt);return r&&De.forEach(function(_C){return o(V,_C)}),dt&&jn(V,Ze),Ne}function Ct(V,G,Z,de){if(typeof Z=="object"&&Z!==null&&Z.type===k&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:e:{for(var Ne=Z.key;G!==null;){if(G.key===Ne){if(Ne=Z.type,Ne===k){if(G.tag===7){c(V,G.sibling),de=y(G,Z.props.children),de.return=V,V=de;break e}}else if(G.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===P&&_a(Ne)===G.type){c(V,G.sibling),de=y(G,Z.props),gu(de,Z),de.return=V,V=de;break e}c(V,G);break}else o(V,G);G=G.sibling}Z.type===k?(de=Sa(Z.props.children,V.mode,de,Z.key),de.return=V,V=de):(de=dd(Z.type,Z.key,Z.props,null,V.mode,de),gu(de,Z),de.return=V,V=de)}return T(V);case b:e:{for(Ne=Z.key;G!==null;){if(G.key===Ne)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){c(V,G.sibling),de=y(G,Z.children||[]),de.return=V,V=de;break e}else{c(V,G);break}else o(V,G);G=G.sibling}de=Mm(Z,V.mode,de),de.return=V,V=de}return T(V);case P:return Z=_a(Z),Ct(V,G,Z,de)}if(U(Z))return Le(V,G,Z,de);if(se(Z)){if(Ne=se(Z),typeof Ne!="function")throw Error(s(150));return Z=Ne.call(Z),Ue(V,G,Z,de)}if(typeof Z.then=="function")return Ct(V,G,vd(Z),de);if(Z.$$typeof===w)return Ct(V,G,md(V,Z),de);bd(V,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(c(V,G.sibling),de=y(G,Z),de.return=V,V=de):(c(V,G),de=Om(Z,V.mode,de),de.return=V,V=de),T(V)):c(V,G)}return function(V,G,Z,de){try{pu=0;var Ne=Ct(V,G,Z,de);return No=null,Ne}catch(De){if(De===Po||De===gd)throw De;var gt=as(29,De,null,V.mode);return gt.lanes=de,gt.return=V,gt}finally{}}}var La=_b(!0),Rb=_b(!1),pr=!1;function Km(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ym(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function gr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function yr(r,o,c){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(bt&2)!==0){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,o=cd(r),db(r,null,c),o}return ud(r,f,o,c),cd(r)}function yu(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var f=o.lanes;f&=r.pendingLanes,c|=f,o.lanes=c,Gi(r,c)}}function Wm(r,o){var c=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var T={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?y=v=T:v=v.next=T,c=c.next}while(c!==null);v===null?y=v=o:v=v.next=o}else y=v=o;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}var Xm=!1;function vu(){if(Xm){var r=Mo;if(r!==null)throw r}}function bu(r,o,c,f){Xm=!1;var y=r.updateQueue;pr=!1;var v=y.firstBaseUpdate,T=y.lastBaseUpdate,D=y.shared.pending;if(D!==null){y.shared.pending=null;var B=D,J=B.next;B.next=null,T===null?v=J:T.next=J,T=B;var ue=r.alternate;ue!==null&&(ue=ue.updateQueue,D=ue.lastBaseUpdate,D!==T&&(D===null?ue.firstBaseUpdate=J:D.next=J,ue.lastBaseUpdate=B))}if(v!==null){var fe=y.baseState;T=0,ue=J=B=null,D=v;do{var te=D.lane&-536870913,ne=te!==D.lane;if(ne?(lt&te)===te:(f&te)===te){te!==0&&te===Oo&&(Xm=!0),ue!==null&&(ue=ue.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Le=r,Ue=D;te=o;var Ct=c;switch(Ue.tag){case 1:if(Le=Ue.payload,typeof Le=="function"){fe=Le.call(Ct,fe,te);break e}fe=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ue.payload,te=typeof Le=="function"?Le.call(Ct,fe,te):Le,te==null)break e;fe=p({},fe,te);break e;case 2:pr=!0}}te=D.callback,te!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=y.callbacks,ne===null?y.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ue===null?(J=ue=ne,B=fe):ue=ue.next=ne,T|=te;if(D=D.next,D===null){if(D=y.shared.pending,D===null)break;ne=D,D=ne.next,ne.next=null,y.lastBaseUpdate=ne,y.shared.pending=null}}while(!0);ue===null&&(B=fe),y.baseState=B,y.firstBaseUpdate=J,y.lastBaseUpdate=ue,v===null&&(y.shared.lanes=0),Sr|=T,r.lanes=T,r.memoizedState=fe}}function Lb(r,o){if(typeof r!="function")throw Error(s(191,r));r.call(o)}function Cb(r,o){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)Lb(c[r],o)}var Fo=j(null),Ed=j(0);function Db(r,o){r=Hn,K(Ed,r),K(Fo,o),Hn=r|o.baseLanes}function Qm(){K(Ed,Hn),K(Fo,Fo.current)}function Zm(){Hn=Ed.current,F(Fo),F(Ed)}var os=j(null),Rs=null;function vr(r){var o=r.alternate;K(Wt,Wt.current&1),K(os,r),Rs===null&&(o===null||Fo.current!==null||o.memoizedState!==null)&&(Rs=r)}function Jm(r){K(Wt,Wt.current),K(os,r),Rs===null&&(Rs=r)}function Ib(r){r.tag===22?(K(Wt,Wt.current),K(os,r),Rs===null&&(Rs=r)):br()}function br(){K(Wt,Wt.current),K(os,os.current)}function ls(r){F(os),Rs===r&&(Rs=null),F(Wt)}var Wt=j(0);function kd(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||rg(c)||ag(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Pn=0,We=null,Rt=null,ti=null,Sd=!1,Bo=!1,Ca=!1,xd=0,Eu=0,Uo=null,yL=0;function Ht(){throw Error(s(321))}function ep(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!rs(r[c],o[c]))return!1;return!0}function tp(r,o,c,f,y,v){return Pn=v,We=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,O.H=r===null||r.memoizedState===null?pE:gp,Ca=!1,v=c(f,y),Ca=!1,Bo&&(v=Ob(o,c,f,y)),jb(r),v}function jb(r){O.H=xu;var o=Rt!==null&&Rt.next!==null;if(Pn=0,ti=Rt=We=null,Sd=!1,Eu=0,Uo=null,o)throw Error(s(300));r===null||ii||(r=r.dependencies,r!==null&&fd(r)&&(ii=!0))}function Ob(r,o,c,f){We=r;var y=0;do{if(Bo&&(Uo=null),Eu=0,Bo=!1,25<=y)throw Error(s(301));if(y+=1,ti=Rt=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}O.H=gE,v=o(c,f)}while(Bo);return v}function vL(){var r=O.H,o=r.useState()[0];return o=typeof o.then=="function"?ku(o):o,r=r.useState()[0],(Rt!==null?Rt.memoizedState:null)!==r&&(We.flags|=1024),o}function ip(){var r=xd!==0;return xd=0,r}function sp(r,o,c){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~c}function np(r){if(Sd){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Sd=!1}Pn=0,ti=Rt=We=null,Bo=!1,Eu=xd=0,Uo=null}function Ni(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?We.memoizedState=ti=r:ti=ti.next=r,ti}function Xt(){if(Rt===null){var r=We.alternate;r=r!==null?r.memoizedState:null}else r=Rt.next;var o=ti===null?We.memoizedState:ti.next;if(o!==null)ti=o,Rt=r;else{if(r===null)throw We.alternate===null?Error(s(467)):Error(s(310));Rt=r,r={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},ti===null?We.memoizedState=ti=r:ti=ti.next=r}return ti}function Td(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ku(r){var o=Eu;return Eu+=1,Uo===null&&(Uo=[]),r=Tb(Uo,r,o),o=We,(ti===null?o.memoizedState:ti.next)===null&&(o=o.alternate,O.H=o===null||o.memoizedState===null?pE:gp),r}function Ad(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ku(r);if(r.$$typeof===w)return bi(r)}throw Error(s(438,String(r)))}function rp(r){var o=null,c=We.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var f=We.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Td(),We.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(r),f=0;f<r;f++)c[f]=N;return o.index++,c}function Nn(r,o){return typeof o=="function"?o(r):o}function wd(r){var o=Xt();return ap(o,Rt,r)}function ap(r,o,c){var f=r.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=c;var y=r.baseQueue,v=f.pending;if(v!==null){if(y!==null){var T=y.next;y.next=v.next,v.next=T}o.baseQueue=y=v,f.pending=null}if(v=r.baseState,y===null)r.memoizedState=v;else{o=y.next;var D=T=null,B=null,J=o,ue=!1;do{var fe=J.lane&-536870913;if(fe!==J.lane?(lt&fe)===fe:(Pn&fe)===fe){var te=J.revertLane;if(te===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),fe===Oo&&(ue=!0);else if((Pn&te)===te){J=J.next,te===Oo&&(ue=!0);continue}else fe={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},B===null?(D=B=fe,T=v):B=B.next=fe,We.lanes|=te,Sr|=te;fe=J.action,Ca&&c(v,fe),v=J.hasEagerState?J.eagerState:c(v,fe)}else te={lane:fe,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},B===null?(D=B=te,T=v):B=B.next=te,We.lanes|=fe,Sr|=fe;J=J.next}while(J!==null&&J!==o);if(B===null?T=v:B.next=D,!rs(v,r.memoizedState)&&(ii=!0,ue&&(c=Mo,c!==null)))throw c;r.memoizedState=v,r.baseState=T,r.baseQueue=B,f.lastRenderedState=v}return y===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function op(r){var o=Xt(),c=o.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=r;var f=c.dispatch,y=c.pending,v=o.memoizedState;if(y!==null){c.pending=null;var T=y=y.next;do v=r(v,T.action),T=T.next;while(T!==y);rs(v,o.memoizedState)||(ii=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),c.lastRenderedState=v}return[v,f]}function Mb(r,o,c){var f=We,y=Xt(),v=dt;if(v){if(c===void 0)throw Error(s(407));c=c()}else c=o();var T=!rs((Rt||y).memoizedState,c);if(T&&(y.memoizedState=c,ii=!0),y=y.queue,cp(Fb.bind(null,f,y,r),[r]),y.getSnapshot!==o||T||ti!==null&&ti.memoizedState.tag&1){if(f.flags|=2048,$o(9,{destroy:void 0},Nb.bind(null,f,y,c,o),null),It===null)throw Error(s(349));v||(Pn&127)!==0||Pb(f,o,c)}return c}function Pb(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=We.updateQueue,o===null?(o=Td(),We.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function Nb(r,o,c,f){o.value=c,o.getSnapshot=f,Bb(o)&&Ub(r)}function Fb(r,o,c){return c(function(){Bb(o)&&Ub(r)})}function Bb(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!rs(r,c)}catch{return!0}}function Ub(r){var o=ka(r,2);o!==null&&Qi(o,r,2)}function lp(r){var o=Ni();if(typeof r=="function"){var c=r;if(r=c(),Ca){Ns(!0);try{c()}finally{Ns(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:r},o}function $b(r,o,c,f){return r.baseState=c,ap(r,Rt,typeof f=="function"?f:Nn)}function bL(r,o,c,f,y){if(Ld(r))throw Error(s(485));if(r=o.action,r!==null){var v={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){v.listeners.push(T)}};O.T!==null?c(!0):v.isTransition=!1,f(v),c=o.pending,c===null?(v.next=o.pending=v,zb(o,v)):(v.next=c.next,o.pending=c.next=v)}}function zb(r,o){var c=o.action,f=o.payload,y=r.state;if(o.isTransition){var v=O.T,T={};O.T=T;try{var D=c(y,f),B=O.S;B!==null&&B(T,D),Gb(r,o,D)}catch(J){up(r,o,J)}finally{v!==null&&T.types!==null&&(v.types=T.types),O.T=v}}else try{v=c(y,f),Gb(r,o,v)}catch(J){up(r,o,J)}}function Gb(r,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){Hb(r,o,f)},function(f){return up(r,o,f)}):Hb(r,o,c)}function Hb(r,o,c){o.status="fulfilled",o.value=c,qb(o),r.state=c,o=r.pending,o!==null&&(c=o.next,c===o?r.pending=null:(c=c.next,o.next=c,zb(r,c)))}function up(r,o,c){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=c,qb(o),o=o.next;while(o!==f)}r.action=null}function qb(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function Vb(r,o){return o}function Kb(r,o){if(dt){var c=It.formState;if(c!==null){e:{var f=We;if(dt){if(Mt){t:{for(var y=Mt,v=_s;y.nodeType!==8;){if(!v){y=null;break t}if(y=Ls(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){Mt=Ls(y.nextSibling),f=y.data==="F!";break e}}fr(f)}f=!1}f&&(o=c[0])}}return c=Ni(),c.memoizedState=c.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vb,lastRenderedState:o},c.queue=f,c=hE.bind(null,We,f),f.dispatch=c,f=lp(!1),v=pp.bind(null,We,!1,f.queue),f=Ni(),y={state:o,dispatch:null,action:r,pending:null},f.queue=y,c=bL.bind(null,We,y,v,c),y.dispatch=c,f.memoizedState=r,[o,c,!1]}function Yb(r){var o=Xt();return Wb(o,Rt,r)}function Wb(r,o,c){if(o=ap(r,o,Vb)[0],r=wd(Nn)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=ku(o)}catch(T){throw T===Po?gd:T}else f=o;o=Xt();var y=o.queue,v=y.dispatch;return c!==o.memoizedState&&(We.flags|=2048,$o(9,{destroy:void 0},EL.bind(null,y,c),null)),[f,v,r]}function EL(r,o){r.action=o}function Xb(r){var o=Xt(),c=Rt;if(c!==null)return Wb(o,c,r);Xt(),o=o.memoizedState,c=Xt();var f=c.queue.dispatch;return c.memoizedState=r,[o,f,!1]}function $o(r,o,c,f){return r={tag:r,create:c,deps:f,inst:o,next:null},o=We.updateQueue,o===null&&(o=Td(),We.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=r.next=r:(f=c.next,c.next=r,r.next=f,o.lastEffect=r),r}function Qb(){return Xt().memoizedState}function _d(r,o,c,f){var y=Ni();We.flags|=r,y.memoizedState=$o(1|o,{destroy:void 0},c,f===void 0?null:f)}function Rd(r,o,c,f){var y=Xt();f=f===void 0?null:f;var v=y.memoizedState.inst;Rt!==null&&f!==null&&ep(f,Rt.memoizedState.deps)?y.memoizedState=$o(o,v,c,f):(We.flags|=r,y.memoizedState=$o(1|o,v,c,f))}function Zb(r,o){_d(8390656,8,r,o)}function cp(r,o){Rd(2048,8,r,o)}function kL(r){We.flags|=4;var o=We.updateQueue;if(o===null)o=Td(),We.updateQueue=o,o.events=[r];else{var c=o.events;c===null?o.events=[r]:c.push(r)}}function Jb(r){var o=Xt().memoizedState;return kL({ref:o,nextImpl:r}),function(){if((bt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function eE(r,o){return Rd(4,2,r,o)}function tE(r,o){return Rd(4,4,r,o)}function iE(r,o){if(typeof o=="function"){r=r();var c=o(r);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function sE(r,o,c){c=c!=null?c.concat([r]):null,Rd(4,4,iE.bind(null,o,r),c)}function dp(){}function nE(r,o){var c=Xt();o=o===void 0?null:o;var f=c.memoizedState;return o!==null&&ep(o,f[1])?f[0]:(c.memoizedState=[r,o],r)}function rE(r,o){var c=Xt();o=o===void 0?null:o;var f=c.memoizedState;if(o!==null&&ep(o,f[1]))return f[0];if(f=r(),Ca){Ns(!0);try{r()}finally{Ns(!1)}}return c.memoizedState=[f,o],f}function hp(r,o,c){return c===void 0||(Pn&1073741824)!==0&&(lt&261930)===0?r.memoizedState=o:(r.memoizedState=c,r=ak(),We.lanes|=r,Sr|=r,c)}function aE(r,o,c,f){return rs(c,o)?c:Fo.current!==null?(r=hp(r,c,f),rs(r,o)||(ii=!0),r):(Pn&42)===0||(Pn&1073741824)!==0&&(lt&261930)===0?(ii=!0,r.memoizedState=c):(r=ak(),We.lanes|=r,Sr|=r,o)}function oE(r,o,c,f,y){var v=q.p;q.p=v!==0&&8>v?v:8;var T=O.T,D={};O.T=D,pp(r,!1,o,c);try{var B=y(),J=O.S;if(J!==null&&J(D,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ue=gL(B,f);Su(r,o,ue,ds(r))}else Su(r,o,f,ds(r))}catch(fe){Su(r,o,{then:function(){},status:"rejected",reason:fe},ds())}finally{q.p=v,T!==null&&D.types!==null&&(T.types=D.types),O.T=T}}function SL(){}function fp(r,o,c,f){if(r.tag!==5)throw Error(s(476));var y=lE(r).queue;oE(r,y,o,W,c===null?SL:function(){return uE(r),c(f)})}function lE(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:W},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:c},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function uE(r){var o=lE(r);o.next===null&&(o=r.alternate.memoizedState),Su(r,o.next.queue,{},ds())}function mp(){return bi(Bu)}function cE(){return Xt().memoizedState}function dE(){return Xt().memoizedState}function xL(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var c=ds();r=gr(c);var f=yr(o,r,c);f!==null&&(Qi(f,o,c),yu(f,o,c)),o={cache:Gm()},r.payload=o;return}o=o.return}}function TL(r,o,c){var f=ds();c={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ld(r)?fE(o,c):(c=Im(r,o,c,f),c!==null&&(Qi(c,r,f),mE(c,o,f)))}function hE(r,o,c){var f=ds();Su(r,o,c,f)}function Su(r,o,c,f){var y={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ld(r))fE(o,y);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var T=o.lastRenderedState,D=v(T,c);if(y.hasEagerState=!0,y.eagerState=D,rs(D,T))return ud(r,o,y,0),It===null&&ld(),!1}catch{}finally{}if(c=Im(r,o,y,f),c!==null)return Qi(c,r,f),mE(c,o,f),!0}return!1}function pp(r,o,c,f){if(f={lane:2,revertLane:Kp(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Ld(r)){if(o)throw Error(s(479))}else o=Im(r,c,f,2),o!==null&&Qi(o,r,2)}function Ld(r){var o=r.alternate;return r===We||o!==null&&o===We}function fE(r,o){Bo=Sd=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function mE(r,o,c){if((c&4194048)!==0){var f=o.lanes;f&=r.pendingLanes,c|=f,o.lanes=c,Gi(r,c)}}var xu={readContext:bi,use:Ad,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht};xu.useEffectEvent=Ht;var pE={readContext:bi,use:Ad,useCallback:function(r,o){return Ni().memoizedState=[r,o===void 0?null:o],r},useContext:bi,useEffect:Zb,useImperativeHandle:function(r,o,c){c=c!=null?c.concat([r]):null,_d(4194308,4,iE.bind(null,o,r),c)},useLayoutEffect:function(r,o){return _d(4194308,4,r,o)},useInsertionEffect:function(r,o){_d(4,2,r,o)},useMemo:function(r,o){var c=Ni();o=o===void 0?null:o;var f=r();if(Ca){Ns(!0);try{r()}finally{Ns(!1)}}return c.memoizedState=[f,o],f},useReducer:function(r,o,c){var f=Ni();if(c!==void 0){var y=c(o);if(Ca){Ns(!0);try{c(o)}finally{Ns(!1)}}}else y=o;return f.memoizedState=f.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},f.queue=r,r=r.dispatch=TL.bind(null,We,r),[f.memoizedState,r]},useRef:function(r){var o=Ni();return r={current:r},o.memoizedState=r},useState:function(r){r=lp(r);var o=r.queue,c=hE.bind(null,We,o);return o.dispatch=c,[r.memoizedState,c]},useDebugValue:dp,useDeferredValue:function(r,o){var c=Ni();return hp(c,r,o)},useTransition:function(){var r=lp(!1);return r=oE.bind(null,We,r.queue,!0,!1),Ni().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,c){var f=We,y=Ni();if(dt){if(c===void 0)throw Error(s(407));c=c()}else{if(c=o(),It===null)throw Error(s(349));(lt&127)!==0||Pb(f,o,c)}y.memoizedState=c;var v={value:c,getSnapshot:o};return y.queue=v,Zb(Fb.bind(null,f,v,r),[r]),f.flags|=2048,$o(9,{destroy:void 0},Nb.bind(null,f,v,c,o),null),c},useId:function(){var r=Ni(),o=It.identifierPrefix;if(dt){var c=nn,f=sn;c=(f&~(1<<32-wi(f)-1)).toString(32)+c,o="_"+o+"R_"+c,c=xd++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=yL++,o="_"+o+"r_"+c.toString(32)+"_";return r.memoizedState=o},useHostTransitionStatus:mp,useFormState:Kb,useActionState:Kb,useOptimistic:function(r){var o=Ni();o.memoizedState=o.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=pp.bind(null,We,!0,c),c.dispatch=o,[r,o]},useMemoCache:rp,useCacheRefresh:function(){return Ni().memoizedState=xL.bind(null,We)},useEffectEvent:function(r){var o=Ni(),c={impl:r};return o.memoizedState=c,function(){if((bt&2)!==0)throw Error(s(440));return c.impl.apply(void 0,arguments)}}},gp={readContext:bi,use:Ad,useCallback:nE,useContext:bi,useEffect:cp,useImperativeHandle:sE,useInsertionEffect:eE,useLayoutEffect:tE,useMemo:rE,useReducer:wd,useRef:Qb,useState:function(){return wd(Nn)},useDebugValue:dp,useDeferredValue:function(r,o){var c=Xt();return aE(c,Rt.memoizedState,r,o)},useTransition:function(){var r=wd(Nn)[0],o=Xt().memoizedState;return[typeof r=="boolean"?r:ku(r),o]},useSyncExternalStore:Mb,useId:cE,useHostTransitionStatus:mp,useFormState:Yb,useActionState:Yb,useOptimistic:function(r,o){var c=Xt();return $b(c,Rt,r,o)},useMemoCache:rp,useCacheRefresh:dE};gp.useEffectEvent=Jb;var gE={readContext:bi,use:Ad,useCallback:nE,useContext:bi,useEffect:cp,useImperativeHandle:sE,useInsertionEffect:eE,useLayoutEffect:tE,useMemo:rE,useReducer:op,useRef:Qb,useState:function(){return op(Nn)},useDebugValue:dp,useDeferredValue:function(r,o){var c=Xt();return Rt===null?hp(c,r,o):aE(c,Rt.memoizedState,r,o)},useTransition:function(){var r=op(Nn)[0],o=Xt().memoizedState;return[typeof r=="boolean"?r:ku(r),o]},useSyncExternalStore:Mb,useId:cE,useHostTransitionStatus:mp,useFormState:Xb,useActionState:Xb,useOptimistic:function(r,o){var c=Xt();return Rt!==null?$b(c,Rt,r,o):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:rp,useCacheRefresh:dE};gE.useEffectEvent=Jb;function yp(r,o,c,f){o=r.memoizedState,c=c(f,o),c=c==null?o:p({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var vp={enqueueSetState:function(r,o,c){r=r._reactInternals;var f=ds(),y=gr(f);y.payload=o,c!=null&&(y.callback=c),o=yr(r,y,f),o!==null&&(Qi(o,r,f),yu(o,r,f))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var f=ds(),y=gr(f);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=yr(r,y,f),o!==null&&(Qi(o,r,f),yu(o,r,f))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=ds(),f=gr(c);f.tag=2,o!=null&&(f.callback=o),o=yr(r,f,c),o!==null&&(Qi(o,r,c),yu(o,r,c))}};function yE(r,o,c,f,y,v,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,v,T):o.prototype&&o.prototype.isPureReactComponent?!uu(c,f)||!uu(y,v):!0}function vE(r,o,c,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==r&&vp.enqueueReplaceState(o,o.state,null)}function Da(r,o){var c=o;if("ref"in o){c={};for(var f in o)f!=="ref"&&(c[f]=o[f])}if(r=r.defaultProps){c===o&&(c=p({},c));for(var y in r)c[y]===void 0&&(c[y]=r[y])}return c}function bE(r){od(r)}function EE(r){console.error(r)}function kE(r){od(r)}function Cd(r,o){try{var c=r.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function SE(r,o,c){try{var f=r.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function bp(r,o,c){return c=gr(c),c.tag=3,c.payload={element:null},c.callback=function(){Cd(r,o)},c}function xE(r){return r=gr(r),r.tag=3,r}function TE(r,o,c,f){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var v=f.value;r.payload=function(){return y(v)},r.callback=function(){SE(o,c,f)}}var T=c.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){SE(o,c,f),typeof y!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var D=f.stack;this.componentDidCatch(f.value,{componentStack:D!==null?D:""})})}function AL(r,o,c,f,y){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=c.alternate,o!==null&&jo(o,c,y,!0),c=os.current,c!==null){switch(c.tag){case 31:case 13:return Rs===null?zd():c.alternate===null&&qt===0&&(qt=3),c.flags&=-257,c.flags|=65536,c.lanes=y,f===yd?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([f]):o.add(f),Hp(r,f,y)),!1;case 22:return c.flags|=65536,f===yd?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([f]):c.add(f)),Hp(r,f,y)),!1}throw Error(s(435,c.tag))}return Hp(r,f,y),zd(),!1}if(dt)return o=os.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,f!==Fm&&(r=Error(s(422),{cause:f}),hu(Ts(r,c)))):(f!==Fm&&(o=Error(s(423),{cause:f}),hu(Ts(o,c))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,f=Ts(f,c),y=bp(r.stateNode,f,y),Wm(r,y),qt!==4&&(qt=2)),!1;var v=Error(s(520),{cause:f});if(v=Ts(v,c),Du===null?Du=[v]:Du.push(v),qt!==4&&(qt=2),o===null)return!0;f=Ts(f,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,r=y&-y,c.lanes|=r,r=bp(c.stateNode,f,r),Wm(c,r),!1;case 1:if(o=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(xr===null||!xr.has(v))))return c.flags|=65536,y&=-y,c.lanes|=y,y=xE(y),TE(y,r,c,f),Wm(c,y),!1}c=c.return}while(c!==null);return!1}var Ep=Error(s(461)),ii=!1;function Ei(r,o,c,f){o.child=r===null?Rb(o,null,c,f):La(o,r.child,c,f)}function AE(r,o,c,f,y){c=c.render;var v=o.ref;if("ref"in f){var T={};for(var D in f)D!=="ref"&&(T[D]=f[D])}else T=f;return Aa(o),f=tp(r,o,c,T,v,y),D=ip(),r!==null&&!ii?(sp(r,o,y),Fn(r,o,y)):(dt&&D&&Pm(o),o.flags|=1,Ei(r,o,f,y),o.child)}function wE(r,o,c,f,y){if(r===null){var v=c.type;return typeof v=="function"&&!jm(v)&&v.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=v,_E(r,o,v,f,y)):(r=dd(c.type,null,f,o,o.mode,y),r.ref=o.ref,r.return=o,o.child=r)}if(v=r.child,!Rp(r,y)){var T=v.memoizedProps;if(c=c.compare,c=c!==null?c:uu,c(T,f)&&r.ref===o.ref)return Fn(r,o,y)}return o.flags|=1,r=In(v,f),r.ref=o.ref,r.return=o,o.child=r}function _E(r,o,c,f,y){if(r!==null){var v=r.memoizedProps;if(uu(v,f)&&r.ref===o.ref)if(ii=!1,o.pendingProps=f=v,Rp(r,y))(r.flags&131072)!==0&&(ii=!0);else return o.lanes=r.lanes,Fn(r,o,y)}return kp(r,o,c,f,y)}function RE(r,o,c,f){var y=f.children,v=r!==null?r.memoizedState:null;if(r===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((o.flags&128)!==0){if(v=v!==null?v.baseLanes|c:c,r!==null){for(f=o.child=r.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;f=y&~v}else f=0,o.child=null;return LE(r,o,v,c,f)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&pd(o,v!==null?v.cachePool:null),v!==null?Db(o,v):Qm(),Ib(o);else return f=o.lanes=536870912,LE(r,o,v!==null?v.baseLanes|c:c,c,f)}else v!==null?(pd(o,v.cachePool),Db(o,v),br(),o.memoizedState=null):(r!==null&&pd(o,null),Qm(),br());return Ei(r,o,y,c),o.child}function Tu(r,o){return r!==null&&r.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function LE(r,o,c,f,y){var v=qm();return v=v===null?null:{parent:ei._currentValue,pool:v},o.memoizedState={baseLanes:c,cachePool:v},r!==null&&pd(o,null),Qm(),Ib(o),r!==null&&jo(r,o,f,!0),o.childLanes=y,null}function Dd(r,o){return o=jd({mode:o.mode,children:o.children},r.mode),o.ref=r.ref,r.child=o,o.return=r,o}function CE(r,o,c){return La(o,r.child,null,c),r=Dd(o,o.pendingProps),r.flags|=2,ls(o),o.memoizedState=null,r}function wL(r,o,c){var f=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,r===null){if(dt){if(f.mode==="hidden")return r=Dd(o,f),o.lanes=536870912,Tu(null,r);if(Jm(o),(r=Mt)?(r=zk(r,_s),r=r!==null&&r.data==="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:dr!==null?{id:sn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},c=fb(r),c.return=o,o.child=c,vi=o,Mt=null)):r=null,r===null)throw fr(o);return o.lanes=536870912,null}return Dd(o,f)}var v=r.memoizedState;if(v!==null){var T=v.dehydrated;if(Jm(o),y)if(o.flags&256)o.flags&=-257,o=CE(r,o,c);else if(o.memoizedState!==null)o.child=r.child,o.flags|=128,o=null;else throw Error(s(558));else if(ii||jo(r,o,c,!1),y=(c&r.childLanes)!==0,ii||y){if(f=It,f!==null&&(T=Hi(f,c),T!==0&&T!==v.retryLane))throw v.retryLane=T,ka(r,T),Qi(f,r,T),Ep;zd(),o=CE(r,o,c)}else r=v.treeContext,Mt=Ls(T.nextSibling),vi=o,dt=!0,hr=null,_s=!1,r!==null&&gb(o,r),o=Dd(o,f),o.flags|=4096;return o}return r=In(r.child,{mode:f.mode,children:f.children}),r.ref=o.ref,o.child=r,r.return=o,r}function Id(r,o){var c=o.ref;if(c===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(r===null||r.ref!==c)&&(o.flags|=4194816)}}function kp(r,o,c,f,y){return Aa(o),c=tp(r,o,c,f,void 0,y),f=ip(),r!==null&&!ii?(sp(r,o,y),Fn(r,o,y)):(dt&&f&&Pm(o),o.flags|=1,Ei(r,o,c,y),o.child)}function DE(r,o,c,f,y,v){return Aa(o),o.updateQueue=null,c=Ob(o,f,c,y),jb(r),f=ip(),r!==null&&!ii?(sp(r,o,v),Fn(r,o,v)):(dt&&f&&Pm(o),o.flags|=1,Ei(r,o,c,v),o.child)}function IE(r,o,c,f,y){if(Aa(o),o.stateNode===null){var v=Lo,T=c.contextType;typeof T=="object"&&T!==null&&(v=bi(T)),v=new c(f,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=vp,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=f,v.state=o.memoizedState,v.refs={},Km(o),T=c.contextType,v.context=typeof T=="object"&&T!==null?bi(T):Lo,v.state=o.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(yp(o,c,T,f),v.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(T=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),T!==v.state&&vp.enqueueReplaceState(v,v.state,null),bu(o,f,v,y),vu(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(r===null){v=o.stateNode;var D=o.memoizedProps,B=Da(c,D);v.props=B;var J=v.context,ue=c.contextType;T=Lo,typeof ue=="object"&&ue!==null&&(T=bi(ue));var fe=c.getDerivedStateFromProps;ue=typeof fe=="function"||typeof v.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,ue||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D||J!==T)&&vE(o,v,f,T),pr=!1;var te=o.memoizedState;v.state=te,bu(o,f,v,y),vu(),J=o.memoizedState,D||te!==J||pr?(typeof fe=="function"&&(yp(o,c,fe,f),J=o.memoizedState),(B=pr||yE(o,c,B,f,te,J,T))?(ue||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=J),v.props=f,v.state=J,v.context=T,f=B):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{v=o.stateNode,Ym(r,o),T=o.memoizedProps,ue=Da(c,T),v.props=ue,fe=o.pendingProps,te=v.context,J=c.contextType,B=Lo,typeof J=="object"&&J!==null&&(B=bi(J)),D=c.getDerivedStateFromProps,(J=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==fe||te!==B)&&vE(o,v,f,B),pr=!1,te=o.memoizedState,v.state=te,bu(o,f,v,y),vu();var ne=o.memoizedState;T!==fe||te!==ne||pr||r!==null&&r.dependencies!==null&&fd(r.dependencies)?(typeof D=="function"&&(yp(o,c,D,f),ne=o.memoizedState),(ue=pr||yE(o,c,ue,f,te,ne,B)||r!==null&&r.dependencies!==null&&fd(r.dependencies))?(J||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,ne,B),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,ne,B)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===r.memoizedProps&&te===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&te===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ne),v.props=f,v.state=ne,v.context=B,f=ue):(typeof v.componentDidUpdate!="function"||T===r.memoizedProps&&te===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&te===r.memoizedState||(o.flags|=1024),f=!1)}return v=f,Id(r,o),f=(o.flags&128)!==0,v||f?(v=o.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,r!==null&&f?(o.child=La(o,r.child,null,y),o.child=La(o,null,c,y)):Ei(r,o,c,y),o.memoizedState=v.state,r=o.child):r=Fn(r,o,y),r}function jE(r,o,c,f){return xa(),o.flags|=256,Ei(r,o,c,f),o.child}var Sp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xp(r){return{baseLanes:r,cachePool:Sb()}}function Tp(r,o,c){return r=r!==null?r.childLanes&~c:0,o&&(r|=cs),r}function OE(r,o,c){var f=o.pendingProps,y=!1,v=(o.flags&128)!==0,T;if((T=v)||(T=r!==null&&r.memoizedState===null?!1:(Wt.current&2)!==0),T&&(y=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,r===null){if(dt){if(y?vr(o):br(),(r=Mt)?(r=zk(r,_s),r=r!==null&&r.data!=="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:dr!==null?{id:sn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},c=fb(r),c.return=o,o.child=c,vi=o,Mt=null)):r=null,r===null)throw fr(o);return ag(r)?o.lanes=32:o.lanes=536870912,null}var D=f.children;return f=f.fallback,y?(br(),y=o.mode,D=jd({mode:"hidden",children:D},y),f=Sa(f,y,c,null),D.return=o,f.return=o,D.sibling=f,o.child=D,f=o.child,f.memoizedState=xp(c),f.childLanes=Tp(r,T,c),o.memoizedState=Sp,Tu(null,f)):(vr(o),Ap(o,D))}var B=r.memoizedState;if(B!==null&&(D=B.dehydrated,D!==null)){if(v)o.flags&256?(vr(o),o.flags&=-257,o=wp(r,o,c)):o.memoizedState!==null?(br(),o.child=r.child,o.flags|=128,o=null):(br(),D=f.fallback,y=o.mode,f=jd({mode:"visible",children:f.children},y),D=Sa(D,y,c,null),D.flags|=2,f.return=o,D.return=o,f.sibling=D,o.child=f,La(o,r.child,null,c),f=o.child,f.memoizedState=xp(c),f.childLanes=Tp(r,T,c),o.memoizedState=Sp,o=Tu(null,f));else if(vr(o),ag(D)){if(T=D.nextSibling&&D.nextSibling.dataset,T)var J=T.dgst;T=J,f=Error(s(419)),f.stack="",f.digest=T,hu({value:f,source:null,stack:null}),o=wp(r,o,c)}else if(ii||jo(r,o,c,!1),T=(c&r.childLanes)!==0,ii||T){if(T=It,T!==null&&(f=Hi(T,c),f!==0&&f!==B.retryLane))throw B.retryLane=f,ka(r,f),Qi(T,r,f),Ep;rg(D)||zd(),o=wp(r,o,c)}else rg(D)?(o.flags|=192,o.child=r.child,o=null):(r=B.treeContext,Mt=Ls(D.nextSibling),vi=o,dt=!0,hr=null,_s=!1,r!==null&&gb(o,r),o=Ap(o,f.children),o.flags|=4096);return o}return y?(br(),D=f.fallback,y=o.mode,B=r.child,J=B.sibling,f=In(B,{mode:"hidden",children:f.children}),f.subtreeFlags=B.subtreeFlags&65011712,J!==null?D=In(J,D):(D=Sa(D,y,c,null),D.flags|=2),D.return=o,f.return=o,f.sibling=D,o.child=f,Tu(null,f),f=o.child,D=r.child.memoizedState,D===null?D=xp(c):(y=D.cachePool,y!==null?(B=ei._currentValue,y=y.parent!==B?{parent:B,pool:B}:y):y=Sb(),D={baseLanes:D.baseLanes|c,cachePool:y}),f.memoizedState=D,f.childLanes=Tp(r,T,c),o.memoizedState=Sp,Tu(r.child,f)):(vr(o),c=r.child,r=c.sibling,c=In(c,{mode:"visible",children:f.children}),c.return=o,c.sibling=null,r!==null&&(T=o.deletions,T===null?(o.deletions=[r],o.flags|=16):T.push(r)),o.child=c,o.memoizedState=null,c)}function Ap(r,o){return o=jd({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function jd(r,o){return r=as(22,r,null,o),r.lanes=0,r}function wp(r,o,c){return La(o,r.child,null,c),r=Ap(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function ME(r,o,c){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),$m(r.return,o,c)}function _p(r,o,c,f,y,v){var T=r.memoizedState;T===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y,treeForkCount:v}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=f,T.tail=c,T.tailMode=y,T.treeForkCount=v)}function PE(r,o,c){var f=o.pendingProps,y=f.revealOrder,v=f.tail;f=f.children;var T=Wt.current,D=(T&2)!==0;if(D?(T=T&1|2,o.flags|=128):T&=1,K(Wt,T),Ei(r,o,f,c),f=dt?du:0,!D&&r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ME(r,c,o);else if(r.tag===19)ME(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(y){case"forwards":for(c=o.child,y=null;c!==null;)r=c.alternate,r!==null&&kd(r)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),_p(o,!1,y,c,v,f);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(r=y.alternate,r!==null&&kd(r)===null){o.child=y;break}r=y.sibling,y.sibling=c,c=y,y=r}_p(o,!0,c,null,v,f);break;case"together":_p(o,!1,null,null,void 0,f);break;default:o.memoizedState=null}return o.child}function Fn(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),Sr|=o.lanes,(c&o.childLanes)===0)if(r!==null){if(jo(r,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(s(153));if(o.child!==null){for(r=o.child,c=In(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=In(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function Rp(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&fd(r)))}function _L(r,o,c){switch(o.tag){case 3:Ee(o,o.stateNode.containerInfo),mr(o,ei,r.memoizedState.cache),xa();break;case 27:case 5:ot(o);break;case 4:Ee(o,o.stateNode.containerInfo);break;case 10:mr(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Jm(o),null;break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(vr(o),o.flags|=128,null):(c&o.child.childLanes)!==0?OE(r,o,c):(vr(o),r=Fn(r,o,c),r!==null?r.sibling:null);vr(o);break;case 19:var y=(r.flags&128)!==0;if(f=(c&o.childLanes)!==0,f||(jo(r,o,c,!1),f=(c&o.childLanes)!==0),y){if(f)return PE(r,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),K(Wt,Wt.current),f)break;return null;case 22:return o.lanes=0,RE(r,o,c,o.pendingProps);case 24:mr(o,ei,r.memoizedState.cache)}return Fn(r,o,c)}function NE(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps)ii=!0;else{if(!Rp(r,c)&&(o.flags&128)===0)return ii=!1,_L(r,o,c);ii=(r.flags&131072)!==0}else ii=!1,dt&&(o.flags&1048576)!==0&&pb(o,du,o.index);switch(o.lanes=0,o.tag){case 16:e:{var f=o.pendingProps;if(r=_a(o.elementType),o.type=r,typeof r=="function")jm(r)?(f=Da(r,f),o.tag=1,o=IE(null,o,r,f,c)):(o.tag=0,o=kp(null,o,r,f,c));else{if(r!=null){var y=r.$$typeof;if(y===R){o.tag=11,o=AE(null,o,r,f,c);break e}else if(y===L){o.tag=14,o=wE(null,o,r,f,c);break e}}throw o=ve(r)||r,Error(s(306,o,""))}}return o;case 0:return kp(r,o,o.type,o.pendingProps,c);case 1:return f=o.type,y=Da(f,o.pendingProps),IE(r,o,f,y,c);case 3:e:{if(Ee(o,o.stateNode.containerInfo),r===null)throw Error(s(387));f=o.pendingProps;var v=o.memoizedState;y=v.element,Ym(r,o),bu(o,f,null,c);var T=o.memoizedState;if(f=T.cache,mr(o,ei,f),f!==v.cache&&zm(o,[ei],c,!0),vu(),f=T.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=jE(r,o,f,c);break e}else if(f!==y){y=Ts(Error(s(424)),o),hu(y),o=jE(r,o,f,c);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Mt=Ls(r.firstChild),vi=o,dt=!0,hr=null,_s=!0,c=Rb(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(xa(),f===y){o=Fn(r,o,c);break e}Ei(r,o,f,c)}o=o.child}return o;case 26:return Id(r,o),r===null?(c=Yk(o.type,null,o.pendingProps,null))?o.memoizedState=c:dt||(c=o.type,r=o.pendingProps,f=Wd(me.current).createElement(c),f[yi]=o,f[qi]=r,ki(f,c,r),di(f),o.stateNode=f):o.memoizedState=Yk(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return ot(o),r===null&&dt&&(f=o.stateNode=qk(o.type,o.pendingProps,me.current),vi=o,_s=!0,y=Mt,_r(o.type)?(og=y,Mt=Ls(f.firstChild)):Mt=y),Ei(r,o,o.pendingProps.children,c),Id(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&dt&&((y=f=Mt)&&(f=sC(f,o.type,o.pendingProps,_s),f!==null?(o.stateNode=f,vi=o,Mt=Ls(f.firstChild),_s=!1,y=!0):y=!1),y||fr(o)),ot(o),y=o.type,v=o.pendingProps,T=r!==null?r.memoizedProps:null,f=v.children,ig(y,v)?f=null:T!==null&&ig(y,T)&&(o.flags|=32),o.memoizedState!==null&&(y=tp(r,o,vL,null,null,c),Bu._currentValue=y),Id(r,o),Ei(r,o,f,c),o.child;case 6:return r===null&&dt&&((r=c=Mt)&&(c=nC(c,o.pendingProps,_s),c!==null?(o.stateNode=c,vi=o,Mt=null,r=!0):r=!1),r||fr(o)),null;case 13:return OE(r,o,c);case 4:return Ee(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=La(o,null,f,c):Ei(r,o,f,c),o.child;case 11:return AE(r,o,o.type,o.pendingProps,c);case 7:return Ei(r,o,o.pendingProps,c),o.child;case 8:return Ei(r,o,o.pendingProps.children,c),o.child;case 12:return Ei(r,o,o.pendingProps.children,c),o.child;case 10:return f=o.pendingProps,mr(o,o.type,f.value),Ei(r,o,f.children,c),o.child;case 9:return y=o.type._context,f=o.pendingProps.children,Aa(o),y=bi(y),f=f(y),o.flags|=1,Ei(r,o,f,c),o.child;case 14:return wE(r,o,o.type,o.pendingProps,c);case 15:return _E(r,o,o.type,o.pendingProps,c);case 19:return PE(r,o,c);case 31:return wL(r,o,c);case 22:return RE(r,o,c,o.pendingProps);case 24:return Aa(o),f=bi(ei),r===null?(y=qm(),y===null&&(y=It,v=Gm(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=c),y=v),o.memoizedState={parent:f,cache:y},Km(o),mr(o,ei,y)):((r.lanes&c)!==0&&(Ym(r,o),bu(o,null,null,c),vu()),y=r.memoizedState,v=o.memoizedState,y.parent!==f?(y={parent:f,cache:f},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),mr(o,ei,f)):(f=v.cache,mr(o,ei,f),f!==y.cache&&zm(o,[ei],c,!0))),Ei(r,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function Bn(r){r.flags|=4}function Lp(r,o,c,f,y){if((o=(r.mode&32)!==0)&&(o=!1),o){if(r.flags|=16777216,(y&335544128)===y)if(r.stateNode.complete)r.flags|=8192;else if(ck())r.flags|=8192;else throw Ra=yd,Vm}else r.flags&=-16777217}function FE(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Jk(o))if(ck())r.flags|=8192;else throw Ra=yd,Vm}function Od(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?_i():536870912,r.lanes|=o,qo|=o)}function Au(r,o){if(!dt)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Pt(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,f=0;if(o)for(var y=r.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=f,r.childLanes=c,o}function RL(r,o,c){var f=o.pendingProps;switch(Nm(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(o),null;case 1:return Pt(o),null;case 3:return c=o.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Mn(ei),Oe(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Io(o)?Bn(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Bm())),Pt(o),null;case 26:var y=o.type,v=o.memoizedState;return r===null?(Bn(o),v!==null?(Pt(o),FE(o,v)):(Pt(o),Lp(o,y,null,f,c))):v?v!==r.memoizedState?(Bn(o),Pt(o),FE(o,v)):(Pt(o),o.flags&=-16777217):(r=r.memoizedProps,r!==f&&Bn(o),Pt(o),Lp(o,y,r,f,c)),null;case 27:if(vt(o),c=me.current,y=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==f&&Bn(o);else{if(!f){if(o.stateNode===null)throw Error(s(166));return Pt(o),null}r=ae.current,Io(o)?yb(o):(r=qk(y,f,c),o.stateNode=r,Bn(o))}return Pt(o),null;case 5:if(vt(o),y=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==f&&Bn(o);else{if(!f){if(o.stateNode===null)throw Error(s(166));return Pt(o),null}if(v=ae.current,Io(o))yb(o);else{var T=Wd(me.current);switch(v){case 1:v=T.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:v=T.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":v=T.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":v=T.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":v=T.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof f.is=="string"?T.createElement("select",{is:f.is}):T.createElement("select"),f.multiple?v.multiple=!0:f.size&&(v.size=f.size);break;default:v=typeof f.is=="string"?T.createElement(y,{is:f.is}):T.createElement(y)}}v[yi]=o,v[qi]=f;e:for(T=o.child;T!==null;){if(T.tag===5||T.tag===6)v.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===o)break e;for(;T.sibling===null;){if(T.return===null||T.return===o)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}o.stateNode=v;e:switch(ki(v,y,f),y){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Bn(o)}}return Pt(o),Lp(o,o.type,r===null?null:r.memoizedProps,o.pendingProps,c),null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==f&&Bn(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(s(166));if(r=me.current,Io(o)){if(r=o.stateNode,c=o.memoizedProps,f=null,y=vi,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}r[yi]=o,r=!!(r.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||Ok(r.nodeValue,c)),r||fr(o,!0)}else r=Wd(r).createTextNode(f),r[yi]=o,o.stateNode=r}return Pt(o),null;case 31:if(c=o.memoizedState,r===null||r.memoizedState!==null){if(f=Io(o),c!==null){if(r===null){if(!f)throw Error(s(318));if(r=o.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[yi]=o}else xa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Pt(o),r=!1}else c=Bm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=c),r=!0;if(!r)return o.flags&256?(ls(o),o):(ls(o),null);if((o.flags&128)!==0)throw Error(s(558))}return Pt(o),null;case 13:if(f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Io(o),f!==null&&f.dehydrated!==null){if(r===null){if(!y)throw Error(s(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[yi]=o}else xa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Pt(o),y=!1}else y=Bm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(ls(o),o):(ls(o),null)}return ls(o),(o.flags&128)!==0?(o.lanes=c,o):(c=f!==null,r=r!==null&&r.memoizedState!==null,c&&(f=o.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool),v=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==y&&(f.flags|=2048)),c!==r&&c&&(o.child.flags|=8192),Od(o,o.updateQueue),Pt(o),null);case 4:return Oe(),r===null&&Qp(o.stateNode.containerInfo),Pt(o),null;case 10:return Mn(o.type),Pt(o),null;case 19:if(F(Wt),f=o.memoizedState,f===null)return Pt(o),null;if(y=(o.flags&128)!==0,v=f.rendering,v===null)if(y)Au(f,!1);else{if(qt!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(v=kd(r),v!==null){for(o.flags|=128,Au(f,!1),r=v.updateQueue,o.updateQueue=r,Od(o,r),o.subtreeFlags=0,r=c,c=o.child;c!==null;)hb(c,r),c=c.sibling;return K(Wt,Wt.current&1|2),dt&&jn(o,f.treeForkCount),o.child}r=r.sibling}f.tail!==null&&pt()>Bd&&(o.flags|=128,y=!0,Au(f,!1),o.lanes=4194304)}else{if(!y)if(r=kd(v),r!==null){if(o.flags|=128,y=!0,r=r.updateQueue,o.updateQueue=r,Od(o,r),Au(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!dt)return Pt(o),null}else 2*pt()-f.renderingStartTime>Bd&&c!==536870912&&(o.flags|=128,y=!0,Au(f,!1),o.lanes=4194304);f.isBackwards?(v.sibling=o.child,o.child=v):(r=f.last,r!==null?r.sibling=v:o.child=v,f.last=v)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=pt(),r.sibling=null,c=Wt.current,K(Wt,y?c&1|2:c&1),dt&&jn(o,f.treeForkCount),r):(Pt(o),null);case 22:case 23:return ls(o),Zm(),f=o.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(c&536870912)!==0&&(o.flags&128)===0&&(Pt(o),o.subtreeFlags&6&&(o.flags|=8192)):Pt(o),c=o.updateQueue,c!==null&&Od(o,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048),r!==null&&F(wa),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Mn(ei),Pt(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function LL(r,o){switch(Nm(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Mn(ei),Oe(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return vt(o),null;case 31:if(o.memoizedState!==null){if(ls(o),o.alternate===null)throw Error(s(340));xa()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 13:if(ls(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(s(340));xa()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return F(Wt),null;case 4:return Oe(),null;case 10:return Mn(o.type),null;case 22:case 23:return ls(o),Zm(),r!==null&&F(wa),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Mn(ei),null;case 25:return null;default:return null}}function BE(r,o){switch(Nm(o),o.tag){case 3:Mn(ei),Oe();break;case 26:case 27:case 5:vt(o);break;case 4:Oe();break;case 31:o.memoizedState!==null&&ls(o);break;case 13:ls(o);break;case 19:F(Wt);break;case 10:Mn(o.type);break;case 22:case 23:ls(o),Zm(),r!==null&&F(wa);break;case 24:Mn(ei)}}function wu(r,o){try{var c=o.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&r)===r){f=void 0;var v=c.create,T=c.inst;f=v(),T.destroy=f}c=c.next}while(c!==y)}}catch(D){At(o,o.return,D)}}function Er(r,o,c){try{var f=o.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var v=y.next;f=v;do{if((f.tag&r)===r){var T=f.inst,D=T.destroy;if(D!==void 0){T.destroy=void 0,y=o;var B=c,J=D;try{J()}catch(ue){At(y,B,ue)}}}f=f.next}while(f!==v)}}catch(ue){At(o,o.return,ue)}}function UE(r){var o=r.updateQueue;if(o!==null){var c=r.stateNode;try{Cb(o,c)}catch(f){At(r,r.return,f)}}}function $E(r,o,c){c.props=Da(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(f){At(r,o,f)}}function _u(r,o){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof c=="function"?r.refCleanup=c(f):c.current=f}}catch(y){At(r,o,y)}}function rn(r,o){var c=r.ref,f=r.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(y){At(r,o,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){At(r,o,y)}else c.current=null}function zE(r){var o=r.type,c=r.memoizedProps,f=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(y){At(r,r.return,y)}}function Cp(r,o,c){try{var f=r.stateNode;QL(f,r.type,c,o),f[qi]=o}catch(y){At(r,r.return,y)}}function GE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&_r(r.type)||r.tag===4}function Dp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||GE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&_r(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ip(r,o,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(r),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Cn));else if(f!==4&&(f===27&&_r(r.type)&&(c=r.stateNode,o=null),r=r.child,r!==null))for(Ip(r,o,c),r=r.sibling;r!==null;)Ip(r,o,c),r=r.sibling}function Md(r,o,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(f!==4&&(f===27&&_r(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(Md(r,o,c),r=r.sibling;r!==null;)Md(r,o,c),r=r.sibling}function HE(r){var o=r.stateNode,c=r.memoizedProps;try{for(var f=r.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);ki(o,f,c),o[yi]=r,o[qi]=c}catch(v){At(r,r.return,v)}}var Un=!1,si=!1,jp=!1,qE=typeof WeakSet=="function"?WeakSet:Set,hi=null;function CL(r,o){if(r=r.containerInfo,eg=ih,r=sb(r),wm(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var T=0,D=-1,B=-1,J=0,ue=0,fe=r,te=null;t:for(;;){for(var ne;fe!==c||y!==0&&fe.nodeType!==3||(D=T+y),fe!==v||f!==0&&fe.nodeType!==3||(B=T+f),fe.nodeType===3&&(T+=fe.nodeValue.length),(ne=fe.firstChild)!==null;)te=fe,fe=ne;for(;;){if(fe===r)break t;if(te===c&&++J===y&&(D=T),te===v&&++ue===f&&(B=T),(ne=fe.nextSibling)!==null)break;fe=te,te=fe.parentNode}fe=ne}c=D===-1||B===-1?null:{start:D,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(tg={focusedElem:r,selectionRange:c},ih=!1,hi=o;hi!==null;)if(o=hi,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,hi=r;else for(;hi!==null;){switch(o=hi,v=o.alternate,r=o.flags,o.tag){case 0:if((r&4)!==0&&(r=o.updateQueue,r=r!==null?r.events:null,r!==null))for(c=0;c<r.length;c++)y=r[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,c=o,y=v.memoizedProps,v=v.memoizedState,f=c.stateNode;try{var Le=Da(c.type,y);r=f.getSnapshotBeforeUpdate(Le,v),f.__reactInternalSnapshotBeforeUpdate=r}catch(Ue){At(c,c.return,Ue)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,c=r.nodeType,c===9)ng(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ng(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=o.sibling,r!==null){r.return=o.return,hi=r;break}hi=o.return}}function VE(r,o,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:zn(r,c),f&4&&wu(5,c);break;case 1:if(zn(r,c),f&4)if(r=c.stateNode,o===null)try{r.componentDidMount()}catch(T){At(c,c.return,T)}else{var y=Da(c.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(y,o,r.__reactInternalSnapshotBeforeUpdate)}catch(T){At(c,c.return,T)}}f&64&&UE(c),f&512&&_u(c,c.return);break;case 3:if(zn(r,c),f&64&&(r=c.updateQueue,r!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{Cb(r,o)}catch(T){At(c,c.return,T)}}break;case 27:o===null&&f&4&&HE(c);case 26:case 5:zn(r,c),o===null&&f&4&&zE(c),f&512&&_u(c,c.return);break;case 12:zn(r,c);break;case 31:zn(r,c),f&4&&WE(r,c);break;case 13:zn(r,c),f&4&&XE(r,c),f&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=BL.bind(null,c),rC(r,c))));break;case 22:if(f=c.memoizedState!==null||Un,!f){o=o!==null&&o.memoizedState!==null||si,y=Un;var v=si;Un=f,(si=o)&&!v?Gn(r,c,(c.subtreeFlags&8772)!==0):zn(r,c),Un=y,si=v}break;case 30:break;default:zn(r,c)}}function KE(r){var o=r.alternate;o!==null&&(r.alternate=null,KE(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&um(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Bt=null,Ki=!1;function $n(r,o,c){for(c=c.child;c!==null;)YE(r,o,c),c=c.sibling}function YE(r,o,c){if(Pi&&typeof Pi.onCommitFiberUnmount=="function")try{Pi.onCommitFiberUnmount(ma,c)}catch{}switch(c.tag){case 26:si||rn(c,o),$n(r,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:si||rn(c,o);var f=Bt,y=Ki;_r(c.type)&&(Bt=c.stateNode,Ki=!1),$n(r,o,c),Pu(c.stateNode),Bt=f,Ki=y;break;case 5:si||rn(c,o);case 6:if(f=Bt,y=Ki,Bt=null,$n(r,o,c),Bt=f,Ki=y,Bt!==null)if(Ki)try{(Bt.nodeType===9?Bt.body:Bt.nodeName==="HTML"?Bt.ownerDocument.body:Bt).removeChild(c.stateNode)}catch(v){At(c,o,v)}else try{Bt.removeChild(c.stateNode)}catch(v){At(c,o,v)}break;case 18:Bt!==null&&(Ki?(r=Bt,Uk(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Jo(r)):Uk(Bt,c.stateNode));break;case 4:f=Bt,y=Ki,Bt=c.stateNode.containerInfo,Ki=!0,$n(r,o,c),Bt=f,Ki=y;break;case 0:case 11:case 14:case 15:Er(2,c,o),si||Er(4,c,o),$n(r,o,c);break;case 1:si||(rn(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"&&$E(c,o,f)),$n(r,o,c);break;case 21:$n(r,o,c);break;case 22:si=(f=si)||c.memoizedState!==null,$n(r,o,c),si=f;break;default:$n(r,o,c)}}function WE(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Jo(r)}catch(c){At(o,o.return,c)}}}function XE(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Jo(r)}catch(c){At(o,o.return,c)}}function DL(r){switch(r.tag){case 31:case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new qE),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new qE),o;default:throw Error(s(435,r.tag))}}function Pd(r,o){var c=DL(r);o.forEach(function(f){if(!c.has(f)){c.add(f);var y=UL.bind(null,r,f);f.then(y,y)}})}function Yi(r,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f],v=r,T=o,D=T;e:for(;D!==null;){switch(D.tag){case 27:if(_r(D.type)){Bt=D.stateNode,Ki=!1;break e}break;case 5:Bt=D.stateNode,Ki=!1;break e;case 3:case 4:Bt=D.stateNode.containerInfo,Ki=!0;break e}D=D.return}if(Bt===null)throw Error(s(160));YE(v,T,y),Bt=null,Ki=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)QE(o,r),o=o.sibling}var Us=null;function QE(r,o){var c=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Yi(o,r),Wi(r),f&4&&(Er(3,r,r.return),wu(3,r),Er(5,r,r.return));break;case 1:Yi(o,r),Wi(r),f&512&&(si||c===null||rn(c,c.return)),f&64&&Un&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var y=Us;if(Yi(o,r),Wi(r),f&512&&(si||c===null||rn(c,c.return)),f&4){var v=c!==null?c.memoizedState:null;if(f=r.memoizedState,c===null)if(f===null)if(r.stateNode===null){e:{f=r.type,c=r.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":v=y.getElementsByTagName("title")[0],(!v||v[eu]||v[yi]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(f),y.head.insertBefore(v,y.querySelector("head > title"))),ki(v,f,c),v[yi]=r,di(v),f=v;break e;case"link":var T=Qk("link","href",y).get(f+(c.href||""));if(T){for(var D=0;D<T.length;D++)if(v=T[D],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){T.splice(D,1);break t}}v=y.createElement(f),ki(v,f,c),y.head.appendChild(v);break;case"meta":if(T=Qk("meta","content",y).get(f+(c.content||""))){for(D=0;D<T.length;D++)if(v=T[D],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){T.splice(D,1);break t}}v=y.createElement(f),ki(v,f,c),y.head.appendChild(v);break;default:throw Error(s(468,f))}v[yi]=r,di(v),f=v}r.stateNode=f}else Zk(y,r.type,r.stateNode);else r.stateNode=Xk(y,f,r.memoizedProps);else v!==f?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,f===null?Zk(y,r.type,r.stateNode):Xk(y,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Cp(r,r.memoizedProps,c.memoizedProps)}break;case 27:Yi(o,r),Wi(r),f&512&&(si||c===null||rn(c,c.return)),c!==null&&f&4&&Cp(r,r.memoizedProps,c.memoizedProps);break;case 5:if(Yi(o,r),Wi(r),f&512&&(si||c===null||rn(c,c.return)),r.flags&32){y=r.stateNode;try{So(y,"")}catch(Le){At(r,r.return,Le)}}f&4&&r.stateNode!=null&&(y=r.memoizedProps,Cp(r,y,c!==null?c.memoizedProps:y)),f&1024&&(jp=!0);break;case 6:if(Yi(o,r),Wi(r),f&4){if(r.stateNode===null)throw Error(s(162));f=r.memoizedProps,c=r.stateNode;try{c.nodeValue=f}catch(Le){At(r,r.return,Le)}}break;case 3:if(Zd=null,y=Us,Us=Xd(o.containerInfo),Yi(o,r),Us=y,Wi(r),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Jo(o.containerInfo)}catch(Le){At(r,r.return,Le)}jp&&(jp=!1,ZE(r));break;case 4:f=Us,Us=Xd(r.stateNode.containerInfo),Yi(o,r),Wi(r),Us=f;break;case 12:Yi(o,r),Wi(r);break;case 31:Yi(o,r),Wi(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Pd(r,f)));break;case 13:Yi(o,r),Wi(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Fd=pt()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Pd(r,f)));break;case 22:y=r.memoizedState!==null;var B=c!==null&&c.memoizedState!==null,J=Un,ue=si;if(Un=J||y,si=ue||B,Yi(o,r),si=ue,Un=J,Wi(r),f&8192)e:for(o=r.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||B||Un||si||Ia(r)),c=null,o=r;;){if(o.tag===5||o.tag===26){if(c===null){B=c=o;try{if(v=B.stateNode,y)T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{D=B.stateNode;var fe=B.memoizedProps.style,te=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;D.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Le){At(B,B.return,Le)}}}else if(o.tag===6){if(c===null){B=o;try{B.stateNode.nodeValue=y?"":B.memoizedProps}catch(Le){At(B,B.return,Le)}}}else if(o.tag===18){if(c===null){B=o;try{var ne=B.stateNode;y?$k(ne,!0):$k(B.stateNode,!1)}catch(Le){At(B,B.return,Le)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=r.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Pd(r,c))));break;case 19:Yi(o,r),Wi(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Pd(r,f)));break;case 30:break;case 21:break;default:Yi(o,r),Wi(r)}}function Wi(r){var o=r.flags;if(o&2){try{for(var c,f=r.return;f!==null;){if(GE(f)){c=f;break}f=f.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var y=c.stateNode,v=Dp(r);Md(r,v,y);break;case 5:var T=c.stateNode;c.flags&32&&(So(T,""),c.flags&=-33);var D=Dp(r);Md(r,D,T);break;case 3:case 4:var B=c.stateNode.containerInfo,J=Dp(r);Ip(r,J,B);break;default:throw Error(s(161))}}catch(ue){At(r,r.return,ue)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function ZE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;ZE(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function zn(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)VE(r,o.alternate,o),o=o.sibling}function Ia(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Er(4,o,o.return),Ia(o);break;case 1:rn(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&$E(o,o.return,c),Ia(o);break;case 27:Pu(o.stateNode);case 26:case 5:rn(o,o.return),Ia(o);break;case 22:o.memoizedState===null&&Ia(o);break;case 30:Ia(o);break;default:Ia(o)}r=r.sibling}}function Gn(r,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,y=r,v=o,T=v.flags;switch(v.tag){case 0:case 11:case 15:Gn(y,v,c),wu(4,v);break;case 1:if(Gn(y,v,c),f=v,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(J){At(f,f.return,J)}if(f=v,y=f.updateQueue,y!==null){var D=f.stateNode;try{var B=y.shared.hiddenCallbacks;if(B!==null)for(y.shared.hiddenCallbacks=null,y=0;y<B.length;y++)Lb(B[y],D)}catch(J){At(f,f.return,J)}}c&&T&64&&UE(v),_u(v,v.return);break;case 27:HE(v);case 26:case 5:Gn(y,v,c),c&&f===null&&T&4&&zE(v),_u(v,v.return);break;case 12:Gn(y,v,c);break;case 31:Gn(y,v,c),c&&T&4&&WE(y,v);break;case 13:Gn(y,v,c),c&&T&4&&XE(y,v);break;case 22:v.memoizedState===null&&Gn(y,v,c),_u(v,v.return);break;case 30:break;default:Gn(y,v,c)}o=o.sibling}}function Op(r,o){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&fu(c))}function Mp(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&fu(r))}function $s(r,o,c,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)JE(r,o,c,f),o=o.sibling}function JE(r,o,c,f){var y=o.flags;switch(o.tag){case 0:case 11:case 15:$s(r,o,c,f),y&2048&&wu(9,o);break;case 1:$s(r,o,c,f);break;case 3:$s(r,o,c,f),y&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&fu(r)));break;case 12:if(y&2048){$s(r,o,c,f),r=o.stateNode;try{var v=o.memoizedProps,T=v.id,D=v.onPostCommit;typeof D=="function"&&D(T,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(B){At(o,o.return,B)}}else $s(r,o,c,f);break;case 31:$s(r,o,c,f);break;case 13:$s(r,o,c,f);break;case 23:break;case 22:v=o.stateNode,T=o.alternate,o.memoizedState!==null?v._visibility&2?$s(r,o,c,f):Ru(r,o):v._visibility&2?$s(r,o,c,f):(v._visibility|=2,zo(r,o,c,f,(o.subtreeFlags&10256)!==0||!1)),y&2048&&Op(T,o);break;case 24:$s(r,o,c,f),y&2048&&Mp(o.alternate,o);break;default:$s(r,o,c,f)}}function zo(r,o,c,f,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var v=r,T=o,D=c,B=f,J=T.flags;switch(T.tag){case 0:case 11:case 15:zo(v,T,D,B,y),wu(8,T);break;case 23:break;case 22:var ue=T.stateNode;T.memoizedState!==null?ue._visibility&2?zo(v,T,D,B,y):Ru(v,T):(ue._visibility|=2,zo(v,T,D,B,y)),y&&J&2048&&Op(T.alternate,T);break;case 24:zo(v,T,D,B,y),y&&J&2048&&Mp(T.alternate,T);break;default:zo(v,T,D,B,y)}o=o.sibling}}function Ru(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=r,f=o,y=f.flags;switch(f.tag){case 22:Ru(c,f),y&2048&&Op(f.alternate,f);break;case 24:Ru(c,f),y&2048&&Mp(f.alternate,f);break;default:Ru(c,f)}o=o.sibling}}var Lu=8192;function Go(r,o,c){if(r.subtreeFlags&Lu)for(r=r.child;r!==null;)ek(r,o,c),r=r.sibling}function ek(r,o,c){switch(r.tag){case 26:Go(r,o,c),r.flags&Lu&&r.memoizedState!==null&&yC(c,Us,r.memoizedState,r.memoizedProps);break;case 5:Go(r,o,c);break;case 3:case 4:var f=Us;Us=Xd(r.stateNode.containerInfo),Go(r,o,c),Us=f;break;case 22:r.memoizedState===null&&(f=r.alternate,f!==null&&f.memoizedState!==null?(f=Lu,Lu=16777216,Go(r,o,c),Lu=f):Go(r,o,c));break;default:Go(r,o,c)}}function tk(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Cu(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];hi=f,sk(f,r)}tk(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ik(r),r=r.sibling}function ik(r){switch(r.tag){case 0:case 11:case 15:Cu(r),r.flags&2048&&Er(9,r,r.return);break;case 3:Cu(r);break;case 12:Cu(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,Nd(r)):Cu(r);break;default:Cu(r)}}function Nd(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];hi=f,sk(f,r)}tk(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Er(8,o,o.return),Nd(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Nd(o));break;default:Nd(o)}r=r.sibling}}function sk(r,o){for(;hi!==null;){var c=hi;switch(c.tag){case 0:case 11:case 15:Er(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:fu(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,hi=f;else e:for(c=r;hi!==null;){f=hi;var y=f.sibling,v=f.return;if(KE(f),f===c){hi=null;break e}if(y!==null){y.return=v,hi=y;break e}hi=v}}}var IL={getCacheForType:function(r){var o=bi(ei),c=o.data.get(r);return c===void 0&&(c=r(),o.data.set(r,c)),c},cacheSignal:function(){return bi(ei).controller.signal}},jL=typeof WeakMap=="function"?WeakMap:Map,bt=0,It=null,nt=null,lt=0,Tt=0,us=null,kr=!1,Ho=!1,Pp=!1,Hn=0,qt=0,Sr=0,ja=0,Np=0,cs=0,qo=0,Du=null,Xi=null,Fp=!1,Fd=0,nk=0,Bd=1/0,Ud=null,xr=null,ai=0,Tr=null,Vo=null,qn=0,Bp=0,Up=null,rk=null,Iu=0,$p=null;function ds(){return(bt&2)!==0&&lt!==0?lt&-lt:O.T!==null?Kp():om()}function ak(){if(cs===0)if((lt&536870912)===0||dt){var r=mo;mo<<=1,(mo&3932160)===0&&(mo=262144),cs=r}else cs=536870912;return r=os.current,r!==null&&(r.flags|=32),cs}function Qi(r,o,c){(r===It&&(Tt===2||Tt===9)||r.cancelPendingCommit!==null)&&(Ko(r,0),Ar(r,lt,cs,!1)),Ut(r,c),((bt&2)===0||r!==It)&&(r===It&&((bt&2)===0&&(ja|=c),qt===4&&Ar(r,lt,cs,!1)),an(r))}function ok(r,o,c){if((bt&6)!==0)throw Error(s(327));var f=!c&&(o&127)===0&&(o&r.expiredLanes)===0||Ft(r,o),y=f?PL(r,o):Gp(r,o,!0),v=f;do{if(y===0){Ho&&!f&&Ar(r,o,0,!1);break}else{if(c=r.current.alternate,v&&!OL(c)){y=Gp(r,o,!1),v=!1;continue}if(y===2){if(v=o,r.errorRecoveryDisabledLanes&v)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var D=r;y=Du;var B=D.current.memoizedState.isDehydrated;if(B&&(Ko(D,T).flags|=256),T=Gp(D,T,!1),T!==2){if(Pp&&!B){D.errorRecoveryDisabledLanes|=v,ja|=v,y=4;break e}v=Xi,Xi=y,v!==null&&(Xi===null?Xi=v:Xi.push.apply(Xi,v))}y=T}if(v=!1,y!==2)continue}}if(y===1){Ko(r,0),Ar(r,o,0,!0);break}e:{switch(f=r,v=y,v){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:Ar(f,o,cs,!kr);break e;case 2:Xi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(y=Fd+300-pt(),10<y)){if(Ar(f,o,cs,!kr),qe(f,0,!0)!==0)break e;qn=o,f.timeoutHandle=Fk(lk.bind(null,f,c,Xi,Ud,Fp,o,cs,ja,qo,kr,v,"Throttled",-0,0),y);break e}lk(f,c,Xi,Ud,Fp,o,cs,ja,qo,kr,v,null,-0,0)}}break}while(!0);an(r)}function lk(r,o,c,f,y,v,T,D,B,J,ue,fe,te,ne){if(r.timeoutHandle=-1,fe=o.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},ek(o,v,fe);var Le=(v&62914560)===v?Fd-pt():(v&4194048)===v?nk-pt():0;if(Le=vC(fe,Le),Le!==null){qn=v,r.cancelPendingCommit=Le(gk.bind(null,r,o,v,c,f,y,T,D,B,ue,fe,null,te,ne)),Ar(r,v,T,!J);return}}gk(r,o,v,c,f,y,T,D,B)}function OL(r){for(var o=r;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var y=c[f],v=y.getSnapshot;y=y.value;try{if(!rs(v(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ar(r,o,c,f){o&=~Np,o&=~ja,r.suspendedLanes|=o,r.pingedLanes&=~o,f&&(r.warmLanes|=o),f=r.expirationTimes;for(var y=o;0<y;){var v=31-wi(y),T=1<<v;f[v]=-1,y&=~T}c!==0&&ga(r,c,o)}function $d(){return(bt&6)===0?(ju(0),!1):!0}function zp(){if(nt!==null){if(Tt===0)var r=nt.return;else r=nt,On=Ta=null,np(r),No=null,pu=0,r=nt;for(;r!==null;)BE(r.alternate,r),r=r.return;nt=null}}function Ko(r,o){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,eC(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),qn=0,zp(),It=r,nt=c=In(r.current,null),lt=o,Tt=0,us=null,kr=!1,Ho=Ft(r,o),Pp=!1,qo=cs=Np=ja=Sr=qt=0,Xi=Du=null,Fp=!1,(o&8)!==0&&(o|=o&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=o;0<f;){var y=31-wi(f),v=1<<y;o|=r[y],f&=~v}return Hn=o,ld(),c}function uk(r,o){We=null,O.H=xu,o===Po||o===gd?(o=Ab(),Tt=3):o===Vm?(o=Ab(),Tt=4):Tt=o===Ep?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,us=o,nt===null&&(qt=1,Cd(r,Ts(o,r.current)))}function ck(){var r=os.current;return r===null?!0:(lt&4194048)===lt?Rs===null:(lt&62914560)===lt||(lt&536870912)!==0?r===Rs:!1}function dk(){var r=O.H;return O.H=xu,r===null?xu:r}function hk(){var r=O.A;return O.A=IL,r}function zd(){qt=4,kr||(lt&4194048)!==lt&&os.current!==null||(Ho=!0),(Sr&134217727)===0&&(ja&134217727)===0||It===null||Ar(It,lt,cs,!1)}function Gp(r,o,c){var f=bt;bt|=2;var y=dk(),v=hk();(It!==r||lt!==o)&&(Ud=null,Ko(r,o)),o=!1;var T=qt;e:do try{if(Tt!==0&&nt!==null){var D=nt,B=us;switch(Tt){case 8:zp(),T=6;break e;case 3:case 2:case 9:case 6:os.current===null&&(o=!0);var J=Tt;if(Tt=0,us=null,Yo(r,D,B,J),c&&Ho){T=0;break e}break;default:J=Tt,Tt=0,us=null,Yo(r,D,B,J)}}ML(),T=qt;break}catch(ue){uk(r,ue)}while(!0);return o&&r.shellSuspendCounter++,On=Ta=null,bt=f,O.H=y,O.A=v,nt===null&&(It=null,lt=0,ld()),T}function ML(){for(;nt!==null;)fk(nt)}function PL(r,o){var c=bt;bt|=2;var f=dk(),y=hk();It!==r||lt!==o?(Ud=null,Bd=pt()+500,Ko(r,o)):Ho=Ft(r,o);e:do try{if(Tt!==0&&nt!==null){o=nt;var v=us;t:switch(Tt){case 1:Tt=0,us=null,Yo(r,o,v,1);break;case 2:case 9:if(xb(v)){Tt=0,us=null,mk(o);break}o=function(){Tt!==2&&Tt!==9||It!==r||(Tt=7),an(r)},v.then(o,o);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:xb(v)?(Tt=0,us=null,mk(o)):(Tt=0,us=null,Yo(r,o,v,7));break;case 5:var T=null;switch(nt.tag){case 26:T=nt.memoizedState;case 5:case 27:var D=nt;if(T?Jk(T):D.stateNode.complete){Tt=0,us=null;var B=D.sibling;if(B!==null)nt=B;else{var J=D.return;J!==null?(nt=J,Gd(J)):nt=null}break t}}Tt=0,us=null,Yo(r,o,v,5);break;case 6:Tt=0,us=null,Yo(r,o,v,6);break;case 8:zp(),qt=6;break e;default:throw Error(s(462))}}NL();break}catch(ue){uk(r,ue)}while(!0);return On=Ta=null,O.H=f,O.A=y,bt=c,nt!==null?0:(It=null,lt=0,ld(),qt)}function NL(){for(;nt!==null&&!Ce();)fk(nt)}function fk(r){var o=NE(r.alternate,r,Hn);r.memoizedProps=r.pendingProps,o===null?Gd(r):nt=o}function mk(r){var o=r,c=o.alternate;switch(o.tag){case 15:case 0:o=DE(c,o,o.pendingProps,o.type,void 0,lt);break;case 11:o=DE(c,o,o.pendingProps,o.type.render,o.ref,lt);break;case 5:np(o);default:BE(c,o),o=nt=hb(o,Hn),o=NE(c,o,Hn)}r.memoizedProps=r.pendingProps,o===null?Gd(r):nt=o}function Yo(r,o,c,f){On=Ta=null,np(o),No=null,pu=0;var y=o.return;try{if(AL(r,y,o,c,lt)){qt=1,Cd(r,Ts(c,r.current)),nt=null;return}}catch(v){if(y!==null)throw nt=y,v;qt=1,Cd(r,Ts(c,r.current)),nt=null;return}o.flags&32768?(dt||f===1?r=!0:Ho||(lt&536870912)!==0?r=!1:(kr=r=!0,(f===2||f===9||f===3||f===6)&&(f=os.current,f!==null&&f.tag===13&&(f.flags|=16384))),pk(o,r)):Gd(o)}function Gd(r){var o=r;do{if((o.flags&32768)!==0){pk(o,kr);return}r=o.return;var c=RL(o.alternate,o,Hn);if(c!==null){nt=c;return}if(o=o.sibling,o!==null){nt=o;return}nt=o=r}while(o!==null);qt===0&&(qt=5)}function pk(r,o){do{var c=LL(r.alternate,r);if(c!==null){c.flags&=32767,nt=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(r=r.sibling,r!==null)){nt=r;return}nt=r=c}while(r!==null);qt=6,nt=null}function gk(r,o,c,f,y,v,T,D,B){r.cancelPendingCommit=null;do Hd();while(ai!==0);if((bt&6)!==0)throw Error(s(327));if(o!==null){if(o===r.current)throw Error(s(177));if(v=o.lanes|o.childLanes,v|=Dm,zi(r,c,v,T,D,B),r===It&&(nt=It=null,lt=0),Vo=o,Tr=r,qn=c,Bp=v,Up=y,rk=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,$L(xt,function(){return kk(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=O.T,O.T=null,y=q.p,q.p=2,T=bt,bt|=4;try{CL(r,o,c)}finally{bt=T,q.p=y,O.T=f}}ai=1,yk(),vk(),bk()}}function yk(){if(ai===1){ai=0;var r=Tr,o=Vo,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=O.T,O.T=null;var f=q.p;q.p=2;var y=bt;bt|=4;try{QE(o,r);var v=tg,T=sb(r.containerInfo),D=v.focusedElem,B=v.selectionRange;if(T!==D&&D&&D.ownerDocument&&ib(D.ownerDocument.documentElement,D)){if(B!==null&&wm(D)){var J=B.start,ue=B.end;if(ue===void 0&&(ue=J),"selectionStart"in D)D.selectionStart=J,D.selectionEnd=Math.min(ue,D.value.length);else{var fe=D.ownerDocument||document,te=fe&&fe.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Le=D.textContent.length,Ue=Math.min(B.start,Le),Ct=B.end===void 0?Ue:Math.min(B.end,Le);!ne.extend&&Ue>Ct&&(T=Ct,Ct=Ue,Ue=T);var V=tb(D,Ue),G=tb(D,Ct);if(V&&G&&(ne.rangeCount!==1||ne.anchorNode!==V.node||ne.anchorOffset!==V.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var Z=fe.createRange();Z.setStart(V.node,V.offset),ne.removeAllRanges(),Ue>Ct?(ne.addRange(Z),ne.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),ne.addRange(Z))}}}}for(fe=[],ne=D;ne=ne.parentNode;)ne.nodeType===1&&fe.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<fe.length;D++){var de=fe[D];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}ih=!!eg,tg=eg=null}finally{bt=y,q.p=f,O.T=c}}r.current=o,ai=2}}function vk(){if(ai===2){ai=0;var r=Tr,o=Vo,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=O.T,O.T=null;var f=q.p;q.p=2;var y=bt;bt|=4;try{VE(r,o.alternate,o)}finally{bt=y,q.p=f,O.T=c}}ai=3}}function bk(){if(ai===4||ai===3){ai=0,Ai();var r=Tr,o=Vo,c=qn,f=rk;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ai=5:(ai=0,Vo=Tr=null,Ek(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(xr=null),Fs(c),o=o.stateNode,Pi&&typeof Pi.onCommitFiberRoot=="function")try{Pi.onCommitFiberRoot(ma,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=O.T,y=q.p,q.p=2,O.T=null;try{for(var v=r.onRecoverableError,T=0;T<f.length;T++){var D=f[T];v(D.value,{componentStack:D.stack})}}finally{O.T=o,q.p=y}}(qn&3)!==0&&Hd(),an(r),y=r.pendingLanes,(c&261930)!==0&&(y&42)!==0?r===$p?Iu++:(Iu=0,$p=r):Iu=0,ju(0)}}function Ek(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,fu(o)))}function Hd(){return yk(),vk(),bk(),kk()}function kk(){if(ai!==5)return!1;var r=Tr,o=Bp;Bp=0;var c=Fs(qn),f=O.T,y=q.p;try{q.p=32>c?32:c,O.T=null,c=Up,Up=null;var v=Tr,T=qn;if(ai=0,Vo=Tr=null,qn=0,(bt&6)!==0)throw Error(s(331));var D=bt;if(bt|=4,ik(v.current),JE(v,v.current,T,c),bt=D,ju(0,!1),Pi&&typeof Pi.onPostCommitFiberRoot=="function")try{Pi.onPostCommitFiberRoot(ma,v)}catch{}return!0}finally{q.p=y,O.T=f,Ek(r,o)}}function Sk(r,o,c){o=Ts(c,o),o=bp(r.stateNode,o,2),r=yr(r,o,2),r!==null&&(Ut(r,2),an(r))}function At(r,o,c){if(r.tag===3)Sk(r,r,c);else for(;o!==null;){if(o.tag===3){Sk(o,r,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(xr===null||!xr.has(f))){r=Ts(c,r),c=xE(2),f=yr(o,c,2),f!==null&&(TE(c,f,o,r),Ut(f,2),an(f));break}}o=o.return}}function Hp(r,o,c){var f=r.pingCache;if(f===null){f=r.pingCache=new jL;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(c)||(Pp=!0,y.add(c),r=FL.bind(null,r,o,c),o.then(r,r))}function FL(r,o,c){var f=r.pingCache;f!==null&&f.delete(o),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,It===r&&(lt&c)===c&&(qt===4||qt===3&&(lt&62914560)===lt&&300>pt()-Fd?(bt&2)===0&&Ko(r,0):Np|=c,qo===lt&&(qo=0)),an(r)}function xk(r,o){o===0&&(o=_i()),r=ka(r,o),r!==null&&(Ut(r,o),an(r))}function BL(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),xk(r,c)}function UL(r,o){var c=0;switch(r.tag){case 31:case 13:var f=r.stateNode,y=r.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(s(314))}f!==null&&f.delete(o),xk(r,c)}function $L(r,o){return tt(r,o)}var qd=null,Wo=null,qp=!1,Vd=!1,Vp=!1,wr=0;function an(r){r!==Wo&&r.next===null&&(Wo===null?qd=Wo=r:Wo=Wo.next=r),Vd=!0,qp||(qp=!0,GL())}function ju(r,o){if(!Vp&&Vd){Vp=!0;do for(var c=!1,f=qd;f!==null;){if(r!==0){var y=f.pendingLanes;if(y===0)var v=0;else{var T=f.suspendedLanes,D=f.pingedLanes;v=(1<<31-wi(42|r)+1)-1,v&=y&~(T&~D),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,_k(f,v))}else v=lt,v=qe(f,f===It?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||Ft(f,v)||(c=!0,_k(f,v));f=f.next}while(c);Vp=!1}}function zL(){Tk()}function Tk(){Vd=qp=!1;var r=0;wr!==0&&JL()&&(r=wr);for(var o=pt(),c=null,f=qd;f!==null;){var y=f.next,v=Ak(f,o);v===0?(f.next=null,c===null?qd=y:c.next=y,y===null&&(Wo=c)):(c=f,(r!==0||(v&3)!==0)&&(Vd=!0)),f=y}ai!==0&&ai!==5||ju(r),wr!==0&&(wr=0)}function Ak(r,o){for(var c=r.suspendedLanes,f=r.pingedLanes,y=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var T=31-wi(v),D=1<<T,B=y[T];B===-1?((D&c)===0||(D&f)!==0)&&(y[T]=ci(D,o)):B<=o&&(r.expiredLanes|=D),v&=~D}if(o=It,c=lt,c=qe(r,r===o?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,c===0||r===o&&(Tt===2||Tt===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&mt(f),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Ft(r,c)){if(o=c&-c,o===r.callbackPriority)return o;switch(f!==null&&mt(f),Fs(c)){case 2:case 8:c=ct;break;case 32:c=xt;break;case 268435456:c=gi;break;default:c=xt}return f=wk.bind(null,r),c=tt(c,f),r.callbackPriority=o,r.callbackNode=c,o}return f!==null&&f!==null&&mt(f),r.callbackPriority=2,r.callbackNode=null,2}function wk(r,o){if(ai!==0&&ai!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(Hd()&&r.callbackNode!==c)return null;var f=lt;return f=qe(r,r===It?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(ok(r,f,o),Ak(r,pt()),r.callbackNode!=null&&r.callbackNode===c?wk.bind(null,r):null)}function _k(r,o){if(Hd())return null;ok(r,o,!0)}function GL(){tC(function(){(bt&6)!==0?tt(pi,zL):Tk()})}function Kp(){if(wr===0){var r=Oo;r===0&&(r=fo,fo<<=1,(fo&261888)===0&&(fo=256)),wr=r}return wr}function Rk(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ed(""+r)}function Lk(r,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,r.id&&c.setAttribute("form",r.id),o.parentNode.insertBefore(c,o),r=new FormData(r),c.parentNode.removeChild(c),r}function HL(r,o,c,f,y){if(o==="submit"&&c&&c.stateNode===y){var v=Rk((y[qi]||null).action),T=f.submitter;T&&(o=(o=T[qi]||null)?Rk(o.formAction):T.getAttribute("formAction"),o!==null&&(v=o,T=null));var D=new nd("action","action",null,f,y);r.push({event:D,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(wr!==0){var B=T?Lk(y,T):new FormData(y);fp(c,{pending:!0,data:B,method:y.method,action:v},null,B)}}else typeof v=="function"&&(D.preventDefault(),B=T?Lk(y,T):new FormData(y),fp(c,{pending:!0,data:B,method:y.method,action:v},v,B))},currentTarget:y}]})}}for(var Yp=0;Yp<Cm.length;Yp++){var Wp=Cm[Yp],qL=Wp.toLowerCase(),VL=Wp[0].toUpperCase()+Wp.slice(1);Bs(qL,"on"+VL)}Bs(ab,"onAnimationEnd"),Bs(ob,"onAnimationIteration"),Bs(lb,"onAnimationStart"),Bs("dblclick","onDoubleClick"),Bs("focusin","onFocus"),Bs("focusout","onBlur"),Bs(lL,"onTransitionRun"),Bs(uL,"onTransitionStart"),Bs(cL,"onTransitionCancel"),Bs(ub,"onTransitionEnd"),Eo("onMouseEnter",["mouseout","mouseover"]),Eo("onMouseLeave",["mouseout","mouseover"]),Eo("onPointerEnter",["pointerout","pointerover"]),Eo("onPointerLeave",["pointerout","pointerover"]),ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ya("onBeforeInput",["compositionend","keypress","textInput","paste"]),ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function Ck(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var f=r[c],y=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var T=f.length-1;0<=T;T--){var D=f[T],B=D.instance,J=D.currentTarget;if(D=D.listener,B!==v&&y.isPropagationStopped())break e;v=D,y.currentTarget=J;try{v(y)}catch(ue){od(ue)}y.currentTarget=null,v=B}else for(T=0;T<f.length;T++){if(D=f[T],B=D.instance,J=D.currentTarget,D=D.listener,B!==v&&y.isPropagationStopped())break e;v=D,y.currentTarget=J;try{v(y)}catch(ue){od(ue)}y.currentTarget=null,v=B}}}}function rt(r,o){var c=o[lm];c===void 0&&(c=o[lm]=new Set);var f=r+"__bubble";c.has(f)||(Dk(o,r,2,!1),c.add(f))}function Xp(r,o,c){var f=0;o&&(f|=4),Dk(c,r,f,o)}var Kd="_reactListening"+Math.random().toString(36).slice(2);function Qp(r){if(!r[Kd]){r[Kd]=!0,Tv.forEach(function(c){c!=="selectionchange"&&(KL.has(c)||Xp(c,!1,r),Xp(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Kd]||(o[Kd]=!0,Xp("selectionchange",!1,o))}}function Dk(r,o,c,f){switch(aS(o)){case 2:var y=kC;break;case 8:y=SC;break;default:y=hg}c=y.bind(null,o,c,r),y=void 0,!ym||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?r.addEventListener(o,c,{capture:!0,passive:y}):r.addEventListener(o,c,!0):y!==void 0?r.addEventListener(o,c,{passive:y}):r.addEventListener(o,c,!1)}function Zp(r,o,c,f,y){var v=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var D=f.stateNode.containerInfo;if(D===y)break;if(T===4)for(T=f.return;T!==null;){var B=T.tag;if((B===3||B===4)&&T.stateNode.containerInfo===y)return;T=T.return}for(;D!==null;){if(T=yo(D),T===null)return;if(B=T.tag,B===5||B===6||B===26||B===27){f=v=T;continue e}D=D.parentNode}}f=f.return}Pv(function(){var J=v,ue=pm(c),fe=[];e:{var te=cb.get(r);if(te!==void 0){var ne=nd,Le=r;switch(r){case"keypress":if(id(c)===0)break e;case"keydown":case"keyup":ne=UR;break;case"focusin":Le="focus",ne=km;break;case"focusout":Le="blur",ne=km;break;case"beforeblur":case"afterblur":ne=km;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Bv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=RR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=GR;break;case ab:case ob:case lb:ne=DR;break;case ub:ne=qR;break;case"scroll":case"scrollend":ne=wR;break;case"wheel":ne=KR;break;case"copy":case"cut":case"paste":ne=jR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=$v;break;case"toggle":case"beforetoggle":ne=WR}var Ue=(o&4)!==0,Ct=!Ue&&(r==="scroll"||r==="scrollend"),V=Ue?te!==null?te+"Capture":null:te;Ue=[];for(var G=J,Z;G!==null;){var de=G;if(Z=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||Z===null||V===null||(de=iu(G,V),de!=null&&Ue.push(Mu(G,de,Z))),Ct)break;G=G.return}0<Ue.length&&(te=new ne(te,Le,null,c,ue),fe.push({event:te,listeners:Ue}))}}if((o&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",te&&c!==mm&&(Le=c.relatedTarget||c.fromElement)&&(yo(Le)||Le[go]))break e;if((ne||te)&&(te=ue.window===ue?ue:(te=ue.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Le=c.relatedTarget||c.toElement,ne=J,Le=Le?yo(Le):null,Le!==null&&(Ct=a(Le),Ue=Le.tag,Le!==Ct||Ue!==5&&Ue!==27&&Ue!==6)&&(Le=null)):(ne=null,Le=J),ne!==Le)){if(Ue=Bv,de="onMouseLeave",V="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(Ue=$v,de="onPointerLeave",V="onPointerEnter",G="pointer"),Ct=ne==null?te:tu(ne),Z=Le==null?te:tu(Le),te=new Ue(de,G+"leave",ne,c,ue),te.target=Ct,te.relatedTarget=Z,de=null,yo(ue)===J&&(Ue=new Ue(V,G+"enter",Le,c,ue),Ue.target=Z,Ue.relatedTarget=Ct,de=Ue),Ct=de,ne&&Le)t:{for(Ue=YL,V=ne,G=Le,Z=0,de=V;de;de=Ue(de))Z++;de=0;for(var Ne=G;Ne;Ne=Ue(Ne))de++;for(;0<Z-de;)V=Ue(V),Z--;for(;0<de-Z;)G=Ue(G),de--;for(;Z--;){if(V===G||G!==null&&V===G.alternate){Ue=V;break t}V=Ue(V),G=Ue(G)}Ue=null}else Ue=null;ne!==null&&Ik(fe,te,ne,Ue,!1),Le!==null&&Ct!==null&&Ik(fe,Ct,Le,Ue,!0)}}e:{if(te=J?tu(J):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var gt=Wv;else if(Kv(te))if(Xv)gt=rL;else{gt=sL;var De=iL}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&fm(J.elementType)&&(gt=Wv):gt=nL;if(gt&&(gt=gt(r,J))){Yv(fe,gt,c,ue);break e}De&&De(r,te,J),r==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&hm(te,"number",te.value)}switch(De=J?tu(J):window,r){case"focusin":(Kv(De)||De.contentEditable==="true")&&(wo=De,_m=J,cu=null);break;case"focusout":cu=_m=wo=null;break;case"mousedown":Rm=!0;break;case"contextmenu":case"mouseup":case"dragend":Rm=!1,nb(fe,c,ue);break;case"selectionchange":if(oL)break;case"keydown":case"keyup":nb(fe,c,ue)}var Ze;if(xm)e:{switch(r){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else Ao?qv(r,c)&&(ut="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(ut="onCompositionStart");ut&&(zv&&c.locale!=="ko"&&(Ao||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&Ao&&(Ze=Nv()):(cr=ue,vm="value"in cr?cr.value:cr.textContent,Ao=!0)),De=Yd(J,ut),0<De.length&&(ut=new Uv(ut,r,null,c,ue),fe.push({event:ut,listeners:De}),Ze?ut.data=Ze:(Ze=Vv(c),Ze!==null&&(ut.data=Ze)))),(Ze=QR?ZR(r,c):JR(r,c))&&(ut=Yd(J,"onBeforeInput"),0<ut.length&&(De=new Uv("onBeforeInput","beforeinput",null,c,ue),fe.push({event:De,listeners:ut}),De.data=Ze)),HL(fe,r,J,c,ue)}Ck(fe,o)})}function Mu(r,o,c){return{instance:r,listener:o,currentTarget:c}}function Yd(r,o){for(var c=o+"Capture",f=[];r!==null;){var y=r,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=iu(r,c),y!=null&&f.unshift(Mu(r,y,v)),y=iu(r,o),y!=null&&f.push(Mu(r,y,v))),r.tag===3)return f;r=r.return}return[]}function YL(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Ik(r,o,c,f,y){for(var v=o._reactName,T=[];c!==null&&c!==f;){var D=c,B=D.alternate,J=D.stateNode;if(D=D.tag,B!==null&&B===f)break;D!==5&&D!==26&&D!==27||J===null||(B=J,y?(J=iu(c,v),J!=null&&T.unshift(Mu(c,J,B))):y||(J=iu(c,v),J!=null&&T.push(Mu(c,J,B)))),c=c.return}T.length!==0&&r.push({event:o,listeners:T})}var WL=/\r\n?/g,XL=/\u0000|\uFFFD/g;function jk(r){return(typeof r=="string"?r:""+r).replace(WL,`
`).replace(XL,"")}function Ok(r,o){return o=jk(o),jk(r)===o}function Lt(r,o,c,f,y,v){switch(c){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||So(r,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&So(r,""+f);break;case"className":Zc(r,"class",f);break;case"tabIndex":Zc(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Zc(r,c,f);break;case"style":Ov(r,f,v);break;case"data":if(o!=="object"){Zc(r,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||c!=="href")){r.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=ed(""+f),r.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(o!=="input"&&Lt(r,o,"name",y.name,y,null),Lt(r,o,"formEncType",y.formEncType,y,null),Lt(r,o,"formMethod",y.formMethod,y,null),Lt(r,o,"formTarget",y.formTarget,y,null)):(Lt(r,o,"encType",y.encType,y,null),Lt(r,o,"method",y.method,y,null),Lt(r,o,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=ed(""+f),r.setAttribute(c,f);break;case"onClick":f!=null&&(r.onclick=Cn);break;case"onScroll":f!=null&&rt("scroll",r);break;case"onScrollEnd":f!=null&&rt("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}c=ed(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""+f):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":f===!0?r.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,f):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(c,f):r.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(c):r.setAttribute(c,f);break;case"popover":rt("beforetoggle",r),rt("toggle",r),Qc(r,"popover",f);break;case"xlinkActuate":Ln(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Ln(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Ln(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Ln(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Ln(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Ln(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Ln(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Ln(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Ln(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Qc(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=TR.get(c)||c,Qc(r,c,f))}}function Jp(r,o,c,f,y,v){switch(c){case"style":Ov(r,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"children":typeof f=="string"?So(r,f):(typeof f=="number"||typeof f=="bigint")&&So(r,""+f);break;case"onScroll":f!=null&&rt("scroll",r);break;case"onScrollEnd":f!=null&&rt("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Av.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),v=r[qi]||null,v=v!=null?v[c]:null,typeof v=="function"&&r.removeEventListener(o,v,y),typeof f=="function")){typeof v!="function"&&v!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(o,f,y);break e}c in r?r[c]=f:f===!0?r.setAttribute(c,""):Qc(r,c,f)}}}function ki(r,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",r),rt("load",r);var f=!1,y=!1,v;for(v in c)if(c.hasOwnProperty(v)){var T=c[v];if(T!=null)switch(v){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Lt(r,o,v,T,c,null)}}y&&Lt(r,o,"srcSet",c.srcSet,c,null),f&&Lt(r,o,"src",c.src,c,null);return;case"input":rt("invalid",r);var D=v=T=y=null,B=null,J=null;for(f in c)if(c.hasOwnProperty(f)){var ue=c[f];if(ue!=null)switch(f){case"name":y=ue;break;case"type":T=ue;break;case"checked":B=ue;break;case"defaultChecked":J=ue;break;case"value":v=ue;break;case"defaultValue":D=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,o));break;default:Lt(r,o,f,ue,c,null)}}Cv(r,v,D,B,J,T,y,!1);return;case"select":rt("invalid",r),f=T=v=null;for(y in c)if(c.hasOwnProperty(y)&&(D=c[y],D!=null))switch(y){case"value":v=D;break;case"defaultValue":T=D;break;case"multiple":f=D;default:Lt(r,o,y,D,c,null)}o=v,c=T,r.multiple=!!f,o!=null?ko(r,!!f,o,!1):c!=null&&ko(r,!!f,c,!0);return;case"textarea":rt("invalid",r),v=y=f=null;for(T in c)if(c.hasOwnProperty(T)&&(D=c[T],D!=null))switch(T){case"value":f=D;break;case"defaultValue":y=D;break;case"children":v=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(91));break;default:Lt(r,o,T,D,c,null)}Iv(r,f,y,v);return;case"option":for(B in c)if(c.hasOwnProperty(B)&&(f=c[B],f!=null))switch(B){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Lt(r,o,B,f,c,null)}return;case"dialog":rt("beforetoggle",r),rt("toggle",r),rt("cancel",r),rt("close",r);break;case"iframe":case"object":rt("load",r);break;case"video":case"audio":for(f=0;f<Ou.length;f++)rt(Ou[f],r);break;case"image":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"embed":case"source":case"link":rt("error",r),rt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in c)if(c.hasOwnProperty(J)&&(f=c[J],f!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Lt(r,o,J,f,c,null)}return;default:if(fm(o)){for(ue in c)c.hasOwnProperty(ue)&&(f=c[ue],f!==void 0&&Jp(r,o,ue,f,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(f=c[D],f!=null&&Lt(r,o,D,f,c,null))}function QL(r,o,c,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,T=null,D=null,B=null,J=null,ue=null;for(ne in c){var fe=c[ne];if(c.hasOwnProperty(ne)&&fe!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":B=fe;default:f.hasOwnProperty(ne)||Lt(r,o,ne,null,f,fe)}}for(var te in f){var ne=f[te];if(fe=c[te],f.hasOwnProperty(te)&&(ne!=null||fe!=null))switch(te){case"type":v=ne;break;case"name":y=ne;break;case"checked":J=ne;break;case"defaultChecked":ue=ne;break;case"value":T=ne;break;case"defaultValue":D=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,o));break;default:ne!==fe&&Lt(r,o,te,ne,f,fe)}}dm(r,T,D,B,J,ue,v,y);return;case"select":ne=T=D=te=null;for(v in c)if(B=c[v],c.hasOwnProperty(v)&&B!=null)switch(v){case"value":break;case"multiple":ne=B;default:f.hasOwnProperty(v)||Lt(r,o,v,null,f,B)}for(y in f)if(v=f[y],B=c[y],f.hasOwnProperty(y)&&(v!=null||B!=null))switch(y){case"value":te=v;break;case"defaultValue":D=v;break;case"multiple":T=v;default:v!==B&&Lt(r,o,y,v,f,B)}o=D,c=T,f=ne,te!=null?ko(r,!!c,te,!1):!!f!=!!c&&(o!=null?ko(r,!!c,o,!0):ko(r,!!c,c?[]:"",!1));return;case"textarea":ne=te=null;for(D in c)if(y=c[D],c.hasOwnProperty(D)&&y!=null&&!f.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Lt(r,o,D,null,f,y)}for(T in f)if(y=f[T],v=c[T],f.hasOwnProperty(T)&&(y!=null||v!=null))switch(T){case"value":te=y;break;case"defaultValue":ne=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:y!==v&&Lt(r,o,T,y,f,v)}Dv(r,te,ne);return;case"option":for(var Le in c)if(te=c[Le],c.hasOwnProperty(Le)&&te!=null&&!f.hasOwnProperty(Le))switch(Le){case"selected":r.selected=!1;break;default:Lt(r,o,Le,null,f,te)}for(B in f)if(te=f[B],ne=c[B],f.hasOwnProperty(B)&&te!==ne&&(te!=null||ne!=null))switch(B){case"selected":r.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Lt(r,o,B,te,f,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in c)te=c[Ue],c.hasOwnProperty(Ue)&&te!=null&&!f.hasOwnProperty(Ue)&&Lt(r,o,Ue,null,f,te);for(J in f)if(te=f[J],ne=c[J],f.hasOwnProperty(J)&&te!==ne&&(te!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,o));break;default:Lt(r,o,J,te,f,ne)}return;default:if(fm(o)){for(var Ct in c)te=c[Ct],c.hasOwnProperty(Ct)&&te!==void 0&&!f.hasOwnProperty(Ct)&&Jp(r,o,Ct,void 0,f,te);for(ue in f)te=f[ue],ne=c[ue],!f.hasOwnProperty(ue)||te===ne||te===void 0&&ne===void 0||Jp(r,o,ue,te,f,ne);return}}for(var V in c)te=c[V],c.hasOwnProperty(V)&&te!=null&&!f.hasOwnProperty(V)&&Lt(r,o,V,null,f,te);for(fe in f)te=f[fe],ne=c[fe],!f.hasOwnProperty(fe)||te===ne||te==null&&ne==null||Lt(r,o,fe,te,f,ne)}function Mk(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZL(){if(typeof performance.getEntriesByType=="function"){for(var r=0,o=0,c=performance.getEntriesByType("resource"),f=0;f<c.length;f++){var y=c[f],v=y.transferSize,T=y.initiatorType,D=y.duration;if(v&&D&&Mk(T)){for(T=0,D=y.responseEnd,f+=1;f<c.length;f++){var B=c[f],J=B.startTime;if(J>D)break;var ue=B.transferSize,fe=B.initiatorType;ue&&Mk(fe)&&(B=B.responseEnd,T+=ue*(B<D?1:(D-J)/(B-J)))}if(--f,o+=8*(v+T)/(y.duration/1e3),r++,10<r)break}}if(0<r)return o/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var eg=null,tg=null;function Wd(r){return r.nodeType===9?r:r.ownerDocument}function Pk(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nk(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function ig(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var sg=null;function JL(){var r=window.event;return r&&r.type==="popstate"?r===sg?!1:(sg=r,!0):(sg=null,!1)}var Fk=typeof setTimeout=="function"?setTimeout:void 0,eC=typeof clearTimeout=="function"?clearTimeout:void 0,Bk=typeof Promise=="function"?Promise:void 0,tC=typeof queueMicrotask=="function"?queueMicrotask:typeof Bk<"u"?function(r){return Bk.resolve(null).then(r).catch(iC)}:Fk;function iC(r){setTimeout(function(){throw r})}function _r(r){return r==="head"}function Uk(r,o){var c=o,f=0;do{var y=c.nextSibling;if(r.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(f===0){r.removeChild(y),Jo(o);return}f--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")f++;else if(c==="html")Pu(r.ownerDocument.documentElement);else if(c==="head"){c=r.ownerDocument.head,Pu(c);for(var v=c.firstChild;v;){var T=v.nextSibling,D=v.nodeName;v[eu]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&v.rel.toLowerCase()==="stylesheet"||c.removeChild(v),v=T}}else c==="body"&&Pu(r.ownerDocument.body);c=y}while(c);Jo(o)}function $k(r,o){var c=r;r=0;do{var f=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(r===0)break;r--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||r++;c=f}while(c)}function ng(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":ng(c),um(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function sC(r,o,c,f){for(;r.nodeType===1;){var y=c;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[eu])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Ls(r.nextSibling),r===null)break}return null}function nC(r,o,c){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Ls(r.nextSibling),r===null))return null;return r}function zk(r,o){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Ls(r.nextSibling),r===null))return null;return r}function rg(r){return r.data==="$?"||r.data==="$~"}function ag(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function rC(r,o){var c=r.ownerDocument;if(r.data==="$~")r._reactRetry=o;else if(r.data!=="$?"||c.readyState!=="loading")o();else{var f=function(){o(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function Ls(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return r}var og=null;function Gk(r){r=r.nextSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"||c==="/&"){if(o===0)return Ls(r.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}r=r.nextSibling}return null}function Hk(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return r;o--}else c!=="/$"&&c!=="/&"||o++}r=r.previousSibling}return null}function qk(r,o,c){switch(o=Wd(c),r){case"html":if(r=o.documentElement,!r)throw Error(s(452));return r;case"head":if(r=o.head,!r)throw Error(s(453));return r;case"body":if(r=o.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Pu(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);um(r)}var Cs=new Map,Vk=new Set;function Xd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Vn=q.d;q.d={f:aC,r:oC,D:lC,C:uC,L:cC,m:dC,X:fC,S:hC,M:mC};function aC(){var r=Vn.f(),o=$d();return r||o}function oC(r){var o=vo(r);o!==null&&o.tag===5&&o.type==="form"?uE(o):Vn.r(r)}var Xo=typeof document>"u"?null:document;function Kk(r,o,c){var f=Xo;if(f&&typeof o=="string"&&o){var y=Ss(o);y='link[rel="'+r+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),Vk.has(y)||(Vk.add(y),r={rel:r,crossOrigin:c,href:o},f.querySelector(y)===null&&(o=f.createElement("link"),ki(o,"link",r),di(o),f.head.appendChild(o)))}}function lC(r){Vn.D(r),Kk("dns-prefetch",r,null)}function uC(r,o){Vn.C(r,o),Kk("preconnect",r,o)}function cC(r,o,c){Vn.L(r,o,c);var f=Xo;if(f&&r&&o){var y='link[rel="preload"][as="'+Ss(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+Ss(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+Ss(c.imageSizes)+'"]')):y+='[href="'+Ss(r)+'"]';var v=y;switch(o){case"style":v=Qo(r);break;case"script":v=Zo(r)}Cs.has(v)||(r=p({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:r,as:o},c),Cs.set(v,r),f.querySelector(y)!==null||o==="style"&&f.querySelector(Nu(v))||o==="script"&&f.querySelector(Fu(v))||(o=f.createElement("link"),ki(o,"link",r),di(o),f.head.appendChild(o)))}}function dC(r,o){Vn.m(r,o);var c=Xo;if(c&&r){var f=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Ss(f)+'"][href="'+Ss(r)+'"]',v=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Zo(r)}if(!Cs.has(v)&&(r=p({rel:"modulepreload",href:r},o),Cs.set(v,r),c.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Fu(v)))return}f=c.createElement("link"),ki(f,"link",r),di(f),c.head.appendChild(f)}}}function hC(r,o,c){Vn.S(r,o,c);var f=Xo;if(f&&r){var y=bo(f).hoistableStyles,v=Qo(r);o=o||"default";var T=y.get(v);if(!T){var D={loading:0,preload:null};if(T=f.querySelector(Nu(v)))D.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},c),(c=Cs.get(v))&&lg(r,c);var B=T=f.createElement("link");di(B),ki(B,"link",r),B._p=new Promise(function(J,ue){B.onload=J,B.onerror=ue}),B.addEventListener("load",function(){D.loading|=1}),B.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Qd(T,o,f)}T={type:"stylesheet",instance:T,count:1,state:D},y.set(v,T)}}}function fC(r,o){Vn.X(r,o);var c=Xo;if(c&&r){var f=bo(c).hoistableScripts,y=Zo(r),v=f.get(y);v||(v=c.querySelector(Fu(y)),v||(r=p({src:r,async:!0},o),(o=Cs.get(y))&&ug(r,o),v=c.createElement("script"),di(v),ki(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(y,v))}}function mC(r,o){Vn.M(r,o);var c=Xo;if(c&&r){var f=bo(c).hoistableScripts,y=Zo(r),v=f.get(y);v||(v=c.querySelector(Fu(y)),v||(r=p({src:r,async:!0,type:"module"},o),(o=Cs.get(y))&&ug(r,o),v=c.createElement("script"),di(v),ki(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(y,v))}}function Yk(r,o,c,f){var y=(y=me.current)?Xd(y):null;if(!y)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Qo(c.href),c=bo(y).hoistableStyles,f=c.get(o),f||(f={type:"style",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=Qo(c.href);var v=bo(y).hoistableStyles,T=v.get(r);if(T||(y=y.ownerDocument||y,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,T),(v=y.querySelector(Nu(r)))&&!v._p&&(T.instance=v,T.state.loading=5),Cs.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Cs.set(r,c),v||pC(y,r,c,T.state))),o&&f===null)throw Error(s(528,""));return T}if(o&&f!==null)throw Error(s(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Zo(c),c=bo(y).hoistableScripts,f=c.get(o),f||(f={type:"script",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Qo(r){return'href="'+Ss(r)+'"'}function Nu(r){return'link[rel="stylesheet"]['+r+"]"}function Wk(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function pC(r,o,c,f){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=r.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),ki(o,"link",c),di(o),r.head.appendChild(o))}function Zo(r){return'[src="'+Ss(r)+'"]'}function Fu(r){return"script[async]"+r}function Xk(r,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var f=r.querySelector('style[data-href~="'+Ss(c.href)+'"]');if(f)return o.instance=f,di(f),f;var y=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),di(f),ki(f,"style",y),Qd(f,c.precedence,r),o.instance=f;case"stylesheet":y=Qo(c.href);var v=r.querySelector(Nu(y));if(v)return o.state.loading|=4,o.instance=v,di(v),v;f=Wk(c),(y=Cs.get(y))&&lg(f,y),v=(r.ownerDocument||r).createElement("link"),di(v);var T=v;return T._p=new Promise(function(D,B){T.onload=D,T.onerror=B}),ki(v,"link",f),o.state.loading|=4,Qd(v,c.precedence,r),o.instance=v;case"script":return v=Zo(c.src),(y=r.querySelector(Fu(v)))?(o.instance=y,di(y),y):(f=c,(y=Cs.get(v))&&(f=p({},c),ug(f,y)),r=r.ownerDocument||r,y=r.createElement("script"),di(y),ki(y,"link",f),r.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,Qd(f,c.precedence,r));return o.instance}function Qd(r,o,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,v=y,T=0;T<f.length;T++){var D=f[T];if(D.dataset.precedence===o)v=D;else if(v!==y)break}v?v.parentNode.insertBefore(r,v.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(r,o.firstChild))}function lg(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function ug(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Zd=null;function Qk(r,o,c){if(Zd===null){var f=new Map,y=Zd=new Map;y.set(c,f)}else y=Zd,f=y.get(c),f||(f=new Map,y.set(c,f));if(f.has(r))return f;for(f.set(r,null),c=c.getElementsByTagName(r),y=0;y<c.length;y++){var v=c[y];if(!(v[eu]||v[yi]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var T=v.getAttribute(o)||"";T=r+T;var D=f.get(T);D?D.push(v):f.set(T,[v])}}return f}function Zk(r,o,c){r=r.ownerDocument||r,r.head.insertBefore(c,o==="title"?r.querySelector("head > title"):null)}function gC(r,o,c){if(c===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Jk(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function yC(r,o,c,f){if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=Qo(f.href),v=o.querySelector(Nu(y));if(v){o=v._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(r.count++,r=Jd.bind(r),o.then(r,r)),c.state.loading|=4,c.instance=v,di(v);return}v=o.ownerDocument||o,f=Wk(f),(y=Cs.get(y))&&lg(f,y),v=v.createElement("link"),di(v);var T=v;T._p=new Promise(function(D,B){T.onload=D,T.onerror=B}),ki(v,"link",f),c.instance=v}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(r.count++,c=Jd.bind(r),o.addEventListener("load",c),o.addEventListener("error",c))}}var cg=0;function vC(r,o){return r.stylesheets&&r.count===0&&th(r,r.stylesheets),0<r.count||0<r.imgCount?function(c){var f=setTimeout(function(){if(r.stylesheets&&th(r,r.stylesheets),r.unsuspend){var v=r.unsuspend;r.unsuspend=null,v()}},6e4+o);0<r.imgBytes&&cg===0&&(cg=62500*ZL());var y=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&th(r,r.stylesheets),r.unsuspend)){var v=r.unsuspend;r.unsuspend=null,v()}},(r.imgBytes>cg?50:800)+o);return r.unsuspend=c,function(){r.unsuspend=null,clearTimeout(f),clearTimeout(y)}}:null}function Jd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)th(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var eh=null;function th(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,eh=new Map,o.forEach(bC,r),eh=null,Jd.call(r))}function bC(r,o){if(!(o.state.loading&4)){var c=eh.get(r);if(c)var f=c.get(null);else{c=new Map,eh.set(r,c);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var T=y[v];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(c.set(T.dataset.precedence,T),f=T)}f&&c.set(null,f)}y=o.instance,T=y.getAttribute("data-precedence"),v=c.get(T)||f,v===f&&c.set(null,y),c.set(T,y),this.count++,f=Jd.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),v?v.parentNode.insertBefore(y,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),o.state.loading|=4}}var Bu={$$typeof:w,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function EC(r,o,c,f,y,v,T,D,B){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lr(0),this.hiddenUpdates=lr(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function eS(r,o,c,f,y,v,T,D,B,J,ue,fe){return r=new EC(r,o,c,T,B,J,ue,fe,D),o=1,v===!0&&(o|=24),v=as(3,null,null,o),r.current=v,v.stateNode=r,o=Gm(),o.refCount++,r.pooledCache=o,o.refCount++,v.memoizedState={element:f,isDehydrated:c,cache:o},Km(v),r}function tS(r){return r?(r=Lo,r):Lo}function iS(r,o,c,f,y,v){y=tS(y),f.context===null?f.context=y:f.pendingContext=y,f=gr(o),f.payload={element:c},v=v===void 0?null:v,v!==null&&(f.callback=v),c=yr(r,f,o),c!==null&&(Qi(c,r,o),yu(c,r,o))}function sS(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function dg(r,o){sS(r,o),(r=r.alternate)&&sS(r,o)}function nS(r){if(r.tag===13||r.tag===31){var o=ka(r,67108864);o!==null&&Qi(o,r,67108864),dg(r,67108864)}}function rS(r){if(r.tag===13||r.tag===31){var o=ds();o=po(o);var c=ka(r,o);c!==null&&Qi(c,r,o),dg(r,o)}}var ih=!0;function kC(r,o,c,f){var y=O.T;O.T=null;var v=q.p;try{q.p=2,hg(r,o,c,f)}finally{q.p=v,O.T=y}}function SC(r,o,c,f){var y=O.T;O.T=null;var v=q.p;try{q.p=8,hg(r,o,c,f)}finally{q.p=v,O.T=y}}function hg(r,o,c,f){if(ih){var y=fg(f);if(y===null)Zp(r,o,f,sh,c),oS(r,f);else if(TC(y,r,o,c,f))f.stopPropagation();else if(oS(r,f),o&4&&-1<xC.indexOf(r)){for(;y!==null;){var v=vo(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var T=tn(v.pendingLanes);if(T!==0){var D=v;for(D.pendingLanes|=2,D.entangledLanes|=2;T;){var B=1<<31-wi(T);D.entanglements[1]|=B,T&=~B}an(v),(bt&6)===0&&(Bd=pt()+500,ju(0))}}break;case 31:case 13:D=ka(v,2),D!==null&&Qi(D,v,2),$d(),dg(v,2)}if(v=fg(f),v===null&&Zp(r,o,f,sh,c),v===y)break;y=v}y!==null&&f.stopPropagation()}else Zp(r,o,f,null,c)}}function fg(r){return r=pm(r),mg(r)}var sh=null;function mg(r){if(sh=null,r=yo(r),r!==null){var o=a(r);if(o===null)r=null;else{var c=o.tag;if(c===13){if(r=l(o),r!==null)return r;r=null}else if(c===31){if(r=u(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return sh=r,null}function aS(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oi()){case pi:return 2;case ct:return 8;case xt:case Mi:return 32;case gi:return 268435456;default:return 32}default:return 32}}var pg=!1,Rr=null,Lr=null,Cr=null,Uu=new Map,$u=new Map,Dr=[],xC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oS(r,o){switch(r){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":Uu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":$u.delete(o.pointerId)}}function zu(r,o,c,f,y,v){return r===null||r.nativeEvent!==v?(r={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:v,targetContainers:[y]},o!==null&&(o=vo(o),o!==null&&nS(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),r)}function TC(r,o,c,f,y){switch(o){case"focusin":return Rr=zu(Rr,r,o,c,f,y),!0;case"dragenter":return Lr=zu(Lr,r,o,c,f,y),!0;case"mouseover":return Cr=zu(Cr,r,o,c,f,y),!0;case"pointerover":var v=y.pointerId;return Uu.set(v,zu(Uu.get(v)||null,r,o,c,f,y)),!0;case"gotpointercapture":return v=y.pointerId,$u.set(v,zu($u.get(v)||null,r,o,c,f,y)),!0}return!1}function lS(r){var o=yo(r.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){r.blockedOn=o,Sv(r.priority,function(){rS(c)});return}}else if(o===31){if(o=u(c),o!==null){r.blockedOn=o,Sv(r.priority,function(){rS(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function nh(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=fg(r.nativeEvent);if(c===null){c=r.nativeEvent;var f=new c.constructor(c.type,c);mm=f,c.target.dispatchEvent(f),mm=null}else return o=vo(c),o!==null&&nS(o),r.blockedOn=c,!1;o.shift()}return!0}function uS(r,o,c){nh(r)&&c.delete(o)}function AC(){pg=!1,Rr!==null&&nh(Rr)&&(Rr=null),Lr!==null&&nh(Lr)&&(Lr=null),Cr!==null&&nh(Cr)&&(Cr=null),Uu.forEach(uS),$u.forEach(uS)}function rh(r,o){r.blockedOn===o&&(r.blockedOn=null,pg||(pg=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,AC)))}var ah=null;function cS(r){ah!==r&&(ah=r,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ah===r&&(ah=null);for(var o=0;o<r.length;o+=3){var c=r[o],f=r[o+1],y=r[o+2];if(typeof f!="function"){if(mg(f||c)===null)continue;break}var v=vo(c);v!==null&&(r.splice(o,3),o-=3,fp(v,{pending:!0,data:y,method:c.method,action:f},f,y))}}))}function Jo(r){function o(B){return rh(B,r)}Rr!==null&&rh(Rr,r),Lr!==null&&rh(Lr,r),Cr!==null&&rh(Cr,r),Uu.forEach(o),$u.forEach(o);for(var c=0;c<Dr.length;c++){var f=Dr[c];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Dr.length&&(c=Dr[0],c.blockedOn===null);)lS(c),c.blockedOn===null&&Dr.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var y=c[f],v=c[f+1],T=y[qi]||null;if(typeof v=="function")T||cS(c);else if(T){var D=null;if(v&&v.hasAttribute("formAction")){if(y=v,T=v[qi]||null)D=T.formAction;else if(mg(y)!==null)continue}else D=T.action;typeof D=="function"?c[f+1]=D:(c.splice(f,3),f-=3),cS(c)}}}function dS(){function r(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(T){return y=T})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),f||setTimeout(c,20)}function c(){if(!f&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,y=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){f=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function gg(r){this._internalRoot=r}oh.prototype.render=gg.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(s(409));var c=o.current,f=ds();iS(c,f,r,o,null,null)},oh.prototype.unmount=gg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;iS(r.current,2,null,r,null,null),$d(),o[go]=null}};function oh(r){this._internalRoot=r}oh.prototype.unstable_scheduleHydration=function(r){if(r){var o=om();r={blockedOn:null,target:r,priority:o};for(var c=0;c<Dr.length&&o!==0&&o<Dr[c].priority;c++);Dr.splice(c,0,r),c===0&&lS(r)}};var hS=e.version;if(hS!=="19.2.4")throw Error(s(527,hS,"19.2.4"));q.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=d(o),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var wC={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{ma=lh.inject(wC),Pi=lh}catch{}}return Hu.createRoot=function(r,o){if(!n(r))throw Error(s(299));var c=!1,f="",y=bE,v=EE,T=kE;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError)),o=eS(r,1,!1,null,null,c,f,null,y,v,T,dS),r[go]=o.current,Qp(r),new gg(o)},Hu.hydrateRoot=function(r,o,c){if(!n(r))throw Error(s(299));var f=!1,y="",v=bE,T=EE,D=kE,B=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.formState!==void 0&&(B=c.formState)),o=eS(r,1,!0,o,c??null,f,y,B,v,T,D,dS),o.context=tS(null),c=o.current,f=ds(),f=po(f),y=gr(f),y.callback=null,yr(c,y,f),c=f,o.current.lanes=c,Ut(o,c),an(o),r[go]=o.current,Qp(r),new oh(o)},Hu.version="19.2.4",Hu}var xS;function FC(){if(xS)return Eg.exports;xS=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Eg.exports=NC(),Eg.exports}var BC=FC(),UC=/(%?)(%([sdijo]))/g;function $C(i,e){switch(e){case"s":return i;case"d":case"i":return Number(i);case"j":return JSON.stringify(i);case"o":{if(typeof i=="string")return i;const t=JSON.stringify(i);return t==="{}"||t==="[]"||/^\[object .+?\]$/.test(t)?i:t}}}function Yl(i,...e){if(e.length===0)return i;let t=0,s=i.replace(UC,(n,a,l,u)=>{const h=e[t],d=$C(h,u);return a?n:(t++,d)});return t<e.length&&(s+=` ${e.slice(t).join(" ")}`),s=s.replace(/%{2,2}/g,"%"),s}var zC=2;function GC(i){if(!i.stack)return;const e=i.stack.split(`
`);e.splice(1,zC),i.stack=e.join(`
`)}var HC=class extends Error{constructor(e,...t){super(e),this.message=e,this.name="Invariant Violation",this.message=Yl(e,...t),GC(this)}},Ks=(i,e,...t)=>{if(!i)throw new HC(e,...t)};Ks.as=(i,e,t,...s)=>{if(!e){const n=s.length===0?t:Yl(t,...s);let a;try{a=Reflect.construct(i,[n])}catch{a=i(n)}throw a}};const qC="[MSW]";function Sy(i,...e){const t=Yl(i,...e);return`${qC} ${t}`}function VC(i,...e){console.warn(Sy(i,...e))}function KC(i,...e){console.error(Sy(i,...e))}const kt={formatMessage:Sy,warn:VC,error:KC};class TS extends Error{constructor(e){super(e),this.name="InternalError"}}const YC=/[\/\\]msw[\/\\]src[\/\\](.+)/,WC=/(node_modules)?[\/\\]lib[\/\\](core|browser|node|native|iife)[\/\\]|^[^\/\\]*$/;function XC(i){const e=i.stack;if(!e)return;const s=e.split(`
`).slice(1).find(a=>!(YC.test(a)||WC.test(a)));return s?s.replace(/\s*at [^()]*\(([^)]+)\)/,"$1").replace(/^@/,""):void 0}function QC(i){return i?Reflect.has(i,Symbol.iterator)||Reflect.has(i,Symbol.asyncIterator):!1}const dc=class dc{constructor(e){at(this,"__kind");at(this,"info");at(this,"isUsed");at(this,"resolver");at(this,"resolverIterator");at(this,"resolverIteratorResult");at(this,"options");this.resolver=e.resolver,this.options=e.options;const t=XC(new Error);this.info={...e.info,callFrame:t},this.isUsed=!1,this.__kind="RequestHandler"}async parse(e){return{}}async test(e){const t=await this.parse({request:e.request,resolutionContext:e.resolutionContext});return this.predicate({request:e.request,parsedResult:t,resolutionContext:e.resolutionContext})}extendResolverArgs(e){return{}}cloneRequestOrGetFromCache(e){const t=dc.cache.get(e);if(typeof t<"u")return t;const s=e.clone();return dc.cache.set(e,s),s}async run(e){var m,p;if(this.isUsed&&((m=this.options)!=null&&m.once))return null;const t=this.cloneRequestOrGetFromCache(e.request),s=await this.parse({request:e.request,resolutionContext:e.resolutionContext});if(!this.predicate({request:e.request,parsedResult:s,resolutionContext:e.resolutionContext})||this.isUsed&&((p=this.options)!=null&&p.once))return null;this.isUsed=!0;const a=this.wrapResolver(this.resolver),l=this.extendResolverArgs({request:e.request,parsedResult:s}),h=await a({...l,requestId:e.requestId,request:e.request}).catch(g=>{if(g instanceof Response)return g;throw g});return this.createExecutionResult({request:t,requestId:e.requestId,response:h,parsedResult:s})}wrapResolver(e){return async t=>{var l;if(!this.resolverIterator){const u=await e(t);if(!QC(u))return u;this.resolverIterator=Symbol.iterator in u?u[Symbol.iterator]():u[Symbol.asyncIterator]()}this.isUsed=!1;const{done:s,value:n}=await this.resolverIterator.next(),a=await n;return a&&(this.resolverIteratorResult=a.clone()),s?(this.isUsed=!0,(l=this.resolverIteratorResult)==null?void 0:l.clone()):a}}createExecutionResult(e){return{handler:this,request:e.request,requestId:e.requestId,response:e.response,parsedResult:e.parsedResult}}};at(dc,"cache",new WeakMap);let ef=dc;var ZC=async i=>{try{return{error:null,data:await i().catch(t=>{throw t})}}catch(e){return{error:e,data:null}}};const JC=async({request:i,requestId:e,handlers:t,resolutionContext:s})=>{let n=null,a=null;for(const l of t)if(a=await l.run({request:i,requestId:e,resolutionContext:s}),a!==null&&(n=l),a!=null&&a.response)break;return n?{handler:n,parsedResult:a==null?void 0:a.parsedResult,response:a==null?void 0:a.response}:null};function Gc(i){if(typeof location>"u")return i.toString();const e=i instanceof URL?i:new URL(i);return e.origin===location.origin?e.pathname:e.origin+e.pathname}function eD(i){const e=new URL(i.url);return e.protocol==="file:"||/(fonts\.googleapis\.com)/.test(e.hostname)||/node_modules/.test(e.pathname)||e.pathname.includes("@vite")?!0:/\.(s?css|less|m?jsx?|m?tsx?|html|ttf|otf|woff|woff2|eot|gif|jpe?g|png|avif|webp|svg|mp4|webm|ogg|mov|mp3|wav|ogg|flac|aac|pdf|txt|csv|json|xml|md|zip|tar|gz|rar|7z)$/i.test(e.pathname)}async function E1(i,e="warn"){const t=new URL(i.url),s=Gc(t)+t.search,n=i.method==="HEAD"||i.method==="GET"?null:await i.clone().text(),l=`intercepted a request without a matching request handler:${`

   ${i.method} ${s}

${n?`   Request body: ${n}

`:""}`}If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/getting-started/mocks`;function u(h){switch(h){case"error":throw kt.error("Error: %s",l),new TS(kt.formatMessage('Cannot bypass a request when using the "error" strategy for the "onUnhandledRequest" option.'));case"warn":{kt.warn("Warning: %s",l);break}case"bypass":break;default:throw new TS(kt.formatMessage('Failed to react to an unhandled request: unknown strategy "%s". Please provide one of the supported strategies ("bypass", "warn", "error") or a custom callback function as the value of the "onUnhandledRequest" option.',h))}}if(typeof e=="function"){e(i,{warning:u.bind(null,"warn"),error:u.bind(null,"error")});return}eD(i)||u(e)}function xy(){if(typeof navigator<"u"&&navigator.product==="ReactNative")return!0;if(typeof process<"u"){const i=process.type;return i==="renderer"||i==="worker"?!1:!!(process.versions&&process.versions.node)}return!1}var tD=Object.create,k1=Object.defineProperty,iD=Object.getOwnPropertyDescriptor,S1=Object.getOwnPropertyNames,sD=Object.getPrototypeOf,nD=Object.prototype.hasOwnProperty,rD=(i=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(i,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):i)(function(i){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+i+'" is not supported')}),ji=(i,e)=>function(){return e||(0,i[S1(i)[0]])((e={exports:{}}).exports,e),e.exports},aD=(i,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of S1(e))!nD.call(i,n)&&n!==t&&k1(i,n,{get:()=>e[n],enumerable:!(s=iD(e,n))||s.enumerable});return i},oD=(i,e,t)=>(t=i!=null?tD(sD(i)):{},aD(k1(t,"default",{value:i,enumerable:!0}),i)),x1=ji({"node_modules/punycode/punycode.js"(i,e){var t=2147483647,s=36,n=1,a=26,l=38,u=700,h=72,d=128,m="-",p=/^xn--/,g=/[^\0-\x7F]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=s-n,S=Math.floor,x=String.fromCharCode;function _(U){throw new RangeError(b[U])}function w(U,O){const q=[];let W=U.length;for(;W--;)q[W]=O(U[W]);return q}function R(U,O){const q=U.split("@");let W="";q.length>1&&(W=q[0]+"@",U=q[1]),U=U.replace(E,".");const re=U.split("."),he=w(re,O).join(".");return W+he}function C(U){const O=[];let q=0;const W=U.length;for(;q<W;){const re=U.charCodeAt(q++);if(re>=55296&&re<=56319&&q<W){const he=U.charCodeAt(q++);(he&64512)==56320?O.push(((re&1023)<<10)+(he&1023)+65536):(O.push(re),q--)}else O.push(re)}return O}var I=U=>String.fromCodePoint(...U),L=function(U){return U>=48&&U<58?26+(U-48):U>=65&&U<91?U-65:U>=97&&U<123?U-97:s},P=function(U,O){return U+22+75*(U<26)-((O!=0)<<5)},M=function(U,O,q){let W=0;for(U=q?S(U/u):U>>1,U+=S(U/O);U>k*a>>1;W+=s)U=S(U/k);return S(W+(k+1)*U/(U+l))},N=function(U){const O=[],q=U.length;let W=0,re=d,he=h,j=U.lastIndexOf(m);j<0&&(j=0);for(let F=0;F<j;++F)U.charCodeAt(F)>=128&&_("not-basic"),O.push(U.charCodeAt(F));for(let F=j>0?j+1:0;F<q;){const K=W;for(let le=1,me=s;;me+=s){F>=q&&_("invalid-input");const xe=L(U.charCodeAt(F++));xe>=s&&_("invalid-input"),xe>S((t-W)/le)&&_("overflow"),W+=xe*le;const Ee=me<=he?n:me>=he+a?a:me-he;if(xe<Ee)break;const Oe=s-Ee;le>S(t/Oe)&&_("overflow"),le*=Oe}const ae=O.length+1;he=M(W-K,ae,K==0),S(W/ae)>t-re&&_("overflow"),re+=S(W/ae),W%=ae,O.splice(W++,0,re)}return String.fromCodePoint(...O)},H=function(U){const O=[];U=C(U);const q=U.length;let W=d,re=0,he=h;for(const K of U)K<128&&O.push(x(K));const j=O.length;let F=j;for(j&&O.push(m);F<q;){let K=t;for(const le of U)le>=W&&le<K&&(K=le);const ae=F+1;K-W>S((t-re)/ae)&&_("overflow"),re+=(K-W)*ae,W=K;for(const le of U)if(le<W&&++re>t&&_("overflow"),le===W){let me=re;for(let xe=s;;xe+=s){const Ee=xe<=he?n:xe>=he+a?a:xe-he;if(me<Ee)break;const Oe=me-Ee,ot=s-Ee;O.push(x(P(Ee+Oe%ot,0))),me=S(Oe/ot)}O.push(x(P(me,0))),he=M(re,ae,F===j),re=0,++F}++re,++W}return O.join("")},se=function(U){return R(U,function(O){return p.test(O)?N(O.slice(4).toLowerCase()):O})},ge=function(U){return R(U,function(O){return g.test(O)?"xn--"+H(O):O})},ve={version:"2.3.1",ucs2:{decode:C,encode:I},decode:N,encode:H,toASCII:ge,toUnicode:se};e.exports=ve}}),lD=ji({"node_modules/requires-port/index.js"(i,e){e.exports=function(s,n){if(n=n.split(":")[0],s=+s,!s)return!1;switch(n){case"http":case"ws":return s!==80;case"https":case"wss":return s!==443;case"ftp":return s!==21;case"gopher":return s!==70;case"file":return!1}return s!==0}}}),uD=ji({"node_modules/querystringify/index.js"(i){var e=Object.prototype.hasOwnProperty,t;function s(u){try{return decodeURIComponent(u.replace(/\+/g," "))}catch{return null}}function n(u){try{return encodeURIComponent(u)}catch{return null}}function a(u){for(var h=/([^=?#&]+)=?([^&]*)/g,d={},m;m=h.exec(u);){var p=s(m[1]),g=s(m[2]);p===null||g===null||p in d||(d[p]=g)}return d}function l(u,h){h=h||"";var d=[],m,p;typeof h!="string"&&(h="?");for(p in u)if(e.call(u,p)){if(m=u[p],!m&&(m===null||m===t||isNaN(m))&&(m=""),p=n(p),m=n(m),p===null||m===null)continue;d.push(p+"="+m)}return d.length?h+d.join("&"):""}i.stringify=l,i.parse=a}}),cD=ji({"node_modules/url-parse/index.js"(i,e){var t=lD(),s=uD(),n=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,l=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,u=/:\d+$/,h=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,d=/^[a-zA-Z]:/;function m(R){return(R||"").toString().replace(n,"")}var p=[["#","hash"],["?","query"],function(C,I){return b(I.protocol)?C.replace(/\\/g,"/"):C},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],g={hash:1,query:1};function E(R){var C;typeof window<"u"?C=window:typeof global<"u"?C=global:typeof self<"u"?C=self:C={};var I=C.location||{};R=R||I;var L={},P=typeof R,M;if(R.protocol==="blob:")L=new x(unescape(R.pathname),{});else if(P==="string"){L=new x(R,{});for(M in g)delete L[M]}else if(P==="object"){for(M in R)M in g||(L[M]=R[M]);L.slashes===void 0&&(L.slashes=l.test(R.href))}return L}function b(R){return R==="file:"||R==="ftp:"||R==="http:"||R==="https:"||R==="ws:"||R==="wss:"}function k(R,C){R=m(R),R=R.replace(a,""),C=C||{};var I=h.exec(R),L=I[1]?I[1].toLowerCase():"",P=!!I[2],M=!!I[3],N=0,H;return P?M?(H=I[2]+I[3]+I[4],N=I[2].length+I[3].length):(H=I[2]+I[4],N=I[2].length):M?(H=I[3]+I[4],N=I[3].length):H=I[4],L==="file:"?N>=2&&(H=H.slice(2)):b(L)?H=I[4]:L?P&&(H=H.slice(2)):N>=2&&b(C.protocol)&&(H=I[4]),{protocol:L,slashes:P||b(L),slashesCount:N,rest:H}}function S(R,C){if(R==="")return C;for(var I=(C||"/").split("/").slice(0,-1).concat(R.split("/")),L=I.length,P=I[L-1],M=!1,N=0;L--;)I[L]==="."?I.splice(L,1):I[L]===".."?(I.splice(L,1),N++):N&&(L===0&&(M=!0),I.splice(L,1),N--);return M&&I.unshift(""),(P==="."||P==="..")&&I.push(""),I.join("/")}function x(R,C,I){if(R=m(R),R=R.replace(a,""),!(this instanceof x))return new x(R,C,I);var L,P,M,N,H,se,ge=p.slice(),ve=typeof C,U=this,O=0;for(ve!=="object"&&ve!=="string"&&(I=C,C=null),I&&typeof I!="function"&&(I=s.parse),C=E(C),P=k(R||"",C),L=!P.protocol&&!P.slashes,U.slashes=P.slashes||L&&C.slashes,U.protocol=P.protocol||C.protocol||"",R=P.rest,(P.protocol==="file:"&&(P.slashesCount!==2||d.test(R))||!P.slashes&&(P.protocol||P.slashesCount<2||!b(U.protocol)))&&(ge[3]=[/(.*)/,"pathname"]);O<ge.length;O++){if(N=ge[O],typeof N=="function"){R=N(R,U);continue}M=N[0],se=N[1],M!==M?U[se]=R:typeof M=="string"?(H=M==="@"?R.lastIndexOf(M):R.indexOf(M),~H&&(typeof N[2]=="number"?(U[se]=R.slice(0,H),R=R.slice(H+N[2])):(U[se]=R.slice(H),R=R.slice(0,H)))):(H=M.exec(R))&&(U[se]=H[1],R=R.slice(0,H.index)),U[se]=U[se]||L&&N[3]&&C[se]||"",N[4]&&(U[se]=U[se].toLowerCase())}I&&(U.query=I(U.query)),L&&C.slashes&&U.pathname.charAt(0)!=="/"&&(U.pathname!==""||C.pathname!=="")&&(U.pathname=S(U.pathname,C.pathname)),U.pathname.charAt(0)!=="/"&&b(U.protocol)&&(U.pathname="/"+U.pathname),t(U.port,U.protocol)||(U.host=U.hostname,U.port=""),U.username=U.password="",U.auth&&(H=U.auth.indexOf(":"),~H?(U.username=U.auth.slice(0,H),U.username=encodeURIComponent(decodeURIComponent(U.username)),U.password=U.auth.slice(H+1),U.password=encodeURIComponent(decodeURIComponent(U.password))):U.username=encodeURIComponent(decodeURIComponent(U.auth)),U.auth=U.password?U.username+":"+U.password:U.username),U.origin=U.protocol!=="file:"&&b(U.protocol)&&U.host?U.protocol+"//"+U.host:"null",U.href=U.toString()}function _(R,C,I){var L=this;switch(R){case"query":typeof C=="string"&&C.length&&(C=(I||s.parse)(C)),L[R]=C;break;case"port":L[R]=C,t(C,L.protocol)?C&&(L.host=L.hostname+":"+C):(L.host=L.hostname,L[R]="");break;case"hostname":L[R]=C,L.port&&(C+=":"+L.port),L.host=C;break;case"host":L[R]=C,u.test(C)?(C=C.split(":"),L.port=C.pop(),L.hostname=C.join(":")):(L.hostname=C,L.port="");break;case"protocol":L.protocol=C.toLowerCase(),L.slashes=!I;break;case"pathname":case"hash":if(C){var P=R==="pathname"?"/":"#";L[R]=C.charAt(0)!==P?P+C:C}else L[R]=C;break;case"username":case"password":L[R]=encodeURIComponent(C);break;case"auth":var M=C.indexOf(":");~M?(L.username=C.slice(0,M),L.username=encodeURIComponent(decodeURIComponent(L.username)),L.password=C.slice(M+1),L.password=encodeURIComponent(decodeURIComponent(L.password))):L.username=encodeURIComponent(decodeURIComponent(C))}for(var N=0;N<p.length;N++){var H=p[N];H[4]&&(L[H[1]]=L[H[1]].toLowerCase())}return L.auth=L.password?L.username+":"+L.password:L.username,L.origin=L.protocol!=="file:"&&b(L.protocol)&&L.host?L.protocol+"//"+L.host:"null",L.href=L.toString(),L}function w(R){(!R||typeof R!="function")&&(R=s.stringify);var C,I=this,L=I.host,P=I.protocol;P&&P.charAt(P.length-1)!==":"&&(P+=":");var M=P+(I.protocol&&I.slashes||b(I.protocol)?"//":"");return I.username?(M+=I.username,I.password&&(M+=":"+I.password),M+="@"):I.password?(M+=":"+I.password,M+="@"):I.protocol!=="file:"&&b(I.protocol)&&!L&&I.pathname!=="/"&&(M+="@"),(L[L.length-1]===":"||u.test(I.hostname)&&!I.port)&&(L+=":"),M+=L+I.pathname,C=typeof I.query=="object"?R(I.query):I.query,C&&(M+=C.charAt(0)!=="?"?"?"+C:C),I.hash&&(M+=I.hash),M}x.prototype={set:_,toString:w},x.extractProtocol=k,x.location=E,x.trimLeft=m,x.qs=s,e.exports=x}}),dD=ji({"node_modules/psl/data/rules.json"(i,e){e.exports=["ac","com.ac","edu.ac","gov.ac","net.ac","mil.ac","org.ac","ad","nom.ad","ae","co.ae","net.ae","org.ae","sch.ae","ac.ae","gov.ae","mil.ae","aero","accident-investigation.aero","accident-prevention.aero","aerobatic.aero","aeroclub.aero","aerodrome.aero","agents.aero","aircraft.aero","airline.aero","airport.aero","air-surveillance.aero","airtraffic.aero","air-traffic-control.aero","ambulance.aero","amusement.aero","association.aero","author.aero","ballooning.aero","broker.aero","caa.aero","cargo.aero","catering.aero","certification.aero","championship.aero","charter.aero","civilaviation.aero","club.aero","conference.aero","consultant.aero","consulting.aero","control.aero","council.aero","crew.aero","design.aero","dgca.aero","educator.aero","emergency.aero","engine.aero","engineer.aero","entertainment.aero","equipment.aero","exchange.aero","express.aero","federation.aero","flight.aero","fuel.aero","gliding.aero","government.aero","groundhandling.aero","group.aero","hanggliding.aero","homebuilt.aero","insurance.aero","journal.aero","journalist.aero","leasing.aero","logistics.aero","magazine.aero","maintenance.aero","media.aero","microlight.aero","modelling.aero","navigation.aero","parachuting.aero","paragliding.aero","passenger-association.aero","pilot.aero","press.aero","production.aero","recreation.aero","repbody.aero","res.aero","research.aero","rotorcraft.aero","safety.aero","scientist.aero","services.aero","show.aero","skydiving.aero","software.aero","student.aero","trader.aero","trading.aero","trainer.aero","union.aero","workinggroup.aero","works.aero","af","gov.af","com.af","org.af","net.af","edu.af","ag","com.ag","org.ag","net.ag","co.ag","nom.ag","ai","off.ai","com.ai","net.ai","org.ai","al","com.al","edu.al","gov.al","mil.al","net.al","org.al","am","co.am","com.am","commune.am","net.am","org.am","ao","ed.ao","gv.ao","og.ao","co.ao","pb.ao","it.ao","aq","ar","bet.ar","com.ar","coop.ar","edu.ar","gob.ar","gov.ar","int.ar","mil.ar","musica.ar","mutual.ar","net.ar","org.ar","senasa.ar","tur.ar","arpa","e164.arpa","in-addr.arpa","ip6.arpa","iris.arpa","uri.arpa","urn.arpa","as","gov.as","asia","at","ac.at","co.at","gv.at","or.at","sth.ac.at","au","com.au","net.au","org.au","edu.au","gov.au","asn.au","id.au","info.au","conf.au","oz.au","act.au","nsw.au","nt.au","qld.au","sa.au","tas.au","vic.au","wa.au","act.edu.au","catholic.edu.au","nsw.edu.au","nt.edu.au","qld.edu.au","sa.edu.au","tas.edu.au","vic.edu.au","wa.edu.au","qld.gov.au","sa.gov.au","tas.gov.au","vic.gov.au","wa.gov.au","schools.nsw.edu.au","aw","com.aw","ax","az","com.az","net.az","int.az","gov.az","org.az","edu.az","info.az","pp.az","mil.az","name.az","pro.az","biz.az","ba","com.ba","edu.ba","gov.ba","mil.ba","net.ba","org.ba","bb","biz.bb","co.bb","com.bb","edu.bb","gov.bb","info.bb","net.bb","org.bb","store.bb","tv.bb","*.bd","be","ac.be","bf","gov.bf","bg","a.bg","b.bg","c.bg","d.bg","e.bg","f.bg","g.bg","h.bg","i.bg","j.bg","k.bg","l.bg","m.bg","n.bg","o.bg","p.bg","q.bg","r.bg","s.bg","t.bg","u.bg","v.bg","w.bg","x.bg","y.bg","z.bg","0.bg","1.bg","2.bg","3.bg","4.bg","5.bg","6.bg","7.bg","8.bg","9.bg","bh","com.bh","edu.bh","net.bh","org.bh","gov.bh","bi","co.bi","com.bi","edu.bi","or.bi","org.bi","biz","bj","asso.bj","barreau.bj","gouv.bj","bm","com.bm","edu.bm","gov.bm","net.bm","org.bm","bn","com.bn","edu.bn","gov.bn","net.bn","org.bn","bo","com.bo","edu.bo","gob.bo","int.bo","org.bo","net.bo","mil.bo","tv.bo","web.bo","academia.bo","agro.bo","arte.bo","blog.bo","bolivia.bo","ciencia.bo","cooperativa.bo","democracia.bo","deporte.bo","ecologia.bo","economia.bo","empresa.bo","indigena.bo","industria.bo","info.bo","medicina.bo","movimiento.bo","musica.bo","natural.bo","nombre.bo","noticias.bo","patria.bo","politica.bo","profesional.bo","plurinacional.bo","pueblo.bo","revista.bo","salud.bo","tecnologia.bo","tksat.bo","transporte.bo","wiki.bo","br","9guacu.br","abc.br","adm.br","adv.br","agr.br","aju.br","am.br","anani.br","aparecida.br","app.br","arq.br","art.br","ato.br","b.br","barueri.br","belem.br","bhz.br","bib.br","bio.br","blog.br","bmd.br","boavista.br","bsb.br","campinagrande.br","campinas.br","caxias.br","cim.br","cng.br","cnt.br","com.br","contagem.br","coop.br","coz.br","cri.br","cuiaba.br","curitiba.br","def.br","des.br","det.br","dev.br","ecn.br","eco.br","edu.br","emp.br","enf.br","eng.br","esp.br","etc.br","eti.br","far.br","feira.br","flog.br","floripa.br","fm.br","fnd.br","fortal.br","fot.br","foz.br","fst.br","g12.br","geo.br","ggf.br","goiania.br","gov.br","ac.gov.br","al.gov.br","am.gov.br","ap.gov.br","ba.gov.br","ce.gov.br","df.gov.br","es.gov.br","go.gov.br","ma.gov.br","mg.gov.br","ms.gov.br","mt.gov.br","pa.gov.br","pb.gov.br","pe.gov.br","pi.gov.br","pr.gov.br","rj.gov.br","rn.gov.br","ro.gov.br","rr.gov.br","rs.gov.br","sc.gov.br","se.gov.br","sp.gov.br","to.gov.br","gru.br","imb.br","ind.br","inf.br","jab.br","jampa.br","jdf.br","joinville.br","jor.br","jus.br","leg.br","lel.br","log.br","londrina.br","macapa.br","maceio.br","manaus.br","maringa.br","mat.br","med.br","mil.br","morena.br","mp.br","mus.br","natal.br","net.br","niteroi.br","*.nom.br","not.br","ntr.br","odo.br","ong.br","org.br","osasco.br","palmas.br","poa.br","ppg.br","pro.br","psc.br","psi.br","pvh.br","qsl.br","radio.br","rec.br","recife.br","rep.br","ribeirao.br","rio.br","riobranco.br","riopreto.br","salvador.br","sampa.br","santamaria.br","santoandre.br","saobernardo.br","saogonca.br","seg.br","sjc.br","slg.br","slz.br","sorocaba.br","srv.br","taxi.br","tc.br","tec.br","teo.br","the.br","tmp.br","trd.br","tur.br","tv.br","udi.br","vet.br","vix.br","vlog.br","wiki.br","zlg.br","bs","com.bs","net.bs","org.bs","edu.bs","gov.bs","bt","com.bt","edu.bt","gov.bt","net.bt","org.bt","bv","bw","co.bw","org.bw","by","gov.by","mil.by","com.by","of.by","bz","com.bz","net.bz","org.bz","edu.bz","gov.bz","ca","ab.ca","bc.ca","mb.ca","nb.ca","nf.ca","nl.ca","ns.ca","nt.ca","nu.ca","on.ca","pe.ca","qc.ca","sk.ca","yk.ca","gc.ca","cat","cc","cd","gov.cd","cf","cg","ch","ci","org.ci","or.ci","com.ci","co.ci","edu.ci","ed.ci","ac.ci","net.ci","go.ci","asso.ci","aroport.ci","int.ci","presse.ci","md.ci","gouv.ci","*.ck","!www.ck","cl","co.cl","gob.cl","gov.cl","mil.cl","cm","co.cm","com.cm","gov.cm","net.cm","cn","ac.cn","com.cn","edu.cn","gov.cn","net.cn","org.cn","mil.cn",".cn",".cn",".cn","ah.cn","bj.cn","cq.cn","fj.cn","gd.cn","gs.cn","gz.cn","gx.cn","ha.cn","hb.cn","he.cn","hi.cn","hl.cn","hn.cn","jl.cn","js.cn","jx.cn","ln.cn","nm.cn","nx.cn","qh.cn","sc.cn","sd.cn","sh.cn","sn.cn","sx.cn","tj.cn","xj.cn","xz.cn","yn.cn","zj.cn","hk.cn","mo.cn","tw.cn","co","arts.co","com.co","edu.co","firm.co","gov.co","info.co","int.co","mil.co","net.co","nom.co","org.co","rec.co","web.co","com","coop","cr","ac.cr","co.cr","ed.cr","fi.cr","go.cr","or.cr","sa.cr","cu","com.cu","edu.cu","org.cu","net.cu","gov.cu","inf.cu","cv","com.cv","edu.cv","int.cv","nome.cv","org.cv","cw","com.cw","edu.cw","net.cw","org.cw","cx","gov.cx","cy","ac.cy","biz.cy","com.cy","ekloges.cy","gov.cy","ltd.cy","mil.cy","net.cy","org.cy","press.cy","pro.cy","tm.cy","cz","de","dj","dk","dm","com.dm","net.dm","org.dm","edu.dm","gov.dm","do","art.do","com.do","edu.do","gob.do","gov.do","mil.do","net.do","org.do","sld.do","web.do","dz","art.dz","asso.dz","com.dz","edu.dz","gov.dz","org.dz","net.dz","pol.dz","soc.dz","tm.dz","ec","com.ec","info.ec","net.ec","fin.ec","k12.ec","med.ec","pro.ec","org.ec","edu.ec","gov.ec","gob.ec","mil.ec","edu","ee","edu.ee","gov.ee","riik.ee","lib.ee","med.ee","com.ee","pri.ee","aip.ee","org.ee","fie.ee","eg","com.eg","edu.eg","eun.eg","gov.eg","mil.eg","name.eg","net.eg","org.eg","sci.eg","*.er","es","com.es","nom.es","org.es","gob.es","edu.es","et","com.et","gov.et","org.et","edu.et","biz.et","name.et","info.et","net.et","eu","fi","aland.fi","fj","ac.fj","biz.fj","com.fj","gov.fj","info.fj","mil.fj","name.fj","net.fj","org.fj","pro.fj","*.fk","com.fm","edu.fm","net.fm","org.fm","fm","fo","fr","asso.fr","com.fr","gouv.fr","nom.fr","prd.fr","tm.fr","aeroport.fr","avocat.fr","avoues.fr","cci.fr","chambagri.fr","chirurgiens-dentistes.fr","experts-comptables.fr","geometre-expert.fr","greta.fr","huissier-justice.fr","medecin.fr","notaires.fr","pharmacien.fr","port.fr","veterinaire.fr","ga","gb","edu.gd","gov.gd","gd","ge","com.ge","edu.ge","gov.ge","org.ge","mil.ge","net.ge","pvt.ge","gf","gg","co.gg","net.gg","org.gg","gh","com.gh","edu.gh","gov.gh","org.gh","mil.gh","gi","com.gi","ltd.gi","gov.gi","mod.gi","edu.gi","org.gi","gl","co.gl","com.gl","edu.gl","net.gl","org.gl","gm","gn","ac.gn","com.gn","edu.gn","gov.gn","org.gn","net.gn","gov","gp","com.gp","net.gp","mobi.gp","edu.gp","org.gp","asso.gp","gq","gr","com.gr","edu.gr","net.gr","org.gr","gov.gr","gs","gt","com.gt","edu.gt","gob.gt","ind.gt","mil.gt","net.gt","org.gt","gu","com.gu","edu.gu","gov.gu","guam.gu","info.gu","net.gu","org.gu","web.gu","gw","gy","co.gy","com.gy","edu.gy","gov.gy","net.gy","org.gy","hk","com.hk","edu.hk","gov.hk","idv.hk","net.hk","org.hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk","hm","hn","com.hn","edu.hn","org.hn","net.hn","mil.hn","gob.hn","hr","iz.hr","from.hr","name.hr","com.hr","ht","com.ht","shop.ht","firm.ht","info.ht","adult.ht","net.ht","pro.ht","org.ht","med.ht","art.ht","coop.ht","pol.ht","asso.ht","edu.ht","rel.ht","gouv.ht","perso.ht","hu","co.hu","info.hu","org.hu","priv.hu","sport.hu","tm.hu","2000.hu","agrar.hu","bolt.hu","casino.hu","city.hu","erotica.hu","erotika.hu","film.hu","forum.hu","games.hu","hotel.hu","ingatlan.hu","jogasz.hu","konyvelo.hu","lakas.hu","media.hu","news.hu","reklam.hu","sex.hu","shop.hu","suli.hu","szex.hu","tozsde.hu","utazas.hu","video.hu","id","ac.id","biz.id","co.id","desa.id","go.id","mil.id","my.id","net.id","or.id","ponpes.id","sch.id","web.id","ie","gov.ie","il","ac.il","co.il","gov.il","idf.il","k12.il","muni.il","net.il","org.il","im","ac.im","co.im","com.im","ltd.co.im","net.im","org.im","plc.co.im","tt.im","tv.im","in","co.in","firm.in","net.in","org.in","gen.in","ind.in","nic.in","ac.in","edu.in","res.in","gov.in","mil.in","info","int","eu.int","io","com.io","iq","gov.iq","edu.iq","mil.iq","com.iq","org.iq","net.iq","ir","ac.ir","co.ir","gov.ir","id.ir","net.ir","org.ir","sch.ir",".ir",".ir","is","net.is","com.is","edu.is","gov.is","org.is","int.is","it","gov.it","edu.it","abr.it","abruzzo.it","aosta-valley.it","aostavalley.it","bas.it","basilicata.it","cal.it","calabria.it","cam.it","campania.it","emilia-romagna.it","emiliaromagna.it","emr.it","friuli-v-giulia.it","friuli-ve-giulia.it","friuli-vegiulia.it","friuli-venezia-giulia.it","friuli-veneziagiulia.it","friuli-vgiulia.it","friuliv-giulia.it","friulive-giulia.it","friulivegiulia.it","friulivenezia-giulia.it","friuliveneziagiulia.it","friulivgiulia.it","fvg.it","laz.it","lazio.it","lig.it","liguria.it","lom.it","lombardia.it","lombardy.it","lucania.it","mar.it","marche.it","mol.it","molise.it","piedmont.it","piemonte.it","pmn.it","pug.it","puglia.it","sar.it","sardegna.it","sardinia.it","sic.it","sicilia.it","sicily.it","taa.it","tos.it","toscana.it","trentin-sud-tirol.it","trentin-sd-tirol.it","trentin-sudtirol.it","trentin-sdtirol.it","trentin-sued-tirol.it","trentin-suedtirol.it","trentino-a-adige.it","trentino-aadige.it","trentino-alto-adige.it","trentino-altoadige.it","trentino-s-tirol.it","trentino-stirol.it","trentino-sud-tirol.it","trentino-sd-tirol.it","trentino-sudtirol.it","trentino-sdtirol.it","trentino-sued-tirol.it","trentino-suedtirol.it","trentino.it","trentinoa-adige.it","trentinoaadige.it","trentinoalto-adige.it","trentinoaltoadige.it","trentinos-tirol.it","trentinostirol.it","trentinosud-tirol.it","trentinosd-tirol.it","trentinosudtirol.it","trentinosdtirol.it","trentinosued-tirol.it","trentinosuedtirol.it","trentinsud-tirol.it","trentinsd-tirol.it","trentinsudtirol.it","trentinsdtirol.it","trentinsued-tirol.it","trentinsuedtirol.it","tuscany.it","umb.it","umbria.it","val-d-aosta.it","val-daosta.it","vald-aosta.it","valdaosta.it","valle-aosta.it","valle-d-aosta.it","valle-daosta.it","valleaosta.it","valled-aosta.it","valledaosta.it","vallee-aoste.it","valle-aoste.it","vallee-d-aoste.it","valle-d-aoste.it","valleeaoste.it","valleaoste.it","valleedaoste.it","valledaoste.it","vao.it","vda.it","ven.it","veneto.it","ag.it","agrigento.it","al.it","alessandria.it","alto-adige.it","altoadige.it","an.it","ancona.it","andria-barletta-trani.it","andria-trani-barletta.it","andriabarlettatrani.it","andriatranibarletta.it","ao.it","aosta.it","aoste.it","ap.it","aq.it","aquila.it","ar.it","arezzo.it","ascoli-piceno.it","ascolipiceno.it","asti.it","at.it","av.it","avellino.it","ba.it","balsan-sudtirol.it","balsan-sdtirol.it","balsan-suedtirol.it","balsan.it","bari.it","barletta-trani-andria.it","barlettatraniandria.it","belluno.it","benevento.it","bergamo.it","bg.it","bi.it","biella.it","bl.it","bn.it","bo.it","bologna.it","bolzano-altoadige.it","bolzano.it","bozen-sudtirol.it","bozen-sdtirol.it","bozen-suedtirol.it","bozen.it","br.it","brescia.it","brindisi.it","bs.it","bt.it","bulsan-sudtirol.it","bulsan-sdtirol.it","bulsan-suedtirol.it","bulsan.it","bz.it","ca.it","cagliari.it","caltanissetta.it","campidano-medio.it","campidanomedio.it","campobasso.it","carbonia-iglesias.it","carboniaiglesias.it","carrara-massa.it","carraramassa.it","caserta.it","catania.it","catanzaro.it","cb.it","ce.it","cesena-forli.it","cesena-forl.it","cesenaforli.it","cesenaforl.it","ch.it","chieti.it","ci.it","cl.it","cn.it","co.it","como.it","cosenza.it","cr.it","cremona.it","crotone.it","cs.it","ct.it","cuneo.it","cz.it","dell-ogliastra.it","dellogliastra.it","en.it","enna.it","fc.it","fe.it","fermo.it","ferrara.it","fg.it","fi.it","firenze.it","florence.it","fm.it","foggia.it","forli-cesena.it","forl-cesena.it","forlicesena.it","forlcesena.it","fr.it","frosinone.it","ge.it","genoa.it","genova.it","go.it","gorizia.it","gr.it","grosseto.it","iglesias-carbonia.it","iglesiascarbonia.it","im.it","imperia.it","is.it","isernia.it","kr.it","la-spezia.it","laquila.it","laspezia.it","latina.it","lc.it","le.it","lecce.it","lecco.it","li.it","livorno.it","lo.it","lodi.it","lt.it","lu.it","lucca.it","macerata.it","mantova.it","massa-carrara.it","massacarrara.it","matera.it","mb.it","mc.it","me.it","medio-campidano.it","mediocampidano.it","messina.it","mi.it","milan.it","milano.it","mn.it","mo.it","modena.it","monza-brianza.it","monza-e-della-brianza.it","monza.it","monzabrianza.it","monzaebrianza.it","monzaedellabrianza.it","ms.it","mt.it","na.it","naples.it","napoli.it","no.it","novara.it","nu.it","nuoro.it","og.it","ogliastra.it","olbia-tempio.it","olbiatempio.it","or.it","oristano.it","ot.it","pa.it","padova.it","padua.it","palermo.it","parma.it","pavia.it","pc.it","pd.it","pe.it","perugia.it","pesaro-urbino.it","pesarourbino.it","pescara.it","pg.it","pi.it","piacenza.it","pisa.it","pistoia.it","pn.it","po.it","pordenone.it","potenza.it","pr.it","prato.it","pt.it","pu.it","pv.it","pz.it","ra.it","ragusa.it","ravenna.it","rc.it","re.it","reggio-calabria.it","reggio-emilia.it","reggiocalabria.it","reggioemilia.it","rg.it","ri.it","rieti.it","rimini.it","rm.it","rn.it","ro.it","roma.it","rome.it","rovigo.it","sa.it","salerno.it","sassari.it","savona.it","si.it","siena.it","siracusa.it","so.it","sondrio.it","sp.it","sr.it","ss.it","suedtirol.it","sdtirol.it","sv.it","ta.it","taranto.it","te.it","tempio-olbia.it","tempioolbia.it","teramo.it","terni.it","tn.it","to.it","torino.it","tp.it","tr.it","trani-andria-barletta.it","trani-barletta-andria.it","traniandriabarletta.it","tranibarlettaandria.it","trapani.it","trento.it","treviso.it","trieste.it","ts.it","turin.it","tv.it","ud.it","udine.it","urbino-pesaro.it","urbinopesaro.it","va.it","varese.it","vb.it","vc.it","ve.it","venezia.it","venice.it","verbania.it","vercelli.it","verona.it","vi.it","vibo-valentia.it","vibovalentia.it","vicenza.it","viterbo.it","vr.it","vs.it","vt.it","vv.it","je","co.je","net.je","org.je","*.jm","jo","com.jo","org.jo","net.jo","edu.jo","sch.jo","gov.jo","mil.jo","name.jo","jobs","jp","ac.jp","ad.jp","co.jp","ed.jp","go.jp","gr.jp","lg.jp","ne.jp","or.jp","aichi.jp","akita.jp","aomori.jp","chiba.jp","ehime.jp","fukui.jp","fukuoka.jp","fukushima.jp","gifu.jp","gunma.jp","hiroshima.jp","hokkaido.jp","hyogo.jp","ibaraki.jp","ishikawa.jp","iwate.jp","kagawa.jp","kagoshima.jp","kanagawa.jp","kochi.jp","kumamoto.jp","kyoto.jp","mie.jp","miyagi.jp","miyazaki.jp","nagano.jp","nagasaki.jp","nara.jp","niigata.jp","oita.jp","okayama.jp","okinawa.jp","osaka.jp","saga.jp","saitama.jp","shiga.jp","shimane.jp","shizuoka.jp","tochigi.jp","tokushima.jp","tokyo.jp","tottori.jp","toyama.jp","wakayama.jp","yamagata.jp","yamaguchi.jp","yamanashi.jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp","*.kawasaki.jp","*.kitakyushu.jp","*.kobe.jp","*.nagoya.jp","*.sapporo.jp","*.sendai.jp","*.yokohama.jp","!city.kawasaki.jp","!city.kitakyushu.jp","!city.kobe.jp","!city.nagoya.jp","!city.sapporo.jp","!city.sendai.jp","!city.yokohama.jp","aisai.aichi.jp","ama.aichi.jp","anjo.aichi.jp","asuke.aichi.jp","chiryu.aichi.jp","chita.aichi.jp","fuso.aichi.jp","gamagori.aichi.jp","handa.aichi.jp","hazu.aichi.jp","hekinan.aichi.jp","higashiura.aichi.jp","ichinomiya.aichi.jp","inazawa.aichi.jp","inuyama.aichi.jp","isshiki.aichi.jp","iwakura.aichi.jp","kanie.aichi.jp","kariya.aichi.jp","kasugai.aichi.jp","kira.aichi.jp","kiyosu.aichi.jp","komaki.aichi.jp","konan.aichi.jp","kota.aichi.jp","mihama.aichi.jp","miyoshi.aichi.jp","nishio.aichi.jp","nisshin.aichi.jp","obu.aichi.jp","oguchi.aichi.jp","oharu.aichi.jp","okazaki.aichi.jp","owariasahi.aichi.jp","seto.aichi.jp","shikatsu.aichi.jp","shinshiro.aichi.jp","shitara.aichi.jp","tahara.aichi.jp","takahama.aichi.jp","tobishima.aichi.jp","toei.aichi.jp","togo.aichi.jp","tokai.aichi.jp","tokoname.aichi.jp","toyoake.aichi.jp","toyohashi.aichi.jp","toyokawa.aichi.jp","toyone.aichi.jp","toyota.aichi.jp","tsushima.aichi.jp","yatomi.aichi.jp","akita.akita.jp","daisen.akita.jp","fujisato.akita.jp","gojome.akita.jp","hachirogata.akita.jp","happou.akita.jp","higashinaruse.akita.jp","honjo.akita.jp","honjyo.akita.jp","ikawa.akita.jp","kamikoani.akita.jp","kamioka.akita.jp","katagami.akita.jp","kazuno.akita.jp","kitaakita.akita.jp","kosaka.akita.jp","kyowa.akita.jp","misato.akita.jp","mitane.akita.jp","moriyoshi.akita.jp","nikaho.akita.jp","noshiro.akita.jp","odate.akita.jp","oga.akita.jp","ogata.akita.jp","semboku.akita.jp","yokote.akita.jp","yurihonjo.akita.jp","aomori.aomori.jp","gonohe.aomori.jp","hachinohe.aomori.jp","hashikami.aomori.jp","hiranai.aomori.jp","hirosaki.aomori.jp","itayanagi.aomori.jp","kuroishi.aomori.jp","misawa.aomori.jp","mutsu.aomori.jp","nakadomari.aomori.jp","noheji.aomori.jp","oirase.aomori.jp","owani.aomori.jp","rokunohe.aomori.jp","sannohe.aomori.jp","shichinohe.aomori.jp","shingo.aomori.jp","takko.aomori.jp","towada.aomori.jp","tsugaru.aomori.jp","tsuruta.aomori.jp","abiko.chiba.jp","asahi.chiba.jp","chonan.chiba.jp","chosei.chiba.jp","choshi.chiba.jp","chuo.chiba.jp","funabashi.chiba.jp","futtsu.chiba.jp","hanamigawa.chiba.jp","ichihara.chiba.jp","ichikawa.chiba.jp","ichinomiya.chiba.jp","inzai.chiba.jp","isumi.chiba.jp","kamagaya.chiba.jp","kamogawa.chiba.jp","kashiwa.chiba.jp","katori.chiba.jp","katsuura.chiba.jp","kimitsu.chiba.jp","kisarazu.chiba.jp","kozaki.chiba.jp","kujukuri.chiba.jp","kyonan.chiba.jp","matsudo.chiba.jp","midori.chiba.jp","mihama.chiba.jp","minamiboso.chiba.jp","mobara.chiba.jp","mutsuzawa.chiba.jp","nagara.chiba.jp","nagareyama.chiba.jp","narashino.chiba.jp","narita.chiba.jp","noda.chiba.jp","oamishirasato.chiba.jp","omigawa.chiba.jp","onjuku.chiba.jp","otaki.chiba.jp","sakae.chiba.jp","sakura.chiba.jp","shimofusa.chiba.jp","shirako.chiba.jp","shiroi.chiba.jp","shisui.chiba.jp","sodegaura.chiba.jp","sosa.chiba.jp","tako.chiba.jp","tateyama.chiba.jp","togane.chiba.jp","tohnosho.chiba.jp","tomisato.chiba.jp","urayasu.chiba.jp","yachimata.chiba.jp","yachiyo.chiba.jp","yokaichiba.chiba.jp","yokoshibahikari.chiba.jp","yotsukaido.chiba.jp","ainan.ehime.jp","honai.ehime.jp","ikata.ehime.jp","imabari.ehime.jp","iyo.ehime.jp","kamijima.ehime.jp","kihoku.ehime.jp","kumakogen.ehime.jp","masaki.ehime.jp","matsuno.ehime.jp","matsuyama.ehime.jp","namikata.ehime.jp","niihama.ehime.jp","ozu.ehime.jp","saijo.ehime.jp","seiyo.ehime.jp","shikokuchuo.ehime.jp","tobe.ehime.jp","toon.ehime.jp","uchiko.ehime.jp","uwajima.ehime.jp","yawatahama.ehime.jp","echizen.fukui.jp","eiheiji.fukui.jp","fukui.fukui.jp","ikeda.fukui.jp","katsuyama.fukui.jp","mihama.fukui.jp","minamiechizen.fukui.jp","obama.fukui.jp","ohi.fukui.jp","ono.fukui.jp","sabae.fukui.jp","sakai.fukui.jp","takahama.fukui.jp","tsuruga.fukui.jp","wakasa.fukui.jp","ashiya.fukuoka.jp","buzen.fukuoka.jp","chikugo.fukuoka.jp","chikuho.fukuoka.jp","chikujo.fukuoka.jp","chikushino.fukuoka.jp","chikuzen.fukuoka.jp","chuo.fukuoka.jp","dazaifu.fukuoka.jp","fukuchi.fukuoka.jp","hakata.fukuoka.jp","higashi.fukuoka.jp","hirokawa.fukuoka.jp","hisayama.fukuoka.jp","iizuka.fukuoka.jp","inatsuki.fukuoka.jp","kaho.fukuoka.jp","kasuga.fukuoka.jp","kasuya.fukuoka.jp","kawara.fukuoka.jp","keisen.fukuoka.jp","koga.fukuoka.jp","kurate.fukuoka.jp","kurogi.fukuoka.jp","kurume.fukuoka.jp","minami.fukuoka.jp","miyako.fukuoka.jp","miyama.fukuoka.jp","miyawaka.fukuoka.jp","mizumaki.fukuoka.jp","munakata.fukuoka.jp","nakagawa.fukuoka.jp","nakama.fukuoka.jp","nishi.fukuoka.jp","nogata.fukuoka.jp","ogori.fukuoka.jp","okagaki.fukuoka.jp","okawa.fukuoka.jp","oki.fukuoka.jp","omuta.fukuoka.jp","onga.fukuoka.jp","onojo.fukuoka.jp","oto.fukuoka.jp","saigawa.fukuoka.jp","sasaguri.fukuoka.jp","shingu.fukuoka.jp","shinyoshitomi.fukuoka.jp","shonai.fukuoka.jp","soeda.fukuoka.jp","sue.fukuoka.jp","tachiarai.fukuoka.jp","tagawa.fukuoka.jp","takata.fukuoka.jp","toho.fukuoka.jp","toyotsu.fukuoka.jp","tsuiki.fukuoka.jp","ukiha.fukuoka.jp","umi.fukuoka.jp","usui.fukuoka.jp","yamada.fukuoka.jp","yame.fukuoka.jp","yanagawa.fukuoka.jp","yukuhashi.fukuoka.jp","aizubange.fukushima.jp","aizumisato.fukushima.jp","aizuwakamatsu.fukushima.jp","asakawa.fukushima.jp","bandai.fukushima.jp","date.fukushima.jp","fukushima.fukushima.jp","furudono.fukushima.jp","futaba.fukushima.jp","hanawa.fukushima.jp","higashi.fukushima.jp","hirata.fukushima.jp","hirono.fukushima.jp","iitate.fukushima.jp","inawashiro.fukushima.jp","ishikawa.fukushima.jp","iwaki.fukushima.jp","izumizaki.fukushima.jp","kagamiishi.fukushima.jp","kaneyama.fukushima.jp","kawamata.fukushima.jp","kitakata.fukushima.jp","kitashiobara.fukushima.jp","koori.fukushima.jp","koriyama.fukushima.jp","kunimi.fukushima.jp","miharu.fukushima.jp","mishima.fukushima.jp","namie.fukushima.jp","nango.fukushima.jp","nishiaizu.fukushima.jp","nishigo.fukushima.jp","okuma.fukushima.jp","omotego.fukushima.jp","ono.fukushima.jp","otama.fukushima.jp","samegawa.fukushima.jp","shimogo.fukushima.jp","shirakawa.fukushima.jp","showa.fukushima.jp","soma.fukushima.jp","sukagawa.fukushima.jp","taishin.fukushima.jp","tamakawa.fukushima.jp","tanagura.fukushima.jp","tenei.fukushima.jp","yabuki.fukushima.jp","yamato.fukushima.jp","yamatsuri.fukushima.jp","yanaizu.fukushima.jp","yugawa.fukushima.jp","anpachi.gifu.jp","ena.gifu.jp","gifu.gifu.jp","ginan.gifu.jp","godo.gifu.jp","gujo.gifu.jp","hashima.gifu.jp","hichiso.gifu.jp","hida.gifu.jp","higashishirakawa.gifu.jp","ibigawa.gifu.jp","ikeda.gifu.jp","kakamigahara.gifu.jp","kani.gifu.jp","kasahara.gifu.jp","kasamatsu.gifu.jp","kawaue.gifu.jp","kitagata.gifu.jp","mino.gifu.jp","minokamo.gifu.jp","mitake.gifu.jp","mizunami.gifu.jp","motosu.gifu.jp","nakatsugawa.gifu.jp","ogaki.gifu.jp","sakahogi.gifu.jp","seki.gifu.jp","sekigahara.gifu.jp","shirakawa.gifu.jp","tajimi.gifu.jp","takayama.gifu.jp","tarui.gifu.jp","toki.gifu.jp","tomika.gifu.jp","wanouchi.gifu.jp","yamagata.gifu.jp","yaotsu.gifu.jp","yoro.gifu.jp","annaka.gunma.jp","chiyoda.gunma.jp","fujioka.gunma.jp","higashiagatsuma.gunma.jp","isesaki.gunma.jp","itakura.gunma.jp","kanna.gunma.jp","kanra.gunma.jp","katashina.gunma.jp","kawaba.gunma.jp","kiryu.gunma.jp","kusatsu.gunma.jp","maebashi.gunma.jp","meiwa.gunma.jp","midori.gunma.jp","minakami.gunma.jp","naganohara.gunma.jp","nakanojo.gunma.jp","nanmoku.gunma.jp","numata.gunma.jp","oizumi.gunma.jp","ora.gunma.jp","ota.gunma.jp","shibukawa.gunma.jp","shimonita.gunma.jp","shinto.gunma.jp","showa.gunma.jp","takasaki.gunma.jp","takayama.gunma.jp","tamamura.gunma.jp","tatebayashi.gunma.jp","tomioka.gunma.jp","tsukiyono.gunma.jp","tsumagoi.gunma.jp","ueno.gunma.jp","yoshioka.gunma.jp","asaminami.hiroshima.jp","daiwa.hiroshima.jp","etajima.hiroshima.jp","fuchu.hiroshima.jp","fukuyama.hiroshima.jp","hatsukaichi.hiroshima.jp","higashihiroshima.hiroshima.jp","hongo.hiroshima.jp","jinsekikogen.hiroshima.jp","kaita.hiroshima.jp","kui.hiroshima.jp","kumano.hiroshima.jp","kure.hiroshima.jp","mihara.hiroshima.jp","miyoshi.hiroshima.jp","naka.hiroshima.jp","onomichi.hiroshima.jp","osakikamijima.hiroshima.jp","otake.hiroshima.jp","saka.hiroshima.jp","sera.hiroshima.jp","seranishi.hiroshima.jp","shinichi.hiroshima.jp","shobara.hiroshima.jp","takehara.hiroshima.jp","abashiri.hokkaido.jp","abira.hokkaido.jp","aibetsu.hokkaido.jp","akabira.hokkaido.jp","akkeshi.hokkaido.jp","asahikawa.hokkaido.jp","ashibetsu.hokkaido.jp","ashoro.hokkaido.jp","assabu.hokkaido.jp","atsuma.hokkaido.jp","bibai.hokkaido.jp","biei.hokkaido.jp","bifuka.hokkaido.jp","bihoro.hokkaido.jp","biratori.hokkaido.jp","chippubetsu.hokkaido.jp","chitose.hokkaido.jp","date.hokkaido.jp","ebetsu.hokkaido.jp","embetsu.hokkaido.jp","eniwa.hokkaido.jp","erimo.hokkaido.jp","esan.hokkaido.jp","esashi.hokkaido.jp","fukagawa.hokkaido.jp","fukushima.hokkaido.jp","furano.hokkaido.jp","furubira.hokkaido.jp","haboro.hokkaido.jp","hakodate.hokkaido.jp","hamatonbetsu.hokkaido.jp","hidaka.hokkaido.jp","higashikagura.hokkaido.jp","higashikawa.hokkaido.jp","hiroo.hokkaido.jp","hokuryu.hokkaido.jp","hokuto.hokkaido.jp","honbetsu.hokkaido.jp","horokanai.hokkaido.jp","horonobe.hokkaido.jp","ikeda.hokkaido.jp","imakane.hokkaido.jp","ishikari.hokkaido.jp","iwamizawa.hokkaido.jp","iwanai.hokkaido.jp","kamifurano.hokkaido.jp","kamikawa.hokkaido.jp","kamishihoro.hokkaido.jp","kamisunagawa.hokkaido.jp","kamoenai.hokkaido.jp","kayabe.hokkaido.jp","kembuchi.hokkaido.jp","kikonai.hokkaido.jp","kimobetsu.hokkaido.jp","kitahiroshima.hokkaido.jp","kitami.hokkaido.jp","kiyosato.hokkaido.jp","koshimizu.hokkaido.jp","kunneppu.hokkaido.jp","kuriyama.hokkaido.jp","kuromatsunai.hokkaido.jp","kushiro.hokkaido.jp","kutchan.hokkaido.jp","kyowa.hokkaido.jp","mashike.hokkaido.jp","matsumae.hokkaido.jp","mikasa.hokkaido.jp","minamifurano.hokkaido.jp","mombetsu.hokkaido.jp","moseushi.hokkaido.jp","mukawa.hokkaido.jp","muroran.hokkaido.jp","naie.hokkaido.jp","nakagawa.hokkaido.jp","nakasatsunai.hokkaido.jp","nakatombetsu.hokkaido.jp","nanae.hokkaido.jp","nanporo.hokkaido.jp","nayoro.hokkaido.jp","nemuro.hokkaido.jp","niikappu.hokkaido.jp","niki.hokkaido.jp","nishiokoppe.hokkaido.jp","noboribetsu.hokkaido.jp","numata.hokkaido.jp","obihiro.hokkaido.jp","obira.hokkaido.jp","oketo.hokkaido.jp","okoppe.hokkaido.jp","otaru.hokkaido.jp","otobe.hokkaido.jp","otofuke.hokkaido.jp","otoineppu.hokkaido.jp","oumu.hokkaido.jp","ozora.hokkaido.jp","pippu.hokkaido.jp","rankoshi.hokkaido.jp","rebun.hokkaido.jp","rikubetsu.hokkaido.jp","rishiri.hokkaido.jp","rishirifuji.hokkaido.jp","saroma.hokkaido.jp","sarufutsu.hokkaido.jp","shakotan.hokkaido.jp","shari.hokkaido.jp","shibecha.hokkaido.jp","shibetsu.hokkaido.jp","shikabe.hokkaido.jp","shikaoi.hokkaido.jp","shimamaki.hokkaido.jp","shimizu.hokkaido.jp","shimokawa.hokkaido.jp","shinshinotsu.hokkaido.jp","shintoku.hokkaido.jp","shiranuka.hokkaido.jp","shiraoi.hokkaido.jp","shiriuchi.hokkaido.jp","sobetsu.hokkaido.jp","sunagawa.hokkaido.jp","taiki.hokkaido.jp","takasu.hokkaido.jp","takikawa.hokkaido.jp","takinoue.hokkaido.jp","teshikaga.hokkaido.jp","tobetsu.hokkaido.jp","tohma.hokkaido.jp","tomakomai.hokkaido.jp","tomari.hokkaido.jp","toya.hokkaido.jp","toyako.hokkaido.jp","toyotomi.hokkaido.jp","toyoura.hokkaido.jp","tsubetsu.hokkaido.jp","tsukigata.hokkaido.jp","urakawa.hokkaido.jp","urausu.hokkaido.jp","uryu.hokkaido.jp","utashinai.hokkaido.jp","wakkanai.hokkaido.jp","wassamu.hokkaido.jp","yakumo.hokkaido.jp","yoichi.hokkaido.jp","aioi.hyogo.jp","akashi.hyogo.jp","ako.hyogo.jp","amagasaki.hyogo.jp","aogaki.hyogo.jp","asago.hyogo.jp","ashiya.hyogo.jp","awaji.hyogo.jp","fukusaki.hyogo.jp","goshiki.hyogo.jp","harima.hyogo.jp","himeji.hyogo.jp","ichikawa.hyogo.jp","inagawa.hyogo.jp","itami.hyogo.jp","kakogawa.hyogo.jp","kamigori.hyogo.jp","kamikawa.hyogo.jp","kasai.hyogo.jp","kasuga.hyogo.jp","kawanishi.hyogo.jp","miki.hyogo.jp","minamiawaji.hyogo.jp","nishinomiya.hyogo.jp","nishiwaki.hyogo.jp","ono.hyogo.jp","sanda.hyogo.jp","sannan.hyogo.jp","sasayama.hyogo.jp","sayo.hyogo.jp","shingu.hyogo.jp","shinonsen.hyogo.jp","shiso.hyogo.jp","sumoto.hyogo.jp","taishi.hyogo.jp","taka.hyogo.jp","takarazuka.hyogo.jp","takasago.hyogo.jp","takino.hyogo.jp","tamba.hyogo.jp","tatsuno.hyogo.jp","toyooka.hyogo.jp","yabu.hyogo.jp","yashiro.hyogo.jp","yoka.hyogo.jp","yokawa.hyogo.jp","ami.ibaraki.jp","asahi.ibaraki.jp","bando.ibaraki.jp","chikusei.ibaraki.jp","daigo.ibaraki.jp","fujishiro.ibaraki.jp","hitachi.ibaraki.jp","hitachinaka.ibaraki.jp","hitachiomiya.ibaraki.jp","hitachiota.ibaraki.jp","ibaraki.ibaraki.jp","ina.ibaraki.jp","inashiki.ibaraki.jp","itako.ibaraki.jp","iwama.ibaraki.jp","joso.ibaraki.jp","kamisu.ibaraki.jp","kasama.ibaraki.jp","kashima.ibaraki.jp","kasumigaura.ibaraki.jp","koga.ibaraki.jp","miho.ibaraki.jp","mito.ibaraki.jp","moriya.ibaraki.jp","naka.ibaraki.jp","namegata.ibaraki.jp","oarai.ibaraki.jp","ogawa.ibaraki.jp","omitama.ibaraki.jp","ryugasaki.ibaraki.jp","sakai.ibaraki.jp","sakuragawa.ibaraki.jp","shimodate.ibaraki.jp","shimotsuma.ibaraki.jp","shirosato.ibaraki.jp","sowa.ibaraki.jp","suifu.ibaraki.jp","takahagi.ibaraki.jp","tamatsukuri.ibaraki.jp","tokai.ibaraki.jp","tomobe.ibaraki.jp","tone.ibaraki.jp","toride.ibaraki.jp","tsuchiura.ibaraki.jp","tsukuba.ibaraki.jp","uchihara.ibaraki.jp","ushiku.ibaraki.jp","yachiyo.ibaraki.jp","yamagata.ibaraki.jp","yawara.ibaraki.jp","yuki.ibaraki.jp","anamizu.ishikawa.jp","hakui.ishikawa.jp","hakusan.ishikawa.jp","kaga.ishikawa.jp","kahoku.ishikawa.jp","kanazawa.ishikawa.jp","kawakita.ishikawa.jp","komatsu.ishikawa.jp","nakanoto.ishikawa.jp","nanao.ishikawa.jp","nomi.ishikawa.jp","nonoichi.ishikawa.jp","noto.ishikawa.jp","shika.ishikawa.jp","suzu.ishikawa.jp","tsubata.ishikawa.jp","tsurugi.ishikawa.jp","uchinada.ishikawa.jp","wajima.ishikawa.jp","fudai.iwate.jp","fujisawa.iwate.jp","hanamaki.iwate.jp","hiraizumi.iwate.jp","hirono.iwate.jp","ichinohe.iwate.jp","ichinoseki.iwate.jp","iwaizumi.iwate.jp","iwate.iwate.jp","joboji.iwate.jp","kamaishi.iwate.jp","kanegasaki.iwate.jp","karumai.iwate.jp","kawai.iwate.jp","kitakami.iwate.jp","kuji.iwate.jp","kunohe.iwate.jp","kuzumaki.iwate.jp","miyako.iwate.jp","mizusawa.iwate.jp","morioka.iwate.jp","ninohe.iwate.jp","noda.iwate.jp","ofunato.iwate.jp","oshu.iwate.jp","otsuchi.iwate.jp","rikuzentakata.iwate.jp","shiwa.iwate.jp","shizukuishi.iwate.jp","sumita.iwate.jp","tanohata.iwate.jp","tono.iwate.jp","yahaba.iwate.jp","yamada.iwate.jp","ayagawa.kagawa.jp","higashikagawa.kagawa.jp","kanonji.kagawa.jp","kotohira.kagawa.jp","manno.kagawa.jp","marugame.kagawa.jp","mitoyo.kagawa.jp","naoshima.kagawa.jp","sanuki.kagawa.jp","tadotsu.kagawa.jp","takamatsu.kagawa.jp","tonosho.kagawa.jp","uchinomi.kagawa.jp","utazu.kagawa.jp","zentsuji.kagawa.jp","akune.kagoshima.jp","amami.kagoshima.jp","hioki.kagoshima.jp","isa.kagoshima.jp","isen.kagoshima.jp","izumi.kagoshima.jp","kagoshima.kagoshima.jp","kanoya.kagoshima.jp","kawanabe.kagoshima.jp","kinko.kagoshima.jp","kouyama.kagoshima.jp","makurazaki.kagoshima.jp","matsumoto.kagoshima.jp","minamitane.kagoshima.jp","nakatane.kagoshima.jp","nishinoomote.kagoshima.jp","satsumasendai.kagoshima.jp","soo.kagoshima.jp","tarumizu.kagoshima.jp","yusui.kagoshima.jp","aikawa.kanagawa.jp","atsugi.kanagawa.jp","ayase.kanagawa.jp","chigasaki.kanagawa.jp","ebina.kanagawa.jp","fujisawa.kanagawa.jp","hadano.kanagawa.jp","hakone.kanagawa.jp","hiratsuka.kanagawa.jp","isehara.kanagawa.jp","kaisei.kanagawa.jp","kamakura.kanagawa.jp","kiyokawa.kanagawa.jp","matsuda.kanagawa.jp","minamiashigara.kanagawa.jp","miura.kanagawa.jp","nakai.kanagawa.jp","ninomiya.kanagawa.jp","odawara.kanagawa.jp","oi.kanagawa.jp","oiso.kanagawa.jp","sagamihara.kanagawa.jp","samukawa.kanagawa.jp","tsukui.kanagawa.jp","yamakita.kanagawa.jp","yamato.kanagawa.jp","yokosuka.kanagawa.jp","yugawara.kanagawa.jp","zama.kanagawa.jp","zushi.kanagawa.jp","aki.kochi.jp","geisei.kochi.jp","hidaka.kochi.jp","higashitsuno.kochi.jp","ino.kochi.jp","kagami.kochi.jp","kami.kochi.jp","kitagawa.kochi.jp","kochi.kochi.jp","mihara.kochi.jp","motoyama.kochi.jp","muroto.kochi.jp","nahari.kochi.jp","nakamura.kochi.jp","nankoku.kochi.jp","nishitosa.kochi.jp","niyodogawa.kochi.jp","ochi.kochi.jp","okawa.kochi.jp","otoyo.kochi.jp","otsuki.kochi.jp","sakawa.kochi.jp","sukumo.kochi.jp","susaki.kochi.jp","tosa.kochi.jp","tosashimizu.kochi.jp","toyo.kochi.jp","tsuno.kochi.jp","umaji.kochi.jp","yasuda.kochi.jp","yusuhara.kochi.jp","amakusa.kumamoto.jp","arao.kumamoto.jp","aso.kumamoto.jp","choyo.kumamoto.jp","gyokuto.kumamoto.jp","kamiamakusa.kumamoto.jp","kikuchi.kumamoto.jp","kumamoto.kumamoto.jp","mashiki.kumamoto.jp","mifune.kumamoto.jp","minamata.kumamoto.jp","minamioguni.kumamoto.jp","nagasu.kumamoto.jp","nishihara.kumamoto.jp","oguni.kumamoto.jp","ozu.kumamoto.jp","sumoto.kumamoto.jp","takamori.kumamoto.jp","uki.kumamoto.jp","uto.kumamoto.jp","yamaga.kumamoto.jp","yamato.kumamoto.jp","yatsushiro.kumamoto.jp","ayabe.kyoto.jp","fukuchiyama.kyoto.jp","higashiyama.kyoto.jp","ide.kyoto.jp","ine.kyoto.jp","joyo.kyoto.jp","kameoka.kyoto.jp","kamo.kyoto.jp","kita.kyoto.jp","kizu.kyoto.jp","kumiyama.kyoto.jp","kyotamba.kyoto.jp","kyotanabe.kyoto.jp","kyotango.kyoto.jp","maizuru.kyoto.jp","minami.kyoto.jp","minamiyamashiro.kyoto.jp","miyazu.kyoto.jp","muko.kyoto.jp","nagaokakyo.kyoto.jp","nakagyo.kyoto.jp","nantan.kyoto.jp","oyamazaki.kyoto.jp","sakyo.kyoto.jp","seika.kyoto.jp","tanabe.kyoto.jp","uji.kyoto.jp","ujitawara.kyoto.jp","wazuka.kyoto.jp","yamashina.kyoto.jp","yawata.kyoto.jp","asahi.mie.jp","inabe.mie.jp","ise.mie.jp","kameyama.mie.jp","kawagoe.mie.jp","kiho.mie.jp","kisosaki.mie.jp","kiwa.mie.jp","komono.mie.jp","kumano.mie.jp","kuwana.mie.jp","matsusaka.mie.jp","meiwa.mie.jp","mihama.mie.jp","minamiise.mie.jp","misugi.mie.jp","miyama.mie.jp","nabari.mie.jp","shima.mie.jp","suzuka.mie.jp","tado.mie.jp","taiki.mie.jp","taki.mie.jp","tamaki.mie.jp","toba.mie.jp","tsu.mie.jp","udono.mie.jp","ureshino.mie.jp","watarai.mie.jp","yokkaichi.mie.jp","furukawa.miyagi.jp","higashimatsushima.miyagi.jp","ishinomaki.miyagi.jp","iwanuma.miyagi.jp","kakuda.miyagi.jp","kami.miyagi.jp","kawasaki.miyagi.jp","marumori.miyagi.jp","matsushima.miyagi.jp","minamisanriku.miyagi.jp","misato.miyagi.jp","murata.miyagi.jp","natori.miyagi.jp","ogawara.miyagi.jp","ohira.miyagi.jp","onagawa.miyagi.jp","osaki.miyagi.jp","rifu.miyagi.jp","semine.miyagi.jp","shibata.miyagi.jp","shichikashuku.miyagi.jp","shikama.miyagi.jp","shiogama.miyagi.jp","shiroishi.miyagi.jp","tagajo.miyagi.jp","taiwa.miyagi.jp","tome.miyagi.jp","tomiya.miyagi.jp","wakuya.miyagi.jp","watari.miyagi.jp","yamamoto.miyagi.jp","zao.miyagi.jp","aya.miyazaki.jp","ebino.miyazaki.jp","gokase.miyazaki.jp","hyuga.miyazaki.jp","kadogawa.miyazaki.jp","kawaminami.miyazaki.jp","kijo.miyazaki.jp","kitagawa.miyazaki.jp","kitakata.miyazaki.jp","kitaura.miyazaki.jp","kobayashi.miyazaki.jp","kunitomi.miyazaki.jp","kushima.miyazaki.jp","mimata.miyazaki.jp","miyakonojo.miyazaki.jp","miyazaki.miyazaki.jp","morotsuka.miyazaki.jp","nichinan.miyazaki.jp","nishimera.miyazaki.jp","nobeoka.miyazaki.jp","saito.miyazaki.jp","shiiba.miyazaki.jp","shintomi.miyazaki.jp","takaharu.miyazaki.jp","takanabe.miyazaki.jp","takazaki.miyazaki.jp","tsuno.miyazaki.jp","achi.nagano.jp","agematsu.nagano.jp","anan.nagano.jp","aoki.nagano.jp","asahi.nagano.jp","azumino.nagano.jp","chikuhoku.nagano.jp","chikuma.nagano.jp","chino.nagano.jp","fujimi.nagano.jp","hakuba.nagano.jp","hara.nagano.jp","hiraya.nagano.jp","iida.nagano.jp","iijima.nagano.jp","iiyama.nagano.jp","iizuna.nagano.jp","ikeda.nagano.jp","ikusaka.nagano.jp","ina.nagano.jp","karuizawa.nagano.jp","kawakami.nagano.jp","kiso.nagano.jp","kisofukushima.nagano.jp","kitaaiki.nagano.jp","komagane.nagano.jp","komoro.nagano.jp","matsukawa.nagano.jp","matsumoto.nagano.jp","miasa.nagano.jp","minamiaiki.nagano.jp","minamimaki.nagano.jp","minamiminowa.nagano.jp","minowa.nagano.jp","miyada.nagano.jp","miyota.nagano.jp","mochizuki.nagano.jp","nagano.nagano.jp","nagawa.nagano.jp","nagiso.nagano.jp","nakagawa.nagano.jp","nakano.nagano.jp","nozawaonsen.nagano.jp","obuse.nagano.jp","ogawa.nagano.jp","okaya.nagano.jp","omachi.nagano.jp","omi.nagano.jp","ookuwa.nagano.jp","ooshika.nagano.jp","otaki.nagano.jp","otari.nagano.jp","sakae.nagano.jp","sakaki.nagano.jp","saku.nagano.jp","sakuho.nagano.jp","shimosuwa.nagano.jp","shinanomachi.nagano.jp","shiojiri.nagano.jp","suwa.nagano.jp","suzaka.nagano.jp","takagi.nagano.jp","takamori.nagano.jp","takayama.nagano.jp","tateshina.nagano.jp","tatsuno.nagano.jp","togakushi.nagano.jp","togura.nagano.jp","tomi.nagano.jp","ueda.nagano.jp","wada.nagano.jp","yamagata.nagano.jp","yamanouchi.nagano.jp","yasaka.nagano.jp","yasuoka.nagano.jp","chijiwa.nagasaki.jp","futsu.nagasaki.jp","goto.nagasaki.jp","hasami.nagasaki.jp","hirado.nagasaki.jp","iki.nagasaki.jp","isahaya.nagasaki.jp","kawatana.nagasaki.jp","kuchinotsu.nagasaki.jp","matsuura.nagasaki.jp","nagasaki.nagasaki.jp","obama.nagasaki.jp","omura.nagasaki.jp","oseto.nagasaki.jp","saikai.nagasaki.jp","sasebo.nagasaki.jp","seihi.nagasaki.jp","shimabara.nagasaki.jp","shinkamigoto.nagasaki.jp","togitsu.nagasaki.jp","tsushima.nagasaki.jp","unzen.nagasaki.jp","ando.nara.jp","gose.nara.jp","heguri.nara.jp","higashiyoshino.nara.jp","ikaruga.nara.jp","ikoma.nara.jp","kamikitayama.nara.jp","kanmaki.nara.jp","kashiba.nara.jp","kashihara.nara.jp","katsuragi.nara.jp","kawai.nara.jp","kawakami.nara.jp","kawanishi.nara.jp","koryo.nara.jp","kurotaki.nara.jp","mitsue.nara.jp","miyake.nara.jp","nara.nara.jp","nosegawa.nara.jp","oji.nara.jp","ouda.nara.jp","oyodo.nara.jp","sakurai.nara.jp","sango.nara.jp","shimoichi.nara.jp","shimokitayama.nara.jp","shinjo.nara.jp","soni.nara.jp","takatori.nara.jp","tawaramoto.nara.jp","tenkawa.nara.jp","tenri.nara.jp","uda.nara.jp","yamatokoriyama.nara.jp","yamatotakada.nara.jp","yamazoe.nara.jp","yoshino.nara.jp","aga.niigata.jp","agano.niigata.jp","gosen.niigata.jp","itoigawa.niigata.jp","izumozaki.niigata.jp","joetsu.niigata.jp","kamo.niigata.jp","kariwa.niigata.jp","kashiwazaki.niigata.jp","minamiuonuma.niigata.jp","mitsuke.niigata.jp","muika.niigata.jp","murakami.niigata.jp","myoko.niigata.jp","nagaoka.niigata.jp","niigata.niigata.jp","ojiya.niigata.jp","omi.niigata.jp","sado.niigata.jp","sanjo.niigata.jp","seiro.niigata.jp","seirou.niigata.jp","sekikawa.niigata.jp","shibata.niigata.jp","tagami.niigata.jp","tainai.niigata.jp","tochio.niigata.jp","tokamachi.niigata.jp","tsubame.niigata.jp","tsunan.niigata.jp","uonuma.niigata.jp","yahiko.niigata.jp","yoita.niigata.jp","yuzawa.niigata.jp","beppu.oita.jp","bungoono.oita.jp","bungotakada.oita.jp","hasama.oita.jp","hiji.oita.jp","himeshima.oita.jp","hita.oita.jp","kamitsue.oita.jp","kokonoe.oita.jp","kuju.oita.jp","kunisaki.oita.jp","kusu.oita.jp","oita.oita.jp","saiki.oita.jp","taketa.oita.jp","tsukumi.oita.jp","usa.oita.jp","usuki.oita.jp","yufu.oita.jp","akaiwa.okayama.jp","asakuchi.okayama.jp","bizen.okayama.jp","hayashima.okayama.jp","ibara.okayama.jp","kagamino.okayama.jp","kasaoka.okayama.jp","kibichuo.okayama.jp","kumenan.okayama.jp","kurashiki.okayama.jp","maniwa.okayama.jp","misaki.okayama.jp","nagi.okayama.jp","niimi.okayama.jp","nishiawakura.okayama.jp","okayama.okayama.jp","satosho.okayama.jp","setouchi.okayama.jp","shinjo.okayama.jp","shoo.okayama.jp","soja.okayama.jp","takahashi.okayama.jp","tamano.okayama.jp","tsuyama.okayama.jp","wake.okayama.jp","yakage.okayama.jp","aguni.okinawa.jp","ginowan.okinawa.jp","ginoza.okinawa.jp","gushikami.okinawa.jp","haebaru.okinawa.jp","higashi.okinawa.jp","hirara.okinawa.jp","iheya.okinawa.jp","ishigaki.okinawa.jp","ishikawa.okinawa.jp","itoman.okinawa.jp","izena.okinawa.jp","kadena.okinawa.jp","kin.okinawa.jp","kitadaito.okinawa.jp","kitanakagusuku.okinawa.jp","kumejima.okinawa.jp","kunigami.okinawa.jp","minamidaito.okinawa.jp","motobu.okinawa.jp","nago.okinawa.jp","naha.okinawa.jp","nakagusuku.okinawa.jp","nakijin.okinawa.jp","nanjo.okinawa.jp","nishihara.okinawa.jp","ogimi.okinawa.jp","okinawa.okinawa.jp","onna.okinawa.jp","shimoji.okinawa.jp","taketomi.okinawa.jp","tarama.okinawa.jp","tokashiki.okinawa.jp","tomigusuku.okinawa.jp","tonaki.okinawa.jp","urasoe.okinawa.jp","uruma.okinawa.jp","yaese.okinawa.jp","yomitan.okinawa.jp","yonabaru.okinawa.jp","yonaguni.okinawa.jp","zamami.okinawa.jp","abeno.osaka.jp","chihayaakasaka.osaka.jp","chuo.osaka.jp","daito.osaka.jp","fujiidera.osaka.jp","habikino.osaka.jp","hannan.osaka.jp","higashiosaka.osaka.jp","higashisumiyoshi.osaka.jp","higashiyodogawa.osaka.jp","hirakata.osaka.jp","ibaraki.osaka.jp","ikeda.osaka.jp","izumi.osaka.jp","izumiotsu.osaka.jp","izumisano.osaka.jp","kadoma.osaka.jp","kaizuka.osaka.jp","kanan.osaka.jp","kashiwara.osaka.jp","katano.osaka.jp","kawachinagano.osaka.jp","kishiwada.osaka.jp","kita.osaka.jp","kumatori.osaka.jp","matsubara.osaka.jp","minato.osaka.jp","minoh.osaka.jp","misaki.osaka.jp","moriguchi.osaka.jp","neyagawa.osaka.jp","nishi.osaka.jp","nose.osaka.jp","osakasayama.osaka.jp","sakai.osaka.jp","sayama.osaka.jp","sennan.osaka.jp","settsu.osaka.jp","shijonawate.osaka.jp","shimamoto.osaka.jp","suita.osaka.jp","tadaoka.osaka.jp","taishi.osaka.jp","tajiri.osaka.jp","takaishi.osaka.jp","takatsuki.osaka.jp","tondabayashi.osaka.jp","toyonaka.osaka.jp","toyono.osaka.jp","yao.osaka.jp","ariake.saga.jp","arita.saga.jp","fukudomi.saga.jp","genkai.saga.jp","hamatama.saga.jp","hizen.saga.jp","imari.saga.jp","kamimine.saga.jp","kanzaki.saga.jp","karatsu.saga.jp","kashima.saga.jp","kitagata.saga.jp","kitahata.saga.jp","kiyama.saga.jp","kouhoku.saga.jp","kyuragi.saga.jp","nishiarita.saga.jp","ogi.saga.jp","omachi.saga.jp","ouchi.saga.jp","saga.saga.jp","shiroishi.saga.jp","taku.saga.jp","tara.saga.jp","tosu.saga.jp","yoshinogari.saga.jp","arakawa.saitama.jp","asaka.saitama.jp","chichibu.saitama.jp","fujimi.saitama.jp","fujimino.saitama.jp","fukaya.saitama.jp","hanno.saitama.jp","hanyu.saitama.jp","hasuda.saitama.jp","hatogaya.saitama.jp","hatoyama.saitama.jp","hidaka.saitama.jp","higashichichibu.saitama.jp","higashimatsuyama.saitama.jp","honjo.saitama.jp","ina.saitama.jp","iruma.saitama.jp","iwatsuki.saitama.jp","kamiizumi.saitama.jp","kamikawa.saitama.jp","kamisato.saitama.jp","kasukabe.saitama.jp","kawagoe.saitama.jp","kawaguchi.saitama.jp","kawajima.saitama.jp","kazo.saitama.jp","kitamoto.saitama.jp","koshigaya.saitama.jp","kounosu.saitama.jp","kuki.saitama.jp","kumagaya.saitama.jp","matsubushi.saitama.jp","minano.saitama.jp","misato.saitama.jp","miyashiro.saitama.jp","miyoshi.saitama.jp","moroyama.saitama.jp","nagatoro.saitama.jp","namegawa.saitama.jp","niiza.saitama.jp","ogano.saitama.jp","ogawa.saitama.jp","ogose.saitama.jp","okegawa.saitama.jp","omiya.saitama.jp","otaki.saitama.jp","ranzan.saitama.jp","ryokami.saitama.jp","saitama.saitama.jp","sakado.saitama.jp","satte.saitama.jp","sayama.saitama.jp","shiki.saitama.jp","shiraoka.saitama.jp","soka.saitama.jp","sugito.saitama.jp","toda.saitama.jp","tokigawa.saitama.jp","tokorozawa.saitama.jp","tsurugashima.saitama.jp","urawa.saitama.jp","warabi.saitama.jp","yashio.saitama.jp","yokoze.saitama.jp","yono.saitama.jp","yorii.saitama.jp","yoshida.saitama.jp","yoshikawa.saitama.jp","yoshimi.saitama.jp","aisho.shiga.jp","gamo.shiga.jp","higashiomi.shiga.jp","hikone.shiga.jp","koka.shiga.jp","konan.shiga.jp","kosei.shiga.jp","koto.shiga.jp","kusatsu.shiga.jp","maibara.shiga.jp","moriyama.shiga.jp","nagahama.shiga.jp","nishiazai.shiga.jp","notogawa.shiga.jp","omihachiman.shiga.jp","otsu.shiga.jp","ritto.shiga.jp","ryuoh.shiga.jp","takashima.shiga.jp","takatsuki.shiga.jp","torahime.shiga.jp","toyosato.shiga.jp","yasu.shiga.jp","akagi.shimane.jp","ama.shimane.jp","gotsu.shimane.jp","hamada.shimane.jp","higashiizumo.shimane.jp","hikawa.shimane.jp","hikimi.shimane.jp","izumo.shimane.jp","kakinoki.shimane.jp","masuda.shimane.jp","matsue.shimane.jp","misato.shimane.jp","nishinoshima.shimane.jp","ohda.shimane.jp","okinoshima.shimane.jp","okuizumo.shimane.jp","shimane.shimane.jp","tamayu.shimane.jp","tsuwano.shimane.jp","unnan.shimane.jp","yakumo.shimane.jp","yasugi.shimane.jp","yatsuka.shimane.jp","arai.shizuoka.jp","atami.shizuoka.jp","fuji.shizuoka.jp","fujieda.shizuoka.jp","fujikawa.shizuoka.jp","fujinomiya.shizuoka.jp","fukuroi.shizuoka.jp","gotemba.shizuoka.jp","haibara.shizuoka.jp","hamamatsu.shizuoka.jp","higashiizu.shizuoka.jp","ito.shizuoka.jp","iwata.shizuoka.jp","izu.shizuoka.jp","izunokuni.shizuoka.jp","kakegawa.shizuoka.jp","kannami.shizuoka.jp","kawanehon.shizuoka.jp","kawazu.shizuoka.jp","kikugawa.shizuoka.jp","kosai.shizuoka.jp","makinohara.shizuoka.jp","matsuzaki.shizuoka.jp","minamiizu.shizuoka.jp","mishima.shizuoka.jp","morimachi.shizuoka.jp","nishiizu.shizuoka.jp","numazu.shizuoka.jp","omaezaki.shizuoka.jp","shimada.shizuoka.jp","shimizu.shizuoka.jp","shimoda.shizuoka.jp","shizuoka.shizuoka.jp","susono.shizuoka.jp","yaizu.shizuoka.jp","yoshida.shizuoka.jp","ashikaga.tochigi.jp","bato.tochigi.jp","haga.tochigi.jp","ichikai.tochigi.jp","iwafune.tochigi.jp","kaminokawa.tochigi.jp","kanuma.tochigi.jp","karasuyama.tochigi.jp","kuroiso.tochigi.jp","mashiko.tochigi.jp","mibu.tochigi.jp","moka.tochigi.jp","motegi.tochigi.jp","nasu.tochigi.jp","nasushiobara.tochigi.jp","nikko.tochigi.jp","nishikata.tochigi.jp","nogi.tochigi.jp","ohira.tochigi.jp","ohtawara.tochigi.jp","oyama.tochigi.jp","sakura.tochigi.jp","sano.tochigi.jp","shimotsuke.tochigi.jp","shioya.tochigi.jp","takanezawa.tochigi.jp","tochigi.tochigi.jp","tsuga.tochigi.jp","ujiie.tochigi.jp","utsunomiya.tochigi.jp","yaita.tochigi.jp","aizumi.tokushima.jp","anan.tokushima.jp","ichiba.tokushima.jp","itano.tokushima.jp","kainan.tokushima.jp","komatsushima.tokushima.jp","matsushige.tokushima.jp","mima.tokushima.jp","minami.tokushima.jp","miyoshi.tokushima.jp","mugi.tokushima.jp","nakagawa.tokushima.jp","naruto.tokushima.jp","sanagochi.tokushima.jp","shishikui.tokushima.jp","tokushima.tokushima.jp","wajiki.tokushima.jp","adachi.tokyo.jp","akiruno.tokyo.jp","akishima.tokyo.jp","aogashima.tokyo.jp","arakawa.tokyo.jp","bunkyo.tokyo.jp","chiyoda.tokyo.jp","chofu.tokyo.jp","chuo.tokyo.jp","edogawa.tokyo.jp","fuchu.tokyo.jp","fussa.tokyo.jp","hachijo.tokyo.jp","hachioji.tokyo.jp","hamura.tokyo.jp","higashikurume.tokyo.jp","higashimurayama.tokyo.jp","higashiyamato.tokyo.jp","hino.tokyo.jp","hinode.tokyo.jp","hinohara.tokyo.jp","inagi.tokyo.jp","itabashi.tokyo.jp","katsushika.tokyo.jp","kita.tokyo.jp","kiyose.tokyo.jp","kodaira.tokyo.jp","koganei.tokyo.jp","kokubunji.tokyo.jp","komae.tokyo.jp","koto.tokyo.jp","kouzushima.tokyo.jp","kunitachi.tokyo.jp","machida.tokyo.jp","meguro.tokyo.jp","minato.tokyo.jp","mitaka.tokyo.jp","mizuho.tokyo.jp","musashimurayama.tokyo.jp","musashino.tokyo.jp","nakano.tokyo.jp","nerima.tokyo.jp","ogasawara.tokyo.jp","okutama.tokyo.jp","ome.tokyo.jp","oshima.tokyo.jp","ota.tokyo.jp","setagaya.tokyo.jp","shibuya.tokyo.jp","shinagawa.tokyo.jp","shinjuku.tokyo.jp","suginami.tokyo.jp","sumida.tokyo.jp","tachikawa.tokyo.jp","taito.tokyo.jp","tama.tokyo.jp","toshima.tokyo.jp","chizu.tottori.jp","hino.tottori.jp","kawahara.tottori.jp","koge.tottori.jp","kotoura.tottori.jp","misasa.tottori.jp","nanbu.tottori.jp","nichinan.tottori.jp","sakaiminato.tottori.jp","tottori.tottori.jp","wakasa.tottori.jp","yazu.tottori.jp","yonago.tottori.jp","asahi.toyama.jp","fuchu.toyama.jp","fukumitsu.toyama.jp","funahashi.toyama.jp","himi.toyama.jp","imizu.toyama.jp","inami.toyama.jp","johana.toyama.jp","kamiichi.toyama.jp","kurobe.toyama.jp","nakaniikawa.toyama.jp","namerikawa.toyama.jp","nanto.toyama.jp","nyuzen.toyama.jp","oyabe.toyama.jp","taira.toyama.jp","takaoka.toyama.jp","tateyama.toyama.jp","toga.toyama.jp","tonami.toyama.jp","toyama.toyama.jp","unazuki.toyama.jp","uozu.toyama.jp","yamada.toyama.jp","arida.wakayama.jp","aridagawa.wakayama.jp","gobo.wakayama.jp","hashimoto.wakayama.jp","hidaka.wakayama.jp","hirogawa.wakayama.jp","inami.wakayama.jp","iwade.wakayama.jp","kainan.wakayama.jp","kamitonda.wakayama.jp","katsuragi.wakayama.jp","kimino.wakayama.jp","kinokawa.wakayama.jp","kitayama.wakayama.jp","koya.wakayama.jp","koza.wakayama.jp","kozagawa.wakayama.jp","kudoyama.wakayama.jp","kushimoto.wakayama.jp","mihama.wakayama.jp","misato.wakayama.jp","nachikatsuura.wakayama.jp","shingu.wakayama.jp","shirahama.wakayama.jp","taiji.wakayama.jp","tanabe.wakayama.jp","wakayama.wakayama.jp","yuasa.wakayama.jp","yura.wakayama.jp","asahi.yamagata.jp","funagata.yamagata.jp","higashine.yamagata.jp","iide.yamagata.jp","kahoku.yamagata.jp","kaminoyama.yamagata.jp","kaneyama.yamagata.jp","kawanishi.yamagata.jp","mamurogawa.yamagata.jp","mikawa.yamagata.jp","murayama.yamagata.jp","nagai.yamagata.jp","nakayama.yamagata.jp","nanyo.yamagata.jp","nishikawa.yamagata.jp","obanazawa.yamagata.jp","oe.yamagata.jp","oguni.yamagata.jp","ohkura.yamagata.jp","oishida.yamagata.jp","sagae.yamagata.jp","sakata.yamagata.jp","sakegawa.yamagata.jp","shinjo.yamagata.jp","shirataka.yamagata.jp","shonai.yamagata.jp","takahata.yamagata.jp","tendo.yamagata.jp","tozawa.yamagata.jp","tsuruoka.yamagata.jp","yamagata.yamagata.jp","yamanobe.yamagata.jp","yonezawa.yamagata.jp","yuza.yamagata.jp","abu.yamaguchi.jp","hagi.yamaguchi.jp","hikari.yamaguchi.jp","hofu.yamaguchi.jp","iwakuni.yamaguchi.jp","kudamatsu.yamaguchi.jp","mitou.yamaguchi.jp","nagato.yamaguchi.jp","oshima.yamaguchi.jp","shimonoseki.yamaguchi.jp","shunan.yamaguchi.jp","tabuse.yamaguchi.jp","tokuyama.yamaguchi.jp","toyota.yamaguchi.jp","ube.yamaguchi.jp","yuu.yamaguchi.jp","chuo.yamanashi.jp","doshi.yamanashi.jp","fuefuki.yamanashi.jp","fujikawa.yamanashi.jp","fujikawaguchiko.yamanashi.jp","fujiyoshida.yamanashi.jp","hayakawa.yamanashi.jp","hokuto.yamanashi.jp","ichikawamisato.yamanashi.jp","kai.yamanashi.jp","kofu.yamanashi.jp","koshu.yamanashi.jp","kosuge.yamanashi.jp","minami-alps.yamanashi.jp","minobu.yamanashi.jp","nakamichi.yamanashi.jp","nanbu.yamanashi.jp","narusawa.yamanashi.jp","nirasaki.yamanashi.jp","nishikatsura.yamanashi.jp","oshino.yamanashi.jp","otsuki.yamanashi.jp","showa.yamanashi.jp","tabayama.yamanashi.jp","tsuru.yamanashi.jp","uenohara.yamanashi.jp","yamanakako.yamanashi.jp","yamanashi.yamanashi.jp","ke","ac.ke","co.ke","go.ke","info.ke","me.ke","mobi.ke","ne.ke","or.ke","sc.ke","kg","org.kg","net.kg","com.kg","edu.kg","gov.kg","mil.kg","*.kh","ki","edu.ki","biz.ki","net.ki","org.ki","gov.ki","info.ki","com.ki","km","org.km","nom.km","gov.km","prd.km","tm.km","edu.km","mil.km","ass.km","com.km","coop.km","asso.km","presse.km","medecin.km","notaires.km","pharmaciens.km","veterinaire.km","gouv.km","kn","net.kn","org.kn","edu.kn","gov.kn","kp","com.kp","edu.kp","gov.kp","org.kp","rep.kp","tra.kp","kr","ac.kr","co.kr","es.kr","go.kr","hs.kr","kg.kr","mil.kr","ms.kr","ne.kr","or.kr","pe.kr","re.kr","sc.kr","busan.kr","chungbuk.kr","chungnam.kr","daegu.kr","daejeon.kr","gangwon.kr","gwangju.kr","gyeongbuk.kr","gyeonggi.kr","gyeongnam.kr","incheon.kr","jeju.kr","jeonbuk.kr","jeonnam.kr","seoul.kr","ulsan.kr","kw","com.kw","edu.kw","emb.kw","gov.kw","ind.kw","net.kw","org.kw","ky","com.ky","edu.ky","net.ky","org.ky","kz","org.kz","edu.kz","net.kz","gov.kz","mil.kz","com.kz","la","int.la","net.la","info.la","edu.la","gov.la","per.la","com.la","org.la","lb","com.lb","edu.lb","gov.lb","net.lb","org.lb","lc","com.lc","net.lc","co.lc","org.lc","edu.lc","gov.lc","li","lk","gov.lk","sch.lk","net.lk","int.lk","com.lk","org.lk","edu.lk","ngo.lk","soc.lk","web.lk","ltd.lk","assn.lk","grp.lk","hotel.lk","ac.lk","lr","com.lr","edu.lr","gov.lr","org.lr","net.lr","ls","ac.ls","biz.ls","co.ls","edu.ls","gov.ls","info.ls","net.ls","org.ls","sc.ls","lt","gov.lt","lu","lv","com.lv","edu.lv","gov.lv","org.lv","mil.lv","id.lv","net.lv","asn.lv","conf.lv","ly","com.ly","net.ly","gov.ly","plc.ly","edu.ly","sch.ly","med.ly","org.ly","id.ly","ma","co.ma","net.ma","gov.ma","org.ma","ac.ma","press.ma","mc","tm.mc","asso.mc","md","me","co.me","net.me","org.me","edu.me","ac.me","gov.me","its.me","priv.me","mg","org.mg","nom.mg","gov.mg","prd.mg","tm.mg","edu.mg","mil.mg","com.mg","co.mg","mh","mil","mk","com.mk","org.mk","net.mk","edu.mk","gov.mk","inf.mk","name.mk","ml","com.ml","edu.ml","gouv.ml","gov.ml","net.ml","org.ml","presse.ml","*.mm","mn","gov.mn","edu.mn","org.mn","mo","com.mo","net.mo","org.mo","edu.mo","gov.mo","mobi","mp","mq","mr","gov.mr","ms","com.ms","edu.ms","gov.ms","net.ms","org.ms","mt","com.mt","edu.mt","net.mt","org.mt","mu","com.mu","net.mu","org.mu","gov.mu","ac.mu","co.mu","or.mu","museum","academy.museum","agriculture.museum","air.museum","airguard.museum","alabama.museum","alaska.museum","amber.museum","ambulance.museum","american.museum","americana.museum","americanantiques.museum","americanart.museum","amsterdam.museum","and.museum","annefrank.museum","anthro.museum","anthropology.museum","antiques.museum","aquarium.museum","arboretum.museum","archaeological.museum","archaeology.museum","architecture.museum","art.museum","artanddesign.museum","artcenter.museum","artdeco.museum","arteducation.museum","artgallery.museum","arts.museum","artsandcrafts.museum","asmatart.museum","assassination.museum","assisi.museum","association.museum","astronomy.museum","atlanta.museum","austin.museum","australia.museum","automotive.museum","aviation.museum","axis.museum","badajoz.museum","baghdad.museum","bahn.museum","bale.museum","baltimore.museum","barcelona.museum","baseball.museum","basel.museum","baths.museum","bauern.museum","beauxarts.museum","beeldengeluid.museum","bellevue.museum","bergbau.museum","berkeley.museum","berlin.museum","bern.museum","bible.museum","bilbao.museum","bill.museum","birdart.museum","birthplace.museum","bonn.museum","boston.museum","botanical.museum","botanicalgarden.museum","botanicgarden.museum","botany.museum","brandywinevalley.museum","brasil.museum","bristol.museum","british.museum","britishcolumbia.museum","broadcast.museum","brunel.museum","brussel.museum","brussels.museum","bruxelles.museum","building.museum","burghof.museum","bus.museum","bushey.museum","cadaques.museum","california.museum","cambridge.museum","can.museum","canada.museum","capebreton.museum","carrier.museum","cartoonart.museum","casadelamoneda.museum","castle.museum","castres.museum","celtic.museum","center.museum","chattanooga.museum","cheltenham.museum","chesapeakebay.museum","chicago.museum","children.museum","childrens.museum","childrensgarden.museum","chiropractic.museum","chocolate.museum","christiansburg.museum","cincinnati.museum","cinema.museum","circus.museum","civilisation.museum","civilization.museum","civilwar.museum","clinton.museum","clock.museum","coal.museum","coastaldefence.museum","cody.museum","coldwar.museum","collection.museum","colonialwilliamsburg.museum","coloradoplateau.museum","columbia.museum","columbus.museum","communication.museum","communications.museum","community.museum","computer.museum","computerhistory.museum","comunicaes.museum","contemporary.museum","contemporaryart.museum","convent.museum","copenhagen.museum","corporation.museum","correios-e-telecomunicaes.museum","corvette.museum","costume.museum","countryestate.museum","county.museum","crafts.museum","cranbrook.museum","creation.museum","cultural.museum","culturalcenter.museum","culture.museum","cyber.museum","cymru.museum","dali.museum","dallas.museum","database.museum","ddr.museum","decorativearts.museum","delaware.museum","delmenhorst.museum","denmark.museum","depot.museum","design.museum","detroit.museum","dinosaur.museum","discovery.museum","dolls.museum","donostia.museum","durham.museum","eastafrica.museum","eastcoast.museum","education.museum","educational.museum","egyptian.museum","eisenbahn.museum","elburg.museum","elvendrell.museum","embroidery.museum","encyclopedic.museum","england.museum","entomology.museum","environment.museum","environmentalconservation.museum","epilepsy.museum","essex.museum","estate.museum","ethnology.museum","exeter.museum","exhibition.museum","family.museum","farm.museum","farmequipment.museum","farmers.museum","farmstead.museum","field.museum","figueres.museum","filatelia.museum","film.museum","fineart.museum","finearts.museum","finland.museum","flanders.museum","florida.museum","force.museum","fortmissoula.museum","fortworth.museum","foundation.museum","francaise.museum","frankfurt.museum","franziskaner.museum","freemasonry.museum","freiburg.museum","fribourg.museum","frog.museum","fundacio.museum","furniture.museum","gallery.museum","garden.museum","gateway.museum","geelvinck.museum","gemological.museum","geology.museum","georgia.museum","giessen.museum","glas.museum","glass.museum","gorge.museum","grandrapids.museum","graz.museum","guernsey.museum","halloffame.museum","hamburg.museum","handson.museum","harvestcelebration.museum","hawaii.museum","health.museum","heimatunduhren.museum","hellas.museum","helsinki.museum","hembygdsforbund.museum","heritage.museum","histoire.museum","historical.museum","historicalsociety.museum","historichouses.museum","historisch.museum","historisches.museum","history.museum","historyofscience.museum","horology.museum","house.museum","humanities.museum","illustration.museum","imageandsound.museum","indian.museum","indiana.museum","indianapolis.museum","indianmarket.museum","intelligence.museum","interactive.museum","iraq.museum","iron.museum","isleofman.museum","jamison.museum","jefferson.museum","jerusalem.museum","jewelry.museum","jewish.museum","jewishart.museum","jfk.museum","journalism.museum","judaica.museum","judygarland.museum","juedisches.museum","juif.museum","karate.museum","karikatur.museum","kids.museum","koebenhavn.museum","koeln.museum","kunst.museum","kunstsammlung.museum","kunstunddesign.museum","labor.museum","labour.museum","lajolla.museum","lancashire.museum","landes.museum","lans.museum","lns.museum","larsson.museum","lewismiller.museum","lincoln.museum","linz.museum","living.museum","livinghistory.museum","localhistory.museum","london.museum","losangeles.museum","louvre.museum","loyalist.museum","lucerne.museum","luxembourg.museum","luzern.museum","mad.museum","madrid.museum","mallorca.museum","manchester.museum","mansion.museum","mansions.museum","manx.museum","marburg.museum","maritime.museum","maritimo.museum","maryland.museum","marylhurst.museum","media.museum","medical.museum","medizinhistorisches.museum","meeres.museum","memorial.museum","mesaverde.museum","michigan.museum","midatlantic.museum","military.museum","mill.museum","miners.museum","mining.museum","minnesota.museum","missile.museum","missoula.museum","modern.museum","moma.museum","money.museum","monmouth.museum","monticello.museum","montreal.museum","moscow.museum","motorcycle.museum","muenchen.museum","muenster.museum","mulhouse.museum","muncie.museum","museet.museum","museumcenter.museum","museumvereniging.museum","music.museum","national.museum","nationalfirearms.museum","nationalheritage.museum","nativeamerican.museum","naturalhistory.museum","naturalhistorymuseum.museum","naturalsciences.museum","nature.museum","naturhistorisches.museum","natuurwetenschappen.museum","naumburg.museum","naval.museum","nebraska.museum","neues.museum","newhampshire.museum","newjersey.museum","newmexico.museum","newport.museum","newspaper.museum","newyork.museum","niepce.museum","norfolk.museum","north.museum","nrw.museum","nyc.museum","nyny.museum","oceanographic.museum","oceanographique.museum","omaha.museum","online.museum","ontario.museum","openair.museum","oregon.museum","oregontrail.museum","otago.museum","oxford.museum","pacific.museum","paderborn.museum","palace.museum","paleo.museum","palmsprings.museum","panama.museum","paris.museum","pasadena.museum","pharmacy.museum","philadelphia.museum","philadelphiaarea.museum","philately.museum","phoenix.museum","photography.museum","pilots.museum","pittsburgh.museum","planetarium.museum","plantation.museum","plants.museum","plaza.museum","portal.museum","portland.museum","portlligat.museum","posts-and-telecommunications.museum","preservation.museum","presidio.museum","press.museum","project.museum","public.museum","pubol.museum","quebec.museum","railroad.museum","railway.museum","research.museum","resistance.museum","riodejaneiro.museum","rochester.museum","rockart.museum","roma.museum","russia.museum","saintlouis.museum","salem.museum","salvadordali.museum","salzburg.museum","sandiego.museum","sanfrancisco.museum","santabarbara.museum","santacruz.museum","santafe.museum","saskatchewan.museum","satx.museum","savannahga.museum","schlesisches.museum","schoenbrunn.museum","schokoladen.museum","school.museum","schweiz.museum","science.museum","scienceandhistory.museum","scienceandindustry.museum","sciencecenter.museum","sciencecenters.museum","science-fiction.museum","sciencehistory.museum","sciences.museum","sciencesnaturelles.museum","scotland.museum","seaport.museum","settlement.museum","settlers.museum","shell.museum","sherbrooke.museum","sibenik.museum","silk.museum","ski.museum","skole.museum","society.museum","sologne.museum","soundandvision.museum","southcarolina.museum","southwest.museum","space.museum","spy.museum","square.museum","stadt.museum","stalbans.museum","starnberg.museum","state.museum","stateofdelaware.museum","station.museum","steam.museum","steiermark.museum","stjohn.museum","stockholm.museum","stpetersburg.museum","stuttgart.museum","suisse.museum","surgeonshall.museum","surrey.museum","svizzera.museum","sweden.museum","sydney.museum","tank.museum","tcm.museum","technology.museum","telekommunikation.museum","television.museum","texas.museum","textile.museum","theater.museum","time.museum","timekeeping.museum","topology.museum","torino.museum","touch.museum","town.museum","transport.museum","tree.museum","trolley.museum","trust.museum","trustee.museum","uhren.museum","ulm.museum","undersea.museum","university.museum","usa.museum","usantiques.museum","usarts.museum","uscountryestate.museum","usculture.museum","usdecorativearts.museum","usgarden.museum","ushistory.museum","ushuaia.museum","uslivinghistory.museum","utah.museum","uvic.museum","valley.museum","vantaa.museum","versailles.museum","viking.museum","village.museum","virginia.museum","virtual.museum","virtuel.museum","vlaanderen.museum","volkenkunde.museum","wales.museum","wallonie.museum","war.museum","washingtondc.museum","watchandclock.museum","watch-and-clock.museum","western.museum","westfalen.museum","whaling.museum","wildlife.museum","williamsburg.museum","windmill.museum","workshop.museum","york.museum","yorkshire.museum","yosemite.museum","youth.museum","zoological.museum","zoology.museum",".museum",".museum","mv","aero.mv","biz.mv","com.mv","coop.mv","edu.mv","gov.mv","info.mv","int.mv","mil.mv","museum.mv","name.mv","net.mv","org.mv","pro.mv","mw","ac.mw","biz.mw","co.mw","com.mw","coop.mw","edu.mw","gov.mw","int.mw","museum.mw","net.mw","org.mw","mx","com.mx","org.mx","gob.mx","edu.mx","net.mx","my","biz.my","com.my","edu.my","gov.my","mil.my","name.my","net.my","org.my","mz","ac.mz","adv.mz","co.mz","edu.mz","gov.mz","mil.mz","net.mz","org.mz","na","info.na","pro.na","name.na","school.na","or.na","dr.na","us.na","mx.na","ca.na","in.na","cc.na","tv.na","ws.na","mobi.na","co.na","com.na","org.na","name","nc","asso.nc","nom.nc","ne","net","nf","com.nf","net.nf","per.nf","rec.nf","web.nf","arts.nf","firm.nf","info.nf","other.nf","store.nf","ng","com.ng","edu.ng","gov.ng","i.ng","mil.ng","mobi.ng","name.ng","net.ng","org.ng","sch.ng","ni","ac.ni","biz.ni","co.ni","com.ni","edu.ni","gob.ni","in.ni","info.ni","int.ni","mil.ni","net.ni","nom.ni","org.ni","web.ni","nl","no","fhs.no","vgs.no","fylkesbibl.no","folkebibl.no","museum.no","idrett.no","priv.no","mil.no","stat.no","dep.no","kommune.no","herad.no","aa.no","ah.no","bu.no","fm.no","hl.no","hm.no","jan-mayen.no","mr.no","nl.no","nt.no","of.no","ol.no","oslo.no","rl.no","sf.no","st.no","svalbard.no","tm.no","tr.no","va.no","vf.no","gs.aa.no","gs.ah.no","gs.bu.no","gs.fm.no","gs.hl.no","gs.hm.no","gs.jan-mayen.no","gs.mr.no","gs.nl.no","gs.nt.no","gs.of.no","gs.ol.no","gs.oslo.no","gs.rl.no","gs.sf.no","gs.st.no","gs.svalbard.no","gs.tm.no","gs.tr.no","gs.va.no","gs.vf.no","akrehamn.no","krehamn.no","algard.no","lgrd.no","arna.no","brumunddal.no","bryne.no","bronnoysund.no","brnnysund.no","drobak.no","drbak.no","egersund.no","fetsund.no","floro.no","flor.no","fredrikstad.no","hokksund.no","honefoss.no","hnefoss.no","jessheim.no","jorpeland.no","jrpeland.no","kirkenes.no","kopervik.no","krokstadelva.no","langevag.no","langevg.no","leirvik.no","mjondalen.no","mjndalen.no","mo-i-rana.no","mosjoen.no","mosjen.no","nesoddtangen.no","orkanger.no","osoyro.no","osyro.no","raholt.no","rholt.no","sandnessjoen.no","sandnessjen.no","skedsmokorset.no","slattum.no","spjelkavik.no","stathelle.no","stavern.no","stjordalshalsen.no","stjrdalshalsen.no","tananger.no","tranby.no","vossevangen.no","afjord.no","fjord.no","agdenes.no","al.no","l.no","alesund.no","lesund.no","alstahaug.no","alta.no","lt.no","alaheadju.no","laheadju.no","alvdal.no","amli.no","mli.no","amot.no","mot.no","andebu.no","andoy.no","andy.no","andasuolo.no","ardal.no","rdal.no","aremark.no","arendal.no","s.no","aseral.no","seral.no","asker.no","askim.no","askvoll.no","askoy.no","asky.no","asnes.no","snes.no","audnedaln.no","aukra.no","aure.no","aurland.no","aurskog-holand.no","aurskog-hland.no","austevoll.no","austrheim.no","averoy.no","avery.no","balestrand.no","ballangen.no","balat.no","blt.no","balsfjord.no","bahccavuotna.no","bhccavuotna.no","bamble.no","bardu.no","beardu.no","beiarn.no","bajddar.no","bjddar.no","baidar.no","bidr.no","berg.no","bergen.no","berlevag.no","berlevg.no","bearalvahki.no","bearalvhki.no","bindal.no","birkenes.no","bjarkoy.no","bjarky.no","bjerkreim.no","bjugn.no","bodo.no","bod.no","badaddja.no","bdddj.no","budejju.no","bokn.no","bremanger.no","bronnoy.no","brnny.no","bygland.no","bykle.no","barum.no","brum.no","bo.telemark.no","b.telemark.no","bo.nordland.no","b.nordland.no","bievat.no","bievt.no","bomlo.no","bmlo.no","batsfjord.no","btsfjord.no","bahcavuotna.no","bhcavuotna.no","dovre.no","drammen.no","drangedal.no","dyroy.no","dyry.no","donna.no","dnna.no","eid.no","eidfjord.no","eidsberg.no","eidskog.no","eidsvoll.no","eigersund.no","elverum.no","enebakk.no","engerdal.no","etne.no","etnedal.no","evenes.no","evenassi.no","eveni.no","evje-og-hornnes.no","farsund.no","fauske.no","fuossko.no","fuoisku.no","fedje.no","fet.no","finnoy.no","finny.no","fitjar.no","fjaler.no","fjell.no","flakstad.no","flatanger.no","flekkefjord.no","flesberg.no","flora.no","fla.no","fl.no","folldal.no","forsand.no","fosnes.no","frei.no","frogn.no","froland.no","frosta.no","frana.no","frna.no","froya.no","frya.no","fusa.no","fyresdal.no","forde.no","frde.no","gamvik.no","gangaviika.no","ggaviika.no","gaular.no","gausdal.no","gildeskal.no","gildeskl.no","giske.no","gjemnes.no","gjerdrum.no","gjerstad.no","gjesdal.no","gjovik.no","gjvik.no","gloppen.no","gol.no","gran.no","grane.no","granvin.no","gratangen.no","grimstad.no","grong.no","kraanghke.no","kranghke.no","grue.no","gulen.no","hadsel.no","halden.no","halsa.no","hamar.no","hamaroy.no","habmer.no","hbmer.no","hapmir.no","hpmir.no","hammerfest.no","hammarfeasta.no","hmmrfeasta.no","haram.no","hareid.no","harstad.no","hasvik.no","aknoluokta.no","koluokta.no","hattfjelldal.no","aarborte.no","haugesund.no","hemne.no","hemnes.no","hemsedal.no","heroy.more-og-romsdal.no","hery.mre-og-romsdal.no","heroy.nordland.no","hery.nordland.no","hitra.no","hjartdal.no","hjelmeland.no","hobol.no","hobl.no","hof.no","hol.no","hole.no","holmestrand.no","holtalen.no","holtlen.no","hornindal.no","horten.no","hurdal.no","hurum.no","hvaler.no","hyllestad.no","hagebostad.no","hgebostad.no","hoyanger.no","hyanger.no","hoylandet.no","hylandet.no","ha.no","h.no","ibestad.no","inderoy.no","indery.no","iveland.no","jevnaker.no","jondal.no","jolster.no","jlster.no","karasjok.no","karasjohka.no","krjohka.no","karlsoy.no","galsa.no","gls.no","karmoy.no","karmy.no","kautokeino.no","guovdageaidnu.no","klepp.no","klabu.no","klbu.no","kongsberg.no","kongsvinger.no","kragero.no","krager.no","kristiansand.no","kristiansund.no","krodsherad.no","krdsherad.no","kvalsund.no","rahkkeravju.no","rhkkervju.no","kvam.no","kvinesdal.no","kvinnherad.no","kviteseid.no","kvitsoy.no","kvitsy.no","kvafjord.no","kvfjord.no","giehtavuoatna.no","kvanangen.no","kvnangen.no","navuotna.no","nvuotna.no","kafjord.no","kfjord.no","gaivuotna.no","givuotna.no","larvik.no","lavangen.no","lavagis.no","loabat.no","loabt.no","lebesby.no","davvesiida.no","leikanger.no","leirfjord.no","leka.no","leksvik.no","lenvik.no","leangaviika.no","leagaviika.no","lesja.no","levanger.no","lier.no","lierne.no","lillehammer.no","lillesand.no","lindesnes.no","lindas.no","linds.no","lom.no","loppa.no","lahppi.no","lhppi.no","lund.no","lunner.no","luroy.no","lury.no","luster.no","lyngdal.no","lyngen.no","ivgu.no","lardal.no","lerdal.no","lrdal.no","lodingen.no","ldingen.no","lorenskog.no","lrenskog.no","loten.no","lten.no","malvik.no","masoy.no","msy.no","muosat.no","muost.no","mandal.no","marker.no","marnardal.no","masfjorden.no","meland.no","meldal.no","melhus.no","meloy.no","mely.no","meraker.no","merker.no","moareke.no","moreke.no","midsund.no","midtre-gauldal.no","modalen.no","modum.no","molde.no","moskenes.no","moss.no","mosvik.no","malselv.no","mlselv.no","malatvuopmi.no","mlatvuopmi.no","namdalseid.no","aejrie.no","namsos.no","namsskogan.no","naamesjevuemie.no","nmesjevuemie.no","laakesvuemie.no","nannestad.no","narvik.no","narviika.no","naustdal.no","nedre-eiker.no","nes.akershus.no","nes.buskerud.no","nesna.no","nesodden.no","nesseby.no","unjarga.no","unjrga.no","nesset.no","nissedal.no","nittedal.no","nord-aurdal.no","nord-fron.no","nord-odal.no","norddal.no","nordkapp.no","davvenjarga.no","davvenjrga.no","nordre-land.no","nordreisa.no","raisa.no","risa.no","nore-og-uvdal.no","notodden.no","naroy.no","nry.no","notteroy.no","nttery.no","odda.no","oksnes.no","ksnes.no","oppdal.no","oppegard.no","oppegrd.no","orkdal.no","orland.no","rland.no","orskog.no","rskog.no","orsta.no","rsta.no","os.hedmark.no","os.hordaland.no","osen.no","osteroy.no","ostery.no","ostre-toten.no","stre-toten.no","overhalla.no","ovre-eiker.no","vre-eiker.no","oyer.no","yer.no","oygarden.no","ygarden.no","oystre-slidre.no","ystre-slidre.no","porsanger.no","porsangu.no","porsgu.no","porsgrunn.no","radoy.no","rady.no","rakkestad.no","rana.no","ruovat.no","randaberg.no","rauma.no","rendalen.no","rennebu.no","rennesoy.no","rennesy.no","rindal.no","ringebu.no","ringerike.no","ringsaker.no","rissa.no","risor.no","risr.no","roan.no","rollag.no","rygge.no","ralingen.no","rlingen.no","rodoy.no","rdy.no","romskog.no","rmskog.no","roros.no","rros.no","rost.no","rst.no","royken.no","ryken.no","royrvik.no","ryrvik.no","rade.no","rde.no","salangen.no","siellak.no","saltdal.no","salat.no","slt.no","slat.no","samnanger.no","sande.more-og-romsdal.no","sande.mre-og-romsdal.no","sande.vestfold.no","sandefjord.no","sandnes.no","sandoy.no","sandy.no","sarpsborg.no","sauda.no","sauherad.no","sel.no","selbu.no","selje.no","seljord.no","sigdal.no","siljan.no","sirdal.no","skaun.no","skedsmo.no","ski.no","skien.no","skiptvet.no","skjervoy.no","skjervy.no","skierva.no","skierv.no","skjak.no","skjk.no","skodje.no","skanland.no","sknland.no","skanit.no","sknit.no","smola.no","smla.no","snillfjord.no","snasa.no","snsa.no","snoasa.no","snaase.no","snase.no","sogndal.no","sokndal.no","sola.no","solund.no","songdalen.no","sortland.no","spydeberg.no","stange.no","stavanger.no","steigen.no","steinkjer.no","stjordal.no","stjrdal.no","stokke.no","stor-elvdal.no","stord.no","stordal.no","storfjord.no","omasvuotna.no","strand.no","stranda.no","stryn.no","sula.no","suldal.no","sund.no","sunndal.no","surnadal.no","sveio.no","svelvik.no","sykkylven.no","sogne.no","sgne.no","somna.no","smna.no","sondre-land.no","sndre-land.no","sor-aurdal.no","sr-aurdal.no","sor-fron.no","sr-fron.no","sor-odal.no","sr-odal.no","sor-varanger.no","sr-varanger.no","matta-varjjat.no","mtta-vrjjat.no","sorfold.no","srfold.no","sorreisa.no","srreisa.no","sorum.no","srum.no","tana.no","deatnu.no","time.no","tingvoll.no","tinn.no","tjeldsund.no","dielddanuorri.no","tjome.no","tjme.no","tokke.no","tolga.no","torsken.no","tranoy.no","trany.no","tromso.no","troms.no","tromsa.no","romsa.no","trondheim.no","troandin.no","trysil.no","trana.no","trna.no","trogstad.no","trgstad.no","tvedestrand.no","tydal.no","tynset.no","tysfjord.no","divtasvuodna.no","divttasvuotna.no","tysnes.no","tysvar.no","tysvr.no","tonsberg.no","tnsberg.no","ullensaker.no","ullensvang.no","ulvik.no","utsira.no","vadso.no","vads.no","cahcesuolo.no","hcesuolo.no","vaksdal.no","valle.no","vang.no","vanylven.no","vardo.no","vard.no","varggat.no","vrggt.no","vefsn.no","vaapste.no","vega.no","vegarshei.no","vegrshei.no","vennesla.no","verdal.no","verran.no","vestby.no","vestnes.no","vestre-slidre.no","vestre-toten.no","vestvagoy.no","vestvgy.no","vevelstad.no","vik.no","vikna.no","vindafjord.no","volda.no","voss.no","varoy.no","vry.no","vagan.no","vgan.no","voagat.no","vagsoy.no","vgsy.no","vaga.no","vg.no","valer.ostfold.no","vler.stfold.no","valer.hedmark.no","vler.hedmark.no","*.np","nr","biz.nr","info.nr","gov.nr","edu.nr","org.nr","net.nr","com.nr","nu","nz","ac.nz","co.nz","cri.nz","geek.nz","gen.nz","govt.nz","health.nz","iwi.nz","kiwi.nz","maori.nz","mil.nz","mori.nz","net.nz","org.nz","parliament.nz","school.nz","om","co.om","com.om","edu.om","gov.om","med.om","museum.om","net.om","org.om","pro.om","onion","org","pa","ac.pa","gob.pa","com.pa","org.pa","sld.pa","edu.pa","net.pa","ing.pa","abo.pa","med.pa","nom.pa","pe","edu.pe","gob.pe","nom.pe","mil.pe","org.pe","com.pe","net.pe","pf","com.pf","org.pf","edu.pf","*.pg","ph","com.ph","net.ph","org.ph","gov.ph","edu.ph","ngo.ph","mil.ph","i.ph","pk","com.pk","net.pk","edu.pk","org.pk","fam.pk","biz.pk","web.pk","gov.pk","gob.pk","gok.pk","gon.pk","gop.pk","gos.pk","info.pk","pl","com.pl","net.pl","org.pl","aid.pl","agro.pl","atm.pl","auto.pl","biz.pl","edu.pl","gmina.pl","gsm.pl","info.pl","mail.pl","miasta.pl","media.pl","mil.pl","nieruchomosci.pl","nom.pl","pc.pl","powiat.pl","priv.pl","realestate.pl","rel.pl","sex.pl","shop.pl","sklep.pl","sos.pl","szkola.pl","targi.pl","tm.pl","tourism.pl","travel.pl","turystyka.pl","gov.pl","ap.gov.pl","ic.gov.pl","is.gov.pl","us.gov.pl","kmpsp.gov.pl","kppsp.gov.pl","kwpsp.gov.pl","psp.gov.pl","wskr.gov.pl","kwp.gov.pl","mw.gov.pl","ug.gov.pl","um.gov.pl","umig.gov.pl","ugim.gov.pl","upow.gov.pl","uw.gov.pl","starostwo.gov.pl","pa.gov.pl","po.gov.pl","psse.gov.pl","pup.gov.pl","rzgw.gov.pl","sa.gov.pl","so.gov.pl","sr.gov.pl","wsa.gov.pl","sko.gov.pl","uzs.gov.pl","wiih.gov.pl","winb.gov.pl","pinb.gov.pl","wios.gov.pl","witd.gov.pl","wzmiuw.gov.pl","piw.gov.pl","wiw.gov.pl","griw.gov.pl","wif.gov.pl","oum.gov.pl","sdn.gov.pl","zp.gov.pl","uppo.gov.pl","mup.gov.pl","wuoz.gov.pl","konsulat.gov.pl","oirm.gov.pl","augustow.pl","babia-gora.pl","bedzin.pl","beskidy.pl","bialowieza.pl","bialystok.pl","bielawa.pl","bieszczady.pl","boleslawiec.pl","bydgoszcz.pl","bytom.pl","cieszyn.pl","czeladz.pl","czest.pl","dlugoleka.pl","elblag.pl","elk.pl","glogow.pl","gniezno.pl","gorlice.pl","grajewo.pl","ilawa.pl","jaworzno.pl","jelenia-gora.pl","jgora.pl","kalisz.pl","kazimierz-dolny.pl","karpacz.pl","kartuzy.pl","kaszuby.pl","katowice.pl","kepno.pl","ketrzyn.pl","klodzko.pl","kobierzyce.pl","kolobrzeg.pl","konin.pl","konskowola.pl","kutno.pl","lapy.pl","lebork.pl","legnica.pl","lezajsk.pl","limanowa.pl","lomza.pl","lowicz.pl","lubin.pl","lukow.pl","malbork.pl","malopolska.pl","mazowsze.pl","mazury.pl","mielec.pl","mielno.pl","mragowo.pl","naklo.pl","nowaruda.pl","nysa.pl","olawa.pl","olecko.pl","olkusz.pl","olsztyn.pl","opoczno.pl","opole.pl","ostroda.pl","ostroleka.pl","ostrowiec.pl","ostrowwlkp.pl","pila.pl","pisz.pl","podhale.pl","podlasie.pl","polkowice.pl","pomorze.pl","pomorskie.pl","prochowice.pl","pruszkow.pl","przeworsk.pl","pulawy.pl","radom.pl","rawa-maz.pl","rybnik.pl","rzeszow.pl","sanok.pl","sejny.pl","slask.pl","slupsk.pl","sosnowiec.pl","stalowa-wola.pl","skoczow.pl","starachowice.pl","stargard.pl","suwalki.pl","swidnica.pl","swiebodzin.pl","swinoujscie.pl","szczecin.pl","szczytno.pl","tarnobrzeg.pl","tgory.pl","turek.pl","tychy.pl","ustka.pl","walbrzych.pl","warmia.pl","warszawa.pl","waw.pl","wegrow.pl","wielun.pl","wlocl.pl","wloclawek.pl","wodzislaw.pl","wolomin.pl","wroclaw.pl","zachpomor.pl","zagan.pl","zarow.pl","zgora.pl","zgorzelec.pl","pm","pn","gov.pn","co.pn","org.pn","edu.pn","net.pn","post","pr","com.pr","net.pr","org.pr","gov.pr","edu.pr","isla.pr","pro.pr","biz.pr","info.pr","name.pr","est.pr","prof.pr","ac.pr","pro","aaa.pro","aca.pro","acct.pro","avocat.pro","bar.pro","cpa.pro","eng.pro","jur.pro","law.pro","med.pro","recht.pro","ps","edu.ps","gov.ps","sec.ps","plo.ps","com.ps","org.ps","net.ps","pt","net.pt","gov.pt","org.pt","edu.pt","int.pt","publ.pt","com.pt","nome.pt","pw","co.pw","ne.pw","or.pw","ed.pw","go.pw","belau.pw","py","com.py","coop.py","edu.py","gov.py","mil.py","net.py","org.py","qa","com.qa","edu.qa","gov.qa","mil.qa","name.qa","net.qa","org.qa","sch.qa","re","asso.re","com.re","nom.re","ro","arts.ro","com.ro","firm.ro","info.ro","nom.ro","nt.ro","org.ro","rec.ro","store.ro","tm.ro","www.ro","rs","ac.rs","co.rs","edu.rs","gov.rs","in.rs","org.rs","ru","rw","ac.rw","co.rw","coop.rw","gov.rw","mil.rw","net.rw","org.rw","sa","com.sa","net.sa","org.sa","gov.sa","med.sa","pub.sa","edu.sa","sch.sa","sb","com.sb","edu.sb","gov.sb","net.sb","org.sb","sc","com.sc","gov.sc","net.sc","org.sc","edu.sc","sd","com.sd","net.sd","org.sd","edu.sd","med.sd","tv.sd","gov.sd","info.sd","se","a.se","ac.se","b.se","bd.se","brand.se","c.se","d.se","e.se","f.se","fh.se","fhsk.se","fhv.se","g.se","h.se","i.se","k.se","komforb.se","kommunalforbund.se","komvux.se","l.se","lanbib.se","m.se","n.se","naturbruksgymn.se","o.se","org.se","p.se","parti.se","pp.se","press.se","r.se","s.se","t.se","tm.se","u.se","w.se","x.se","y.se","z.se","sg","com.sg","net.sg","org.sg","gov.sg","edu.sg","per.sg","sh","com.sh","net.sh","gov.sh","org.sh","mil.sh","si","sj","sk","sl","com.sl","net.sl","edu.sl","gov.sl","org.sl","sm","sn","art.sn","com.sn","edu.sn","gouv.sn","org.sn","perso.sn","univ.sn","so","com.so","edu.so","gov.so","me.so","net.so","org.so","sr","ss","biz.ss","com.ss","edu.ss","gov.ss","me.ss","net.ss","org.ss","sch.ss","st","co.st","com.st","consulado.st","edu.st","embaixada.st","mil.st","net.st","org.st","principe.st","saotome.st","store.st","su","sv","com.sv","edu.sv","gob.sv","org.sv","red.sv","sx","gov.sx","sy","edu.sy","gov.sy","net.sy","mil.sy","com.sy","org.sy","sz","co.sz","ac.sz","org.sz","tc","td","tel","tf","tg","th","ac.th","co.th","go.th","in.th","mi.th","net.th","or.th","tj","ac.tj","biz.tj","co.tj","com.tj","edu.tj","go.tj","gov.tj","int.tj","mil.tj","name.tj","net.tj","nic.tj","org.tj","test.tj","web.tj","tk","tl","gov.tl","tm","com.tm","co.tm","org.tm","net.tm","nom.tm","gov.tm","mil.tm","edu.tm","tn","com.tn","ens.tn","fin.tn","gov.tn","ind.tn","info.tn","intl.tn","mincom.tn","nat.tn","net.tn","org.tn","perso.tn","tourism.tn","to","com.to","gov.to","net.to","org.to","edu.to","mil.to","tr","av.tr","bbs.tr","bel.tr","biz.tr","com.tr","dr.tr","edu.tr","gen.tr","gov.tr","info.tr","mil.tr","k12.tr","kep.tr","name.tr","net.tr","org.tr","pol.tr","tel.tr","tsk.tr","tv.tr","web.tr","nc.tr","gov.nc.tr","tt","co.tt","com.tt","org.tt","net.tt","biz.tt","info.tt","pro.tt","int.tt","coop.tt","jobs.tt","mobi.tt","travel.tt","museum.tt","aero.tt","name.tt","gov.tt","edu.tt","tv","tw","edu.tw","gov.tw","mil.tw","com.tw","net.tw","org.tw","idv.tw","game.tw","ebiz.tw","club.tw",".tw",".tw",".tw","tz","ac.tz","co.tz","go.tz","hotel.tz","info.tz","me.tz","mil.tz","mobi.tz","ne.tz","or.tz","sc.tz","tv.tz","ua","com.ua","edu.ua","gov.ua","in.ua","net.ua","org.ua","cherkassy.ua","cherkasy.ua","chernigov.ua","chernihiv.ua","chernivtsi.ua","chernovtsy.ua","ck.ua","cn.ua","cr.ua","crimea.ua","cv.ua","dn.ua","dnepropetrovsk.ua","dnipropetrovsk.ua","donetsk.ua","dp.ua","if.ua","ivano-frankivsk.ua","kh.ua","kharkiv.ua","kharkov.ua","kherson.ua","khmelnitskiy.ua","khmelnytskyi.ua","kiev.ua","kirovograd.ua","km.ua","kr.ua","krym.ua","ks.ua","kv.ua","kyiv.ua","lg.ua","lt.ua","lugansk.ua","lutsk.ua","lv.ua","lviv.ua","mk.ua","mykolaiv.ua","nikolaev.ua","od.ua","odesa.ua","odessa.ua","pl.ua","poltava.ua","rivne.ua","rovno.ua","rv.ua","sb.ua","sebastopol.ua","sevastopol.ua","sm.ua","sumy.ua","te.ua","ternopil.ua","uz.ua","uzhgorod.ua","vinnica.ua","vinnytsia.ua","vn.ua","volyn.ua","yalta.ua","zaporizhzhe.ua","zaporizhzhia.ua","zhitomir.ua","zhytomyr.ua","zp.ua","zt.ua","ug","co.ug","or.ug","ac.ug","sc.ug","go.ug","ne.ug","com.ug","org.ug","uk","ac.uk","co.uk","gov.uk","ltd.uk","me.uk","net.uk","nhs.uk","org.uk","plc.uk","police.uk","*.sch.uk","us","dni.us","fed.us","isa.us","kids.us","nsn.us","ak.us","al.us","ar.us","as.us","az.us","ca.us","co.us","ct.us","dc.us","de.us","fl.us","ga.us","gu.us","hi.us","ia.us","id.us","il.us","in.us","ks.us","ky.us","la.us","ma.us","md.us","me.us","mi.us","mn.us","mo.us","ms.us","mt.us","nc.us","nd.us","ne.us","nh.us","nj.us","nm.us","nv.us","ny.us","oh.us","ok.us","or.us","pa.us","pr.us","ri.us","sc.us","sd.us","tn.us","tx.us","ut.us","vi.us","vt.us","va.us","wa.us","wi.us","wv.us","wy.us","k12.ak.us","k12.al.us","k12.ar.us","k12.as.us","k12.az.us","k12.ca.us","k12.co.us","k12.ct.us","k12.dc.us","k12.de.us","k12.fl.us","k12.ga.us","k12.gu.us","k12.ia.us","k12.id.us","k12.il.us","k12.in.us","k12.ks.us","k12.ky.us","k12.la.us","k12.ma.us","k12.md.us","k12.me.us","k12.mi.us","k12.mn.us","k12.mo.us","k12.ms.us","k12.mt.us","k12.nc.us","k12.ne.us","k12.nh.us","k12.nj.us","k12.nm.us","k12.nv.us","k12.ny.us","k12.oh.us","k12.ok.us","k12.or.us","k12.pa.us","k12.pr.us","k12.sc.us","k12.tn.us","k12.tx.us","k12.ut.us","k12.vi.us","k12.vt.us","k12.va.us","k12.wa.us","k12.wi.us","k12.wy.us","cc.ak.us","cc.al.us","cc.ar.us","cc.as.us","cc.az.us","cc.ca.us","cc.co.us","cc.ct.us","cc.dc.us","cc.de.us","cc.fl.us","cc.ga.us","cc.gu.us","cc.hi.us","cc.ia.us","cc.id.us","cc.il.us","cc.in.us","cc.ks.us","cc.ky.us","cc.la.us","cc.ma.us","cc.md.us","cc.me.us","cc.mi.us","cc.mn.us","cc.mo.us","cc.ms.us","cc.mt.us","cc.nc.us","cc.nd.us","cc.ne.us","cc.nh.us","cc.nj.us","cc.nm.us","cc.nv.us","cc.ny.us","cc.oh.us","cc.ok.us","cc.or.us","cc.pa.us","cc.pr.us","cc.ri.us","cc.sc.us","cc.sd.us","cc.tn.us","cc.tx.us","cc.ut.us","cc.vi.us","cc.vt.us","cc.va.us","cc.wa.us","cc.wi.us","cc.wv.us","cc.wy.us","lib.ak.us","lib.al.us","lib.ar.us","lib.as.us","lib.az.us","lib.ca.us","lib.co.us","lib.ct.us","lib.dc.us","lib.fl.us","lib.ga.us","lib.gu.us","lib.hi.us","lib.ia.us","lib.id.us","lib.il.us","lib.in.us","lib.ks.us","lib.ky.us","lib.la.us","lib.ma.us","lib.md.us","lib.me.us","lib.mi.us","lib.mn.us","lib.mo.us","lib.ms.us","lib.mt.us","lib.nc.us","lib.nd.us","lib.ne.us","lib.nh.us","lib.nj.us","lib.nm.us","lib.nv.us","lib.ny.us","lib.oh.us","lib.ok.us","lib.or.us","lib.pa.us","lib.pr.us","lib.ri.us","lib.sc.us","lib.sd.us","lib.tn.us","lib.tx.us","lib.ut.us","lib.vi.us","lib.vt.us","lib.va.us","lib.wa.us","lib.wi.us","lib.wy.us","pvt.k12.ma.us","chtr.k12.ma.us","paroch.k12.ma.us","ann-arbor.mi.us","cog.mi.us","dst.mi.us","eaton.mi.us","gen.mi.us","mus.mi.us","tec.mi.us","washtenaw.mi.us","uy","com.uy","edu.uy","gub.uy","mil.uy","net.uy","org.uy","uz","co.uz","com.uz","net.uz","org.uz","va","vc","com.vc","net.vc","org.vc","gov.vc","mil.vc","edu.vc","ve","arts.ve","bib.ve","co.ve","com.ve","e12.ve","edu.ve","firm.ve","gob.ve","gov.ve","info.ve","int.ve","mil.ve","net.ve","nom.ve","org.ve","rar.ve","rec.ve","store.ve","tec.ve","web.ve","vg","vi","co.vi","com.vi","k12.vi","net.vi","org.vi","vn","com.vn","net.vn","org.vn","edu.vn","gov.vn","int.vn","ac.vn","biz.vn","info.vn","name.vn","pro.vn","health.vn","vu","com.vu","edu.vu","net.vu","org.vu","wf","ws","com.ws","net.ws","org.ws","gov.ws","edu.ws","yt","","","","","","","","","","","","","","","","",".",".",".",".",".",".","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",".",".",".",".",".",".","","","","","","","","","","","","",".",".",".",".",".",".","","","","","","","xxx","ye","com.ye","edu.ye","gov.ye","net.ye","mil.ye","org.ye","ac.za","agric.za","alt.za","co.za","edu.za","gov.za","grondar.za","law.za","mil.za","net.za","ngo.za","nic.za","nis.za","nom.za","org.za","school.za","tm.za","web.za","zm","ac.zm","biz.zm","co.zm","com.zm","edu.zm","gov.zm","info.zm","mil.zm","net.zm","org.zm","sch.zm","zw","ac.zw","co.zw","gov.zw","mil.zw","org.zw","aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","academy","accenture","accountant","accountants","aco","actor","adac","ads","adult","aeg","aetna","afl","africa","agakhan","agency","aig","airbus","airforce","airtel","akdn","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","aol","apartments","app","apple","aquarelle","arab","aramco","archi","army","art","arte","asda","associates","athleta","attorney","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aws","axa","azure","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bbc","bbt","bbva","bcg","bcn","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bharti","bible","bid","bike","bing","bingo","bio","black","blackfriday","blockbuster","blog","bloomberg","blue","bms","bmw","bnpparibas","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","bradesco","bridgestone","broadway","broker","brother","brussels","bugatti","build","builders","business","buy","buzz","bzh","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","catering","catholic","cba","cbn","cbre","cbs","center","ceo","cern","cfa","cfd","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","coach","codes","coffee","college","cologne","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","corsica","country","coupon","coupons","courses","cpa","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","cuisinella","cymru","cyou","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dnp","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","dunlop","dupont","durban","dvag","dvr","earth","eat","eco","edeka","education","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","ericsson","erni","esq","estate","etisalat","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","flickr","flights","flir","florist","flowers","fly","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gbiz","gdn","gea","gent","genting","george","ggee","gift","gifts","gives","giving","glass","gle","global","globo","gmail","gmbh","gmo","gmx","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","grainger","graphics","gratis","green","gripe","grocery","group","guardian","gucci","guge","guide","guitars","guru","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hkt","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hsbc","hughes","hyatt","hyundai","ibm","icbc","ice","icu","ieee","ifm","ikano","imamat","imdb","immo","immobilien","inc","industries","infiniti","ing","ink","institute","insurance","insure","international","intuit","investments","ipiranga","irish","ismaili","ist","istanbul","itau","itv","jaguar","java","jcb","jeep","jetzt","jewelry","jio","jll","jmp","jnj","joburg","jot","joy","jpmorgan","jprs","juegos","juniper","kaufen","kddi","kerryhotels","kerrylogistics","kerryproperties","kfh","kia","kids","kim","kinder","kindle","kitchen","kiwi","koeln","komatsu","kosher","kpmg","kpn","krd","kred","kuokgroup","kyoto","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","ltd","ltda","lundbeck","luxe","luxury","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mckinsey","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","miami","microsoft","mini","mint","mit","mitsubishi","mlb","mls","mma","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","msd","mtn","mtr","music","mutual","nab","nagoya","natura","navy","nba","nec","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nfl","ngo","nhk","nico","nike","nikon","ninja","nissan","nissay","nokia","northwesternmutual","norton","now","nowruz","nowtv","nra","nrw","ntt","nyc","obi","observer","office","okinawa","olayan","olayangroup","oldnavy","ollo","omega","one","ong","onl","online","ooo","open","oracle","orange","organic","origins","osaka","otsuka","ott","ovh","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pet","pfizer","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","place","play","playstation","plumbing","plus","pnc","pohl","poker","politie","porn","pramerica","praxi","press","prime","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","pub","pwc","qpon","quebec","quest","racing","radio","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","rocher","rocks","rodeo","rogers","room","rsvp","rugby","ruhr","run","rwe","ryukyu","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sbi","sbs","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scot","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","silk","sina","singles","site","ski","skin","sky","skype","sling","smart","smile","sncf","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","srl","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","sucks","supplies","supply","support","surf","surgery","suzuki","swatch","swiss","sydney","systems","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tci","tdk","team","tech","technology","temasek","tennis","teva","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tjmaxx","tjx","tkmaxx","tmall","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tube","tui","tunes","tushu","tvs","ubank","ubs","unicom","university","uno","uol","ups","vacations","vana","vanguard","vegas","ventures","verisign","versicherung","vet","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vodka","volkswagen","volvo","vote","voting","voto","voyage","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wedding","weibo","weir","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","vermgensberater","vermgensberatung","","","","","","","xyz","yachts","yahoo","yamaxun","yandex","yodobashi","yoga","yokohama","you","youtube","yun","zappos","zara","zero","zip","zone","zuerich","cc.ua","inf.ua","ltd.ua","611.to","graphox.us","*.devcdnaccesso.com","adobeaemcloud.com","*.dev.adobeaemcloud.com","hlx.live","adobeaemcloud.net","hlx.page","hlx3.page","beep.pl","airkitapps.com","airkitapps-au.com","airkitapps.eu","aivencloud.com","barsy.ca","*.compute.estate","*.alces.network","kasserver.com","altervista.org","alwaysdata.net","cloudfront.net","*.compute.amazonaws.com","*.compute-1.amazonaws.com","*.compute.amazonaws.com.cn","us-east-1.amazonaws.com","cn-north-1.eb.amazonaws.com.cn","cn-northwest-1.eb.amazonaws.com.cn","elasticbeanstalk.com","ap-northeast-1.elasticbeanstalk.com","ap-northeast-2.elasticbeanstalk.com","ap-northeast-3.elasticbeanstalk.com","ap-south-1.elasticbeanstalk.com","ap-southeast-1.elasticbeanstalk.com","ap-southeast-2.elasticbeanstalk.com","ca-central-1.elasticbeanstalk.com","eu-central-1.elasticbeanstalk.com","eu-west-1.elasticbeanstalk.com","eu-west-2.elasticbeanstalk.com","eu-west-3.elasticbeanstalk.com","sa-east-1.elasticbeanstalk.com","us-east-1.elasticbeanstalk.com","us-east-2.elasticbeanstalk.com","us-gov-west-1.elasticbeanstalk.com","us-west-1.elasticbeanstalk.com","us-west-2.elasticbeanstalk.com","*.elb.amazonaws.com","*.elb.amazonaws.com.cn","awsglobalaccelerator.com","s3.amazonaws.com","s3-ap-northeast-1.amazonaws.com","s3-ap-northeast-2.amazonaws.com","s3-ap-south-1.amazonaws.com","s3-ap-southeast-1.amazonaws.com","s3-ap-southeast-2.amazonaws.com","s3-ca-central-1.amazonaws.com","s3-eu-central-1.amazonaws.com","s3-eu-west-1.amazonaws.com","s3-eu-west-2.amazonaws.com","s3-eu-west-3.amazonaws.com","s3-external-1.amazonaws.com","s3-fips-us-gov-west-1.amazonaws.com","s3-sa-east-1.amazonaws.com","s3-us-gov-west-1.amazonaws.com","s3-us-east-2.amazonaws.com","s3-us-west-1.amazonaws.com","s3-us-west-2.amazonaws.com","s3.ap-northeast-2.amazonaws.com","s3.ap-south-1.amazonaws.com","s3.cn-north-1.amazonaws.com.cn","s3.ca-central-1.amazonaws.com","s3.eu-central-1.amazonaws.com","s3.eu-west-2.amazonaws.com","s3.eu-west-3.amazonaws.com","s3.us-east-2.amazonaws.com","s3.dualstack.ap-northeast-1.amazonaws.com","s3.dualstack.ap-northeast-2.amazonaws.com","s3.dualstack.ap-south-1.amazonaws.com","s3.dualstack.ap-southeast-1.amazonaws.com","s3.dualstack.ap-southeast-2.amazonaws.com","s3.dualstack.ca-central-1.amazonaws.com","s3.dualstack.eu-central-1.amazonaws.com","s3.dualstack.eu-west-1.amazonaws.com","s3.dualstack.eu-west-2.amazonaws.com","s3.dualstack.eu-west-3.amazonaws.com","s3.dualstack.sa-east-1.amazonaws.com","s3.dualstack.us-east-1.amazonaws.com","s3.dualstack.us-east-2.amazonaws.com","s3-website-us-east-1.amazonaws.com","s3-website-us-west-1.amazonaws.com","s3-website-us-west-2.amazonaws.com","s3-website-ap-northeast-1.amazonaws.com","s3-website-ap-southeast-1.amazonaws.com","s3-website-ap-southeast-2.amazonaws.com","s3-website-eu-west-1.amazonaws.com","s3-website-sa-east-1.amazonaws.com","s3-website.ap-northeast-2.amazonaws.com","s3-website.ap-south-1.amazonaws.com","s3-website.ca-central-1.amazonaws.com","s3-website.eu-central-1.amazonaws.com","s3-website.eu-west-2.amazonaws.com","s3-website.eu-west-3.amazonaws.com","s3-website.us-east-2.amazonaws.com","t3l3p0rt.net","tele.amune.org","apigee.io","siiites.com","appspacehosted.com","appspaceusercontent.com","appudo.net","on-aptible.com","user.aseinet.ne.jp","gv.vc","d.gv.vc","user.party.eus","pimienta.org","poivron.org","potager.org","sweetpepper.org","myasustor.com","cdn.prod.atlassian-dev.net","translated.page","myfritz.net","onavstack.net","*.awdev.ca","*.advisor.ws","ecommerce-shop.pl","b-data.io","backplaneapp.io","balena-devices.com","rs.ba","*.banzai.cloud","app.banzaicloud.io","*.backyards.banzaicloud.io","base.ec","official.ec","buyshop.jp","fashionstore.jp","handcrafted.jp","kawaiishop.jp","supersale.jp","theshop.jp","shopselect.net","base.shop","*.beget.app","betainabox.com","bnr.la","bitbucket.io","blackbaudcdn.net","of.je","bluebite.io","boomla.net","boutir.com","boxfuse.io","square7.ch","bplaced.com","bplaced.de","square7.de","bplaced.net","square7.net","shop.brendly.rs","browsersafetymark.io","uk0.bigv.io","dh.bytemark.co.uk","vm.bytemark.co.uk","cafjs.com","mycd.eu","drr.ac","uwu.ai","carrd.co","crd.co","ju.mp","ae.org","br.com","cn.com","com.de","com.se","de.com","eu.com","gb.net","hu.net","jp.net","jpn.com","mex.com","ru.com","sa.com","se.net","uk.com","uk.net","us.com","za.bz","za.com","ar.com","hu.com","kr.com","no.com","qc.com","uy.com","africa.com","gr.com","in.net","web.in","us.org","co.com","aus.basketball","nz.basketball","radio.am","radio.fm","c.la","certmgr.org","cx.ua","discourse.group","discourse.team","cleverapps.io","clerk.app","clerkstage.app","*.lcl.dev","*.lclstage.dev","*.stg.dev","*.stgstage.dev","clickrising.net","c66.me","cloud66.ws","cloud66.zone","jdevcloud.com","wpdevcloud.com","cloudaccess.host","freesite.host","cloudaccess.net","cloudcontrolled.com","cloudcontrolapp.com","*.cloudera.site","pages.dev","trycloudflare.com","workers.dev","wnext.app","co.ca","*.otap.co","co.cz","c.cdn77.org","cdn77-ssl.net","r.cdn77.net","rsc.cdn77.org","ssl.origin.cdn77-secure.org","cloudns.asia","cloudns.biz","cloudns.club","cloudns.cc","cloudns.eu","cloudns.in","cloudns.info","cloudns.org","cloudns.pro","cloudns.pw","cloudns.us","cnpy.gdn","codeberg.page","co.nl","co.no","webhosting.be","hosting-cluster.nl","ac.ru","edu.ru","gov.ru","int.ru","mil.ru","test.ru","dyn.cosidns.de","dynamisches-dns.de","dnsupdater.de","internet-dns.de","l-o-g-i-n.de","dynamic-dns.info","feste-ip.net","knx-server.net","static-access.net","realm.cz","*.cryptonomic.net","cupcake.is","curv.dev","*.customer-oci.com","*.oci.customer-oci.com","*.ocp.customer-oci.com","*.ocs.customer-oci.com","cyon.link","cyon.site","fnwk.site","folionetwork.site","platform0.app","daplie.me","localhost.daplie.me","dattolocal.com","dattorelay.com","dattoweb.com","mydatto.com","dattolocal.net","mydatto.net","biz.dk","co.dk","firm.dk","reg.dk","store.dk","dyndns.dappnode.io","*.dapps.earth","*.bzz.dapps.earth","builtwithdark.com","demo.datadetect.com","instance.datadetect.com","edgestack.me","ddns5.com","debian.net","deno.dev","deno-staging.dev","dedyn.io","deta.app","deta.dev","*.rss.my.id","*.diher.solutions","discordsays.com","discordsez.com","jozi.biz","dnshome.de","online.th","shop.th","drayddns.com","shoparena.pl","dreamhosters.com","mydrobo.com","drud.io","drud.us","duckdns.org","bip.sh","bitbridge.net","dy.fi","tunk.org","dyndns-at-home.com","dyndns-at-work.com","dyndns-blog.com","dyndns-free.com","dyndns-home.com","dyndns-ip.com","dyndns-mail.com","dyndns-office.com","dyndns-pics.com","dyndns-remote.com","dyndns-server.com","dyndns-web.com","dyndns-wiki.com","dyndns-work.com","dyndns.biz","dyndns.info","dyndns.org","dyndns.tv","at-band-camp.net","ath.cx","barrel-of-knowledge.info","barrell-of-knowledge.info","better-than.tv","blogdns.com","blogdns.net","blogdns.org","blogsite.org","boldlygoingnowhere.org","broke-it.net","buyshouses.net","cechire.com","dnsalias.com","dnsalias.net","dnsalias.org","dnsdojo.com","dnsdojo.net","dnsdojo.org","does-it.net","doesntexist.com","doesntexist.org","dontexist.com","dontexist.net","dontexist.org","doomdns.com","doomdns.org","dvrdns.org","dyn-o-saur.com","dynalias.com","dynalias.net","dynalias.org","dynathome.net","dyndns.ws","endofinternet.net","endofinternet.org","endoftheinternet.org","est-a-la-maison.com","est-a-la-masion.com","est-le-patron.com","est-mon-blogueur.com","for-better.biz","for-more.biz","for-our.info","for-some.biz","for-the.biz","forgot.her.name","forgot.his.name","from-ak.com","from-al.com","from-ar.com","from-az.net","from-ca.com","from-co.net","from-ct.com","from-dc.com","from-de.com","from-fl.com","from-ga.com","from-hi.com","from-ia.com","from-id.com","from-il.com","from-in.com","from-ks.com","from-ky.com","from-la.net","from-ma.com","from-md.com","from-me.org","from-mi.com","from-mn.com","from-mo.com","from-ms.com","from-mt.com","from-nc.com","from-nd.com","from-ne.com","from-nh.com","from-nj.com","from-nm.com","from-nv.com","from-ny.net","from-oh.com","from-ok.com","from-or.com","from-pa.com","from-pr.com","from-ri.com","from-sc.com","from-sd.com","from-tn.com","from-tx.com","from-ut.com","from-va.com","from-vt.com","from-wa.com","from-wi.com","from-wv.com","from-wy.com","ftpaccess.cc","fuettertdasnetz.de","game-host.org","game-server.cc","getmyip.com","gets-it.net","go.dyndns.org","gotdns.com","gotdns.org","groks-the.info","groks-this.info","ham-radio-op.net","here-for-more.info","hobby-site.com","hobby-site.org","home.dyndns.org","homedns.org","homeftp.net","homeftp.org","homeip.net","homelinux.com","homelinux.net","homelinux.org","homeunix.com","homeunix.net","homeunix.org","iamallama.com","in-the-band.net","is-a-anarchist.com","is-a-blogger.com","is-a-bookkeeper.com","is-a-bruinsfan.org","is-a-bulls-fan.com","is-a-candidate.org","is-a-caterer.com","is-a-celticsfan.org","is-a-chef.com","is-a-chef.net","is-a-chef.org","is-a-conservative.com","is-a-cpa.com","is-a-cubicle-slave.com","is-a-democrat.com","is-a-designer.com","is-a-doctor.com","is-a-financialadvisor.com","is-a-geek.com","is-a-geek.net","is-a-geek.org","is-a-green.com","is-a-guru.com","is-a-hard-worker.com","is-a-hunter.com","is-a-knight.org","is-a-landscaper.com","is-a-lawyer.com","is-a-liberal.com","is-a-libertarian.com","is-a-linux-user.org","is-a-llama.com","is-a-musician.com","is-a-nascarfan.com","is-a-nurse.com","is-a-painter.com","is-a-patsfan.org","is-a-personaltrainer.com","is-a-photographer.com","is-a-player.com","is-a-republican.com","is-a-rockstar.com","is-a-socialist.com","is-a-soxfan.org","is-a-student.com","is-a-teacher.com","is-a-techie.com","is-a-therapist.com","is-an-accountant.com","is-an-actor.com","is-an-actress.com","is-an-anarchist.com","is-an-artist.com","is-an-engineer.com","is-an-entertainer.com","is-by.us","is-certified.com","is-found.org","is-gone.com","is-into-anime.com","is-into-cars.com","is-into-cartoons.com","is-into-games.com","is-leet.com","is-lost.org","is-not-certified.com","is-saved.org","is-slick.com","is-uberleet.com","is-very-bad.org","is-very-evil.org","is-very-good.org","is-very-nice.org","is-very-sweet.org","is-with-theband.com","isa-geek.com","isa-geek.net","isa-geek.org","isa-hockeynut.com","issmarterthanyou.com","isteingeek.de","istmein.de","kicks-ass.net","kicks-ass.org","knowsitall.info","land-4-sale.us","lebtimnetz.de","leitungsen.de","likes-pie.com","likescandy.com","merseine.nu","mine.nu","misconfused.org","mypets.ws","myphotos.cc","neat-url.com","office-on-the.net","on-the-web.tv","podzone.net","podzone.org","readmyblog.org","saves-the-whales.com","scrapper-site.net","scrapping.cc","selfip.biz","selfip.com","selfip.info","selfip.net","selfip.org","sells-for-less.com","sells-for-u.com","sells-it.net","sellsyourhome.org","servebbs.com","servebbs.net","servebbs.org","serveftp.net","serveftp.org","servegame.org","shacknet.nu","simple-url.com","space-to-rent.com","stuff-4-sale.org","stuff-4-sale.us","teaches-yoga.com","thruhere.net","traeumtgerade.de","webhop.biz","webhop.info","webhop.net","webhop.org","worse-than.tv","writesthisblog.com","ddnss.de","dyn.ddnss.de","dyndns.ddnss.de","dyndns1.de","dyn-ip24.de","home-webserver.de","dyn.home-webserver.de","myhome-server.de","ddnss.org","definima.net","definima.io","ondigitalocean.app","*.digitaloceanspaces.com","bci.dnstrace.pro","ddnsfree.com","ddnsgeek.com","giize.com","gleeze.com","kozow.com","loseyourip.com","ooguy.com","theworkpc.com","casacam.net","dynu.net","accesscam.org","camdvr.org","freeddns.org","mywire.org","webredirect.org","myddns.rocks","blogsite.xyz","dynv6.net","e4.cz","eero.online","eero-stage.online","elementor.cloud","elementor.cool","en-root.fr","mytuleap.com","tuleap-partners.com","encr.app","encoreapi.com","onred.one","staging.onred.one","eu.encoway.cloud","eu.org","al.eu.org","asso.eu.org","at.eu.org","au.eu.org","be.eu.org","bg.eu.org","ca.eu.org","cd.eu.org","ch.eu.org","cn.eu.org","cy.eu.org","cz.eu.org","de.eu.org","dk.eu.org","edu.eu.org","ee.eu.org","es.eu.org","fi.eu.org","fr.eu.org","gr.eu.org","hr.eu.org","hu.eu.org","ie.eu.org","il.eu.org","in.eu.org","int.eu.org","is.eu.org","it.eu.org","jp.eu.org","kr.eu.org","lt.eu.org","lu.eu.org","lv.eu.org","mc.eu.org","me.eu.org","mk.eu.org","mt.eu.org","my.eu.org","net.eu.org","ng.eu.org","nl.eu.org","no.eu.org","nz.eu.org","paris.eu.org","pl.eu.org","pt.eu.org","q-a.eu.org","ro.eu.org","ru.eu.org","se.eu.org","si.eu.org","sk.eu.org","tr.eu.org","uk.eu.org","us.eu.org","eurodir.ru","eu-1.evennode.com","eu-2.evennode.com","eu-3.evennode.com","eu-4.evennode.com","us-1.evennode.com","us-2.evennode.com","us-3.evennode.com","us-4.evennode.com","twmail.cc","twmail.net","twmail.org","mymailer.com.tw","url.tw","onfabrica.com","apps.fbsbx.com","ru.net","adygeya.ru","bashkiria.ru","bir.ru","cbg.ru","com.ru","dagestan.ru","grozny.ru","kalmykia.ru","kustanai.ru","marine.ru","mordovia.ru","msk.ru","mytis.ru","nalchik.ru","nov.ru","pyatigorsk.ru","spb.ru","vladikavkaz.ru","vladimir.ru","abkhazia.su","adygeya.su","aktyubinsk.su","arkhangelsk.su","armenia.su","ashgabad.su","azerbaijan.su","balashov.su","bashkiria.su","bryansk.su","bukhara.su","chimkent.su","dagestan.su","east-kazakhstan.su","exnet.su","georgia.su","grozny.su","ivanovo.su","jambyl.su","kalmykia.su","kaluga.su","karacol.su","karaganda.su","karelia.su","khakassia.su","krasnodar.su","kurgan.su","kustanai.su","lenug.su","mangyshlak.su","mordovia.su","msk.su","murmansk.su","nalchik.su","navoi.su","north-kazakhstan.su","nov.su","obninsk.su","penza.su","pokrovsk.su","sochi.su","spb.su","tashkent.su","termez.su","togliatti.su","troitsk.su","tselinograd.su","tula.su","tuva.su","vladikavkaz.su","vladimir.su","vologda.su","channelsdvr.net","u.channelsdvr.net","edgecompute.app","fastly-terrarium.com","fastlylb.net","map.fastlylb.net","freetls.fastly.net","map.fastly.net","a.prod.fastly.net","global.prod.fastly.net","a.ssl.fastly.net","b.ssl.fastly.net","global.ssl.fastly.net","fastvps-server.com","fastvps.host","myfast.host","fastvps.site","myfast.space","fedorainfracloud.org","fedorapeople.org","cloud.fedoraproject.org","app.os.fedoraproject.org","app.os.stg.fedoraproject.org","conn.uk","copro.uk","hosp.uk","mydobiss.com","fh-muenster.io","filegear.me","filegear-au.me","filegear-de.me","filegear-gb.me","filegear-ie.me","filegear-jp.me","filegear-sg.me","firebaseapp.com","fireweb.app","flap.id","onflashdrive.app","fldrv.com","fly.dev","edgeapp.net","shw.io","flynnhosting.net","forgeblocks.com","id.forgerock.io","framer.app","framercanvas.com","*.frusky.de","ravpage.co.il","0e.vc","freebox-os.com","freeboxos.com","fbx-os.fr","fbxos.fr","freebox-os.fr","freeboxos.fr","freedesktop.org","freemyip.com","wien.funkfeuer.at","*.futurecms.at","*.ex.futurecms.at","*.in.futurecms.at","futurehosting.at","futuremailing.at","*.ex.ortsinfo.at","*.kunden.ortsinfo.at","*.statics.cloud","independent-commission.uk","independent-inquest.uk","independent-inquiry.uk","independent-panel.uk","independent-review.uk","public-inquiry.uk","royal-commission.uk","campaign.gov.uk","service.gov.uk","api.gov.uk","gehirn.ne.jp","usercontent.jp","gentapps.com","gentlentapis.com","lab.ms","cdn-edges.net","ghost.io","gsj.bz","githubusercontent.com","githubpreview.dev","github.io","gitlab.io","gitapp.si","gitpage.si","glitch.me","nog.community","co.ro","shop.ro","lolipop.io","angry.jp","babyblue.jp","babymilk.jp","backdrop.jp","bambina.jp","bitter.jp","blush.jp","boo.jp","boy.jp","boyfriend.jp","but.jp","candypop.jp","capoo.jp","catfood.jp","cheap.jp","chicappa.jp","chillout.jp","chips.jp","chowder.jp","chu.jp","ciao.jp","cocotte.jp","coolblog.jp","cranky.jp","cutegirl.jp","daa.jp","deca.jp","deci.jp","digick.jp","egoism.jp","fakefur.jp","fem.jp","flier.jp","floppy.jp","fool.jp","frenchkiss.jp","girlfriend.jp","girly.jp","gloomy.jp","gonna.jp","greater.jp","hacca.jp","heavy.jp","her.jp","hiho.jp","hippy.jp","holy.jp","hungry.jp","icurus.jp","itigo.jp","jellybean.jp","kikirara.jp","kill.jp","kilo.jp","kuron.jp","littlestar.jp","lolipopmc.jp","lolitapunk.jp","lomo.jp","lovepop.jp","lovesick.jp","main.jp","mods.jp","mond.jp","mongolian.jp","moo.jp","namaste.jp","nikita.jp","nobushi.jp","noor.jp","oops.jp","parallel.jp","parasite.jp","pecori.jp","peewee.jp","penne.jp","pepper.jp","perma.jp","pigboat.jp","pinoko.jp","punyu.jp","pupu.jp","pussycat.jp","pya.jp","raindrop.jp","readymade.jp","sadist.jp","schoolbus.jp","secret.jp","staba.jp","stripper.jp","sub.jp","sunnyday.jp","thick.jp","tonkotsu.jp","under.jp","upper.jp","velvet.jp","verse.jp","versus.jp","vivian.jp","watson.jp","weblike.jp","whitesnow.jp","zombie.jp","heteml.net","cloudapps.digital","london.cloudapps.digital","pymnt.uk","homeoffice.gov.uk","ro.im","goip.de","run.app","a.run.app","web.app","*.0emm.com","appspot.com","*.r.appspot.com","codespot.com","googleapis.com","googlecode.com","pagespeedmobilizer.com","publishproxy.com","withgoogle.com","withyoutube.com","*.gateway.dev","cloud.goog","translate.goog","*.usercontent.goog","cloudfunctions.net","blogspot.ae","blogspot.al","blogspot.am","blogspot.ba","blogspot.be","blogspot.bg","blogspot.bj","blogspot.ca","blogspot.cf","blogspot.ch","blogspot.cl","blogspot.co.at","blogspot.co.id","blogspot.co.il","blogspot.co.ke","blogspot.co.nz","blogspot.co.uk","blogspot.co.za","blogspot.com","blogspot.com.ar","blogspot.com.au","blogspot.com.br","blogspot.com.by","blogspot.com.co","blogspot.com.cy","blogspot.com.ee","blogspot.com.eg","blogspot.com.es","blogspot.com.mt","blogspot.com.ng","blogspot.com.tr","blogspot.com.uy","blogspot.cv","blogspot.cz","blogspot.de","blogspot.dk","blogspot.fi","blogspot.fr","blogspot.gr","blogspot.hk","blogspot.hr","blogspot.hu","blogspot.ie","blogspot.in","blogspot.is","blogspot.it","blogspot.jp","blogspot.kr","blogspot.li","blogspot.lt","blogspot.lu","blogspot.md","blogspot.mk","blogspot.mr","blogspot.mx","blogspot.my","blogspot.nl","blogspot.no","blogspot.pe","blogspot.pt","blogspot.qa","blogspot.re","blogspot.ro","blogspot.rs","blogspot.ru","blogspot.se","blogspot.sg","blogspot.si","blogspot.sk","blogspot.sn","blogspot.td","blogspot.tw","blogspot.ug","blogspot.vn","goupile.fr","gov.nl","awsmppl.com","gnstigbestellen.de","gnstigliefern.de","fin.ci","free.hr","caa.li","ua.rs","conf.se","hs.zone","hs.run","hashbang.sh","hasura.app","hasura-app.io","pages.it.hs-heilbronn.de","hepforge.org","herokuapp.com","herokussl.com","ravendb.cloud","myravendb.com","ravendb.community","ravendb.me","development.run","ravendb.run","homesklep.pl","secaas.hk","hoplix.shop","orx.biz","biz.gl","col.ng","firm.ng","gen.ng","ltd.ng","ngo.ng","edu.scot","sch.so","hostyhosting.io","hkkinen.fi","*.moonscale.io","moonscale.net","iki.fi","ibxos.it","iliadboxos.it","impertrixcdn.com","impertrix.com","smushcdn.com","wphostedmail.com","wpmucdn.com","tempurl.host","wpmudev.host","dyn-berlin.de","in-berlin.de","in-brb.de","in-butter.de","in-dsl.de","in-dsl.net","in-dsl.org","in-vpn.de","in-vpn.net","in-vpn.org","biz.at","info.at","info.cx","ac.leg.br","al.leg.br","am.leg.br","ap.leg.br","ba.leg.br","ce.leg.br","df.leg.br","es.leg.br","go.leg.br","ma.leg.br","mg.leg.br","ms.leg.br","mt.leg.br","pa.leg.br","pb.leg.br","pe.leg.br","pi.leg.br","pr.leg.br","rj.leg.br","rn.leg.br","ro.leg.br","rr.leg.br","rs.leg.br","sc.leg.br","se.leg.br","sp.leg.br","to.leg.br","pixolino.com","na4u.ru","iopsys.se","ipifony.net","iservschule.de","mein-iserv.de","schulplattform.de","schulserver.de","test-iserv.de","iserv.dev","iobb.net","mel.cloudlets.com.au","cloud.interhostsolutions.be","users.scale.virtualcloud.com.br","mycloud.by","alp1.ae.flow.ch","appengine.flow.ch","es-1.axarnet.cloud","diadem.cloud","vip.jelastic.cloud","jele.cloud","it1.eur.aruba.jenv-aruba.cloud","it1.jenv-aruba.cloud","keliweb.cloud","cs.keliweb.cloud","oxa.cloud","tn.oxa.cloud","uk.oxa.cloud","primetel.cloud","uk.primetel.cloud","ca.reclaim.cloud","uk.reclaim.cloud","us.reclaim.cloud","ch.trendhosting.cloud","de.trendhosting.cloud","jele.club","amscompute.com","clicketcloud.com","dopaas.com","hidora.com","paas.hosted-by-previder.com","rag-cloud.hosteur.com","rag-cloud-ch.hosteur.com","jcloud.ik-server.com","jcloud-ver-jpc.ik-server.com","demo.jelastic.com","kilatiron.com","paas.massivegrid.com","jed.wafaicloud.com","lon.wafaicloud.com","ryd.wafaicloud.com","j.scaleforce.com.cy","jelastic.dogado.eu","fi.cloudplatform.fi","demo.datacenter.fi","paas.datacenter.fi","jele.host","mircloud.host","paas.beebyte.io","sekd1.beebyteapp.io","jele.io","cloud-fr1.unispace.io","jc.neen.it","cloud.jelastic.open.tim.it","jcloud.kz","upaas.kazteleport.kz","cloudjiffy.net","fra1-de.cloudjiffy.net","west1-us.cloudjiffy.net","jls-sto1.elastx.net","jls-sto2.elastx.net","jls-sto3.elastx.net","faststacks.net","fr-1.paas.massivegrid.net","lon-1.paas.massivegrid.net","lon-2.paas.massivegrid.net","ny-1.paas.massivegrid.net","ny-2.paas.massivegrid.net","sg-1.paas.massivegrid.net","jelastic.saveincloud.net","nordeste-idc.saveincloud.net","j.scaleforce.net","jelastic.tsukaeru.net","sdscloud.pl","unicloud.pl","mircloud.ru","jelastic.regruhosting.ru","enscaled.sg","jele.site","jelastic.team","orangecloud.tn","j.layershift.co.uk","phx.enscaled.us","mircloud.us","myjino.ru","*.hosting.myjino.ru","*.landing.myjino.ru","*.spectrum.myjino.ru","*.vps.myjino.ru","jotelulu.cloud","*.triton.zone","*.cns.joyent.com","js.org","kaas.gg","khplay.nl","ktistory.com","kapsi.fi","keymachine.de","kinghost.net","uni5.net","knightpoint.systems","koobin.events","oya.to","kuleuven.cloud","ezproxy.kuleuven.be","co.krd","edu.krd","krellian.net","webthings.io","git-repos.de","lcube-server.de","svn-repos.de","leadpages.co","lpages.co","lpusercontent.com","lelux.site","co.business","co.education","co.events","co.financial","co.network","co.place","co.technology","app.lmpm.com","linkyard.cloud","linkyard-cloud.ch","members.linode.com","*.nodebalancer.linode.com","*.linodeobjects.com","ip.linodeusercontent.com","we.bs","*.user.localcert.dev","localzone.xyz","loginline.app","loginline.dev","loginline.io","loginline.services","loginline.site","servers.run","lohmus.me","krasnik.pl","leczna.pl","lubartow.pl","lublin.pl","poniatowa.pl","swidnik.pl","glug.org.uk","lug.org.uk","lugs.org.uk","barsy.bg","barsy.co.uk","barsyonline.co.uk","barsycenter.com","barsyonline.com","barsy.club","barsy.de","barsy.eu","barsy.in","barsy.info","barsy.io","barsy.me","barsy.menu","barsy.mobi","barsy.net","barsy.online","barsy.org","barsy.pro","barsy.pub","barsy.ro","barsy.shop","barsy.site","barsy.support","barsy.uk","*.magentosite.cloud","mayfirst.info","mayfirst.org","hb.cldmail.ru","cn.vu","mazeplay.com","mcpe.me","mcdir.me","mcdir.ru","mcpre.ru","vps.mcdir.ru","mediatech.by","mediatech.dev","hra.health","miniserver.com","memset.net","messerli.app","*.cloud.metacentrum.cz","custom.metacentrum.cz","flt.cloud.muni.cz","usr.cloud.muni.cz","meteorapp.com","eu.meteorapp.com","co.pl","*.azurecontainer.io","azurewebsites.net","azure-mobile.net","cloudapp.net","azurestaticapps.net","1.azurestaticapps.net","centralus.azurestaticapps.net","eastasia.azurestaticapps.net","eastus2.azurestaticapps.net","westeurope.azurestaticapps.net","westus2.azurestaticapps.net","csx.cc","mintere.site","forte.id","mozilla-iot.org","bmoattachments.org","net.ru","org.ru","pp.ru","hostedpi.com","customer.mythic-beasts.com","caracal.mythic-beasts.com","fentiger.mythic-beasts.com","lynx.mythic-beasts.com","ocelot.mythic-beasts.com","oncilla.mythic-beasts.com","onza.mythic-beasts.com","sphinx.mythic-beasts.com","vs.mythic-beasts.com","x.mythic-beasts.com","yali.mythic-beasts.com","cust.retrosnub.co.uk","ui.nabu.casa","pony.club","of.fashion","in.london","of.london","from.marketing","with.marketing","for.men","repair.men","and.mom","for.mom","for.one","under.one","for.sale","that.win","from.work","to.work","cloud.nospamproxy.com","netlify.app","4u.com","ngrok.io","nh-serv.co.uk","nfshost.com","*.developer.app","noop.app","*.northflank.app","*.build.run","*.code.run","*.database.run","*.migration.run","noticeable.news","dnsking.ch","mypi.co","n4t.co","001www.com","ddnslive.com","myiphost.com","forumz.info","16-b.it","32-b.it","64-b.it","soundcast.me","tcp4.me","dnsup.net","hicam.net","now-dns.net","ownip.net","vpndns.net","dynserv.org","now-dns.org","x443.pw","now-dns.top","ntdll.top","freeddns.us","crafting.xyz","zapto.xyz","nsupdate.info","nerdpol.ovh","blogsyte.com","brasilia.me","cable-modem.org","ciscofreak.com","collegefan.org","couchpotatofries.org","damnserver.com","ddns.me","ditchyourip.com","dnsfor.me","dnsiskinky.com","dvrcam.info","dynns.com","eating-organic.net","fantasyleague.cc","geekgalaxy.com","golffan.us","health-carereform.com","homesecuritymac.com","homesecuritypc.com","hopto.me","ilovecollege.info","loginto.me","mlbfan.org","mmafan.biz","myactivedirectory.com","mydissent.net","myeffect.net","mymediapc.net","mypsx.net","mysecuritycamera.com","mysecuritycamera.net","mysecuritycamera.org","net-freaks.com","nflfan.org","nhlfan.net","no-ip.ca","no-ip.co.uk","no-ip.net","noip.us","onthewifi.com","pgafan.net","point2this.com","pointto.us","privatizehealthinsurance.net","quicksytes.com","read-books.org","securitytactics.com","serveexchange.com","servehumour.com","servep2p.com","servesarcasm.com","stufftoread.com","ufcfan.org","unusualperson.com","workisboring.com","3utilities.com","bounceme.net","ddns.net","ddnsking.com","gotdns.ch","hopto.org","myftp.biz","myftp.org","myvnc.com","no-ip.biz","no-ip.info","no-ip.org","noip.me","redirectme.net","servebeer.com","serveblog.net","servecounterstrike.com","serveftp.com","servegame.com","servehalflife.com","servehttp.com","serveirc.com","serveminecraft.net","servemp3.com","servepics.com","servequake.com","sytes.net","webhop.me","zapto.org","stage.nodeart.io","pcloud.host","nyc.mn","static.observableusercontent.com","cya.gg","omg.lol","cloudycluster.net","omniwe.site","service.one","nid.io","opensocial.site","opencraft.hosting","orsites.com","operaunite.com","tech.orange","authgear-staging.com","authgearapps.com","skygearapp.com","outsystemscloud.com","*.webpaas.ovh.net","*.hosting.ovh.net","ownprovider.com","own.pm","*.owo.codes","ox.rs","oy.lc","pgfog.com","pagefrontapp.com","pagexl.com","*.paywhirl.com","bar0.net","bar1.net","bar2.net","rdv.to","art.pl","gliwice.pl","krakow.pl","poznan.pl","wroc.pl","zakopane.pl","pantheonsite.io","gotpantheon.com","mypep.link","perspecta.cloud","lk3.ru","on-web.fr","bc.platform.sh","ent.platform.sh","eu.platform.sh","us.platform.sh","*.platformsh.site","*.tst.site","platter-app.com","platter-app.dev","platterp.us","pdns.page","plesk.page","pleskns.com","dyn53.io","onporter.run","co.bn","postman-echo.com","pstmn.io","mock.pstmn.io","httpbin.org","prequalifyme.today","xen.prgmr.com","priv.at","prvcy.page","*.dweb.link","protonet.io","chirurgiens-dentistes-en-france.fr","byen.site","pubtls.org","pythonanywhere.com","eu.pythonanywhere.com","qoto.io","qualifioapp.com","qbuser.com","cloudsite.builders","instances.spawn.cc","instantcloud.cn","ras.ru","qa2.com","qcx.io","*.sys.qcx.io","dev-myqnapcloud.com","alpha-myqnapcloud.com","myqnapcloud.com","*.quipelements.com","vapor.cloud","vaporcloud.io","rackmaze.com","rackmaze.net","g.vbrplsbx.io","*.on-k3s.io","*.on-rancher.cloud","*.on-rio.io","readthedocs.io","rhcloud.com","app.render.com","onrender.com","repl.co","id.repl.co","repl.run","resindevice.io","devices.resinstaging.io","hzc.io","wellbeingzone.eu","wellbeingzone.co.uk","adimo.co.uk","itcouldbewor.se","git-pages.rit.edu","rocky.page",".",".",".",".",".",".",".",".",".",".","*.builder.code.com","*.dev-builder.code.com","*.stg-builder.code.com","sandcats.io","logoip.de","logoip.com","fr-par-1.baremetal.scw.cloud","fr-par-2.baremetal.scw.cloud","nl-ams-1.baremetal.scw.cloud","fnc.fr-par.scw.cloud","functions.fnc.fr-par.scw.cloud","k8s.fr-par.scw.cloud","nodes.k8s.fr-par.scw.cloud","s3.fr-par.scw.cloud","s3-website.fr-par.scw.cloud","whm.fr-par.scw.cloud","priv.instances.scw.cloud","pub.instances.scw.cloud","k8s.scw.cloud","k8s.nl-ams.scw.cloud","nodes.k8s.nl-ams.scw.cloud","s3.nl-ams.scw.cloud","s3-website.nl-ams.scw.cloud","whm.nl-ams.scw.cloud","k8s.pl-waw.scw.cloud","nodes.k8s.pl-waw.scw.cloud","s3.pl-waw.scw.cloud","s3-website.pl-waw.scw.cloud","scalebook.scw.cloud","smartlabeling.scw.cloud","dedibox.fr","schokokeks.net","gov.scot","service.gov.scot","scrysec.com","firewall-gateway.com","firewall-gateway.de","my-gateway.de","my-router.de","spdns.de","spdns.eu","firewall-gateway.net","my-firewall.org","myfirewall.org","spdns.org","seidat.net","sellfy.store","senseering.net","minisite.ms","magnet.page","biz.ua","co.ua","pp.ua","shiftcrypto.dev","shiftcrypto.io","shiftedit.io","myshopblocks.com","myshopify.com","shopitsite.com","shopware.store","mo-siemens.io","1kapp.com","appchizi.com","applinzi.com","sinaapp.com","vipsinaapp.com","siteleaf.net","bounty-full.com","alpha.bounty-full.com","beta.bounty-full.com","small-web.org","vp4.me","try-snowplow.com","srht.site","stackhero-network.com","musician.io","novecore.site","static.land","dev.static.land","sites.static.land","storebase.store","vps-host.net","atl.jelastic.vps-host.net","njs.jelastic.vps-host.net","ric.jelastic.vps-host.net","playstation-cloud.com","apps.lair.io","*.stolos.io","spacekit.io","customer.speedpartner.de","myspreadshop.at","myspreadshop.com.au","myspreadshop.be","myspreadshop.ca","myspreadshop.ch","myspreadshop.com","myspreadshop.de","myspreadshop.dk","myspreadshop.es","myspreadshop.fi","myspreadshop.fr","myspreadshop.ie","myspreadshop.it","myspreadshop.net","myspreadshop.nl","myspreadshop.no","myspreadshop.pl","myspreadshop.se","myspreadshop.co.uk","api.stdlib.com","storj.farm","utwente.io","soc.srcf.net","user.srcf.net","temp-dns.com","supabase.co","supabase.in","supabase.net","su.paba.se","*.s5y.io","*.sensiosite.cloud","syncloud.it","dscloud.biz","direct.quickconnect.cn","dsmynas.com","familyds.com","diskstation.me","dscloud.me","i234.me","myds.me","synology.me","dscloud.mobi","dsmynas.net","familyds.net","dsmynas.org","familyds.org","vpnplus.to","direct.quickconnect.to","tabitorder.co.il","taifun-dns.de","beta.tailscale.net","ts.net","gda.pl","gdansk.pl","gdynia.pl","med.pl","sopot.pl","site.tb-hosting.com","edugit.io","s3.teckids.org","telebit.app","telebit.io","*.telebit.xyz","gwiddle.co.uk","*.firenet.ch","*.svc.firenet.ch","reservd.com","thingdustdata.com","cust.dev.thingdust.io","cust.disrec.thingdust.io","cust.prod.thingdust.io","cust.testing.thingdust.io","reservd.dev.thingdust.io","reservd.disrec.thingdust.io","reservd.testing.thingdust.io","tickets.io","arvo.network","azimuth.network","tlon.network","torproject.net","pages.torproject.net","bloxcms.com","townnews-staging.com","tbits.me","12hp.at","2ix.at","4lima.at","lima-city.at","12hp.ch","2ix.ch","4lima.ch","lima-city.ch","trafficplex.cloud","de.cool","12hp.de","2ix.de","4lima.de","lima-city.de","1337.pictures","clan.rip","lima-city.rocks","webspace.rocks","lima.zone","*.transurl.be","*.transurl.eu","*.transurl.nl","site.transip.me","tuxfamily.org","dd-dns.de","diskstation.eu","diskstation.org","dray-dns.de","draydns.de","dyn-vpn.de","dynvpn.de","mein-vigor.de","my-vigor.de","my-wan.de","syno-ds.de","synology-diskstation.de","synology-ds.de","typedream.app","pro.typeform.com","uber.space","*.uberspace.de","hk.com","hk.org","ltd.hk","inc.hk","name.pm","sch.tf","biz.wf","sch.wf","org.yt","virtualuser.de","virtual-user.de","upli.io","urown.cloud","dnsupdate.info","lib.de.us","2038.io","vercel.app","vercel.dev","now.sh","router.management","v-info.info","voorloper.cloud","neko.am","nyaa.am","be.ax","cat.ax","es.ax","eu.ax","gg.ax","mc.ax","us.ax","xy.ax","nl.ci","xx.gl","app.gp","blog.gt","de.gt","to.gt","be.gy","cc.hn","blog.kg","io.kg","jp.kg","tv.kg","uk.kg","us.kg","de.ls","at.md","de.md","jp.md","to.md","indie.porn","vxl.sh","ch.tc","me.tc","we.tc","nyan.to","at.vg","blog.vu","dev.vu","me.vu","v.ua","*.vultrobjects.com","wafflecell.com","*.webhare.dev","reserve-online.net","reserve-online.com","bookonline.app","hotelwithflight.com","wedeploy.io","wedeploy.me","wedeploy.sh","remotewd.com","pages.wiardweb.com","wmflabs.org","toolforge.org","wmcloud.org","panel.gg","daemon.panel.gg","messwithdns.com","woltlab-demo.com","myforum.community","community-pro.de","diskussionsbereich.de","community-pro.net","meinforum.net","affinitylottery.org.uk","raffleentry.org.uk","weeklylottery.org.uk","wpenginepowered.com","js.wpenginepowered.com","wixsite.com","editorx.io","half.host","xnbay.com","u2.xnbay.com","u2-local.xnbay.com","cistron.nl","demon.nl","xs4all.space","yandexcloud.net","storage.yandexcloud.net","website.yandexcloud.net","official.academy","yolasite.com","ybo.faith","yombo.me","homelink.one","ybo.party","ybo.review","ybo.science","ybo.trade","ynh.fr","nohost.me","noho.st","za.net","za.org","bss.design","basicserver.io","virtualserver.io","enterprisecloud.nu"]}}),hD=ji({"node_modules/psl/index.js"(i){var e=x1(),t={};t.rules=dD().map(function(s){return{rule:s,suffix:s.replace(/^(\*\.|\!)/,""),punySuffix:-1,wildcard:s.charAt(0)==="*",exception:s.charAt(0)==="!"}}),t.endsWith=function(s,n){return s.indexOf(n,s.length-n.length)!==-1},t.findRule=function(s){var n=e.toASCII(s);return t.rules.reduce(function(a,l){return l.punySuffix===-1&&(l.punySuffix=e.toASCII(l.suffix)),!t.endsWith(n,"."+l.punySuffix)&&n!==l.punySuffix?a:l},null)},i.errorCodes={DOMAIN_TOO_SHORT:"Domain name too short.",DOMAIN_TOO_LONG:"Domain name too long. It should be no more than 255 chars.",LABEL_STARTS_WITH_DASH:"Domain name label can not start with a dash.",LABEL_ENDS_WITH_DASH:"Domain name label can not end with a dash.",LABEL_TOO_LONG:"Domain name label should be at most 63 chars long.",LABEL_TOO_SHORT:"Domain name label should be at least 1 character long.",LABEL_INVALID_CHARS:"Domain name label can only contain alphanumeric characters or dashes."},t.validate=function(s){var n=e.toASCII(s);if(n.length<1)return"DOMAIN_TOO_SHORT";if(n.length>255)return"DOMAIN_TOO_LONG";for(var a=n.split("."),l,u=0;u<a.length;++u){if(l=a[u],!l.length)return"LABEL_TOO_SHORT";if(l.length>63)return"LABEL_TOO_LONG";if(l.charAt(0)==="-")return"LABEL_STARTS_WITH_DASH";if(l.charAt(l.length-1)==="-")return"LABEL_ENDS_WITH_DASH";if(!/^[a-z0-9\-]+$/.test(l))return"LABEL_INVALID_CHARS"}},i.parse=function(s){if(typeof s!="string")throw new TypeError("Domain name must be a string.");var n=s.slice(0).toLowerCase();n.charAt(n.length-1)==="."&&(n=n.slice(0,n.length-1));var a=t.validate(n);if(a)return{input:s,error:{message:i.errorCodes[a],code:a}};var l={input:s,tld:null,sld:null,domain:null,subdomain:null,listed:!1},u=n.split(".");if(u[u.length-1]==="local")return l;var h=function(){return/xn--/.test(n)&&(l.domain&&(l.domain=e.toASCII(l.domain)),l.subdomain&&(l.subdomain=e.toASCII(l.subdomain))),l},d=t.findRule(n);if(!d)return u.length<2?l:(l.tld=u.pop(),l.sld=u.pop(),l.domain=[l.sld,l.tld].join("."),u.length&&(l.subdomain=u.pop()),h());l.listed=!0;var m=d.suffix.split("."),p=u.slice(0,u.length-m.length);return d.exception&&p.push(m.shift()),l.tld=m.join("."),!p.length||(d.wildcard&&(m.unshift(p.pop()),l.tld=m.join(".")),!p.length)||(l.sld=p.pop(),l.domain=[l.sld,l.tld].join("."),p.length&&(l.subdomain=p.join("."))),h()},i.get=function(s){return s&&i.parse(s).domain||null},i.isValid=function(s){var n=i.parse(s);return!!(n.domain&&n.listed)}}}),T1=ji({"node_modules/tough-cookie/lib/pubsuffix-psl.js"(i){var e=hD(),t=["local","example","invalid","localhost","test"],s=["localhost","invalid"];function n(a,l={}){const u=a.split("."),h=u[u.length-1],d=!!l.allowSpecialUseDomain,m=!!l.ignoreError;if(d&&t.includes(h)){if(u.length>1)return`${u[u.length-2]}.${h}`;if(s.includes(h))return`${h}`}if(!m&&t.includes(h))throw new Error(`Cookie has domain set to the public suffix "${h}" which is a special use domain. To allow this, configure your CookieJar with {allowSpecialUseDomain:true, rejectPublicSuffixes: false}.`);return e.get(a)}i.getPublicSuffix=n}}),A1=ji({"node_modules/tough-cookie/lib/store.js"(i){var e=class{constructor(){this.synchronous=!1}findCookie(t,s,n,a){throw new Error("findCookie is not implemented")}findCookies(t,s,n,a){throw new Error("findCookies is not implemented")}putCookie(t,s){throw new Error("putCookie is not implemented")}updateCookie(t,s,n){throw new Error("updateCookie is not implemented")}removeCookie(t,s,n,a){throw new Error("removeCookie is not implemented")}removeCookies(t,s,n){throw new Error("removeCookies is not implemented")}removeAllCookies(t){throw new Error("removeAllCookies is not implemented")}getAllCookies(t){throw new Error("getAllCookies is not implemented (therefore jar cannot be serialized)")}};i.Store=e}}),w1=ji({"node_modules/universalify/index.js"(i){i.fromCallback=function(e){return Object.defineProperty(function(){if(typeof arguments[arguments.length-1]=="function")e.apply(this,arguments);else return new Promise((t,s)=>{arguments[arguments.length]=(n,a)=>{if(n)return s(n);t(a)},arguments.length++,e.apply(this,arguments)})},"name",{value:e.name})},i.fromPromise=function(e){return Object.defineProperty(function(){const t=arguments[arguments.length-1];if(typeof t!="function")return e.apply(this,arguments);delete arguments[arguments.length-1],arguments.length--,e.apply(this,arguments).then(s=>t(null,s),t)},"name",{value:e.name})}}}),_1=ji({"node_modules/tough-cookie/lib/permuteDomain.js"(i){var e=T1();function t(s,n){const a=e.getPublicSuffix(s,{allowSpecialUseDomain:n});if(!a)return null;if(a==s)return[s];s.slice(-1)=="."&&(s=s.slice(0,-1));const u=s.slice(0,-(a.length+1)).split(".").reverse();let h=a;const d=[h];for(;u.length;)h=`${u.shift()}.${h}`,d.push(h);return d}i.permuteDomain=t}}),R1=ji({"node_modules/tough-cookie/lib/pathMatch.js"(i){function e(t,s){return s===t||t.indexOf(s)===0&&(s.substr(-1)==="/"||t.substr(s.length,1)==="/")}i.pathMatch=e}}),L1=ji({"node_modules/tough-cookie/lib/utilHelper.js"(i){function e(){try{return rD("util")}catch{return null}}function t(){return Symbol.for("nodejs.util.inspect.custom")}function s(n){const l=(n.requireUtil||e)();return l?l.inspect.custom:null}i.getUtilInspect=function(a,l={}){const h=(l.requireUtil||e)();return function(m,p,g){return h?h.inspect(m,p,g):a(m)}},i.getCustomInspectSymbol=function(a={}){return(a.lookupCustomInspectSymbol||t)()||s(a)}}}),fD=ji({"node_modules/tough-cookie/lib/memstore.js"(i){var{fromCallback:e}=w1(),t=A1().Store,s=_1().permuteDomain,n=R1().pathMatch,{getCustomInspectSymbol:a,getUtilInspect:l}=L1(),u=class extends t{constructor(){super(),this.synchronous=!0,this.idx=Object.create(null);const p=a();p&&(this[p]=this.inspect)}inspect(){return`{ idx: ${{inspect:l(h)}.inspect(this.idx,!1,2)} }`}findCookie(p,g,E,b){return!this.idx[p]||!this.idx[p][g]?b(null,void 0):b(null,this.idx[p][g][E]||null)}findCookies(p,g,E,b){const k=[];if(typeof E=="function"&&(b=E,E=!0),!p)return b(null,[]);let S;g?S=function(R){Object.keys(R).forEach(C=>{if(n(g,C)){const I=R[C];for(const L in I)k.push(I[L])}})}:S=function(R){for(const C in R){const I=R[C];for(const L in I)k.push(I[L])}};const x=s(p,E)||[p],_=this.idx;x.forEach(w=>{const R=_[w];R&&S(R)}),b(null,k)}putCookie(p,g){this.idx[p.domain]||(this.idx[p.domain]=Object.create(null)),this.idx[p.domain][p.path]||(this.idx[p.domain][p.path]=Object.create(null)),this.idx[p.domain][p.path][p.key]=p,g(null)}updateCookie(p,g,E){this.putCookie(g,E)}removeCookie(p,g,E,b){this.idx[p]&&this.idx[p][g]&&this.idx[p][g][E]&&delete this.idx[p][g][E],b(null)}removeCookies(p,g,E){return this.idx[p]&&(g?delete this.idx[p][g]:delete this.idx[p]),E(null)}removeAllCookies(p){return this.idx=Object.create(null),p(null)}getAllCookies(p){const g=[],E=this.idx;Object.keys(E).forEach(k=>{Object.keys(E[k]).forEach(x=>{Object.keys(E[k][x]).forEach(w=>{w!==null&&g.push(E[k][x][w])})})}),g.sort((k,S)=>(k.creationIndex||0)-(S.creationIndex||0)),p(null,g)}};["findCookie","findCookies","putCookie","updateCookie","removeCookie","removeCookies","removeAllCookies","getAllCookies"].forEach(p=>{u.prototype[p]=e(u.prototype[p])}),i.MemoryCookieStore=u;function h(p){const g=Object.keys(p);if(g.length===0)return"[Object: null prototype] {}";let E=`[Object: null prototype] {
`;return Object.keys(p).forEach((b,k)=>{E+=d(b,p[b]),k<g.length-1&&(E+=","),E+=`
`}),E+="}",E}function d(p,g){const E="  ";let b=`${E}'${p}': [Object: null prototype] {
`;return Object.keys(g).forEach((k,S,x)=>{b+=m(k,g[k]),S<x.length-1&&(b+=","),b+=`
`}),b+=`${E}}`,b}function m(p,g){const E="    ";let b=`${E}'${p}': [Object: null prototype] {
`;return Object.keys(g).forEach((k,S,x)=>{const _=g[k];b+=`      ${k}: ${_.inspect()}`,S<x.length-1&&(b+=","),b+=`
`}),b+=`${E}}`,b}i.inspectFallback=h}}),mD=ji({"node_modules/tough-cookie/lib/validators.js"(i){var e=Object.prototype.toString;function t(E){return typeof E=="function"}function s(E){return l(E)&&E!==""}function n(E){return h(E,Date)&&m(E.getTime())}function a(E){return E===""||E instanceof String&&E.toString()===""}function l(E){return typeof E=="string"||E instanceof String}function u(E){return e.call(E)==="[object Object]"}function h(E,b){try{return E instanceof b}catch{return!1}}function d(E){return s(E)||u(E)&&"hostname"in E&&"pathname"in E&&"protocol"in E||h(E,URL)}function m(E){return typeof E=="number"&&E%1===0}function p(E,b,k){if(t(b)||(k=b,b=null),u(k)||(k={Error:"Failed Check"}),!E)if(b)b(new g(k));else throw new g(k)}var g=class extends Error{constructor(...E){super(...E)}};i.ParameterError=g,i.isFunction=t,i.isNonEmptyString=s,i.isDate=n,i.isEmptyString=a,i.isString=l,i.isObject=u,i.isUrlStringOrObject=d,i.validate=p}}),pD=ji({"node_modules/tough-cookie/lib/version.js"(i,e){e.exports="4.1.4"}}),gD=ji({"node_modules/tough-cookie/lib/cookie.js"(i){var e=x1(),t=cD(),s=T1(),n=A1().Store,a=fD().MemoryCookieStore,l=R1().pathMatch,u=mD(),h=pD(),{fromCallback:d}=w1(),{getCustomInspectSymbol:m}=L1(),p=/^[\x21\x23-\x2B\x2D-\x3A\x3C-\x5B\x5D-\x7E]+$/,g=/[\x00-\x1F]/,E=[`
`,"\r","\0"],b=/[\x20-\x3A\x3C-\x7E]+/,k=/[\x09\x20-\x2F\x3B-\x40\x5B-\x60\x7B-\x7E]/,S={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},x=2147483647e3,_=0,w='Invalid sameSiteContext option for getCookies(); expected one of "strict", "lax", or "none"';function R(ie){u.validate(u.isNonEmptyString(ie),ie);const z=String(ie).toLowerCase();return z==="none"||z==="lax"||z==="strict"?z:null}var C=Object.freeze({SILENT:"silent",STRICT:"strict",DISABLED:"unsafe-disabled"}),I=/(?:^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$)|(?:^(?:(?:[a-f\d]{1,4}:){7}(?:[a-f\d]{1,4}|:)|(?:[a-f\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|:[a-f\d]{1,4}|:)|(?:[a-f\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,2}|:)|(?:[a-f\d]{1,4}:){4}(?:(?::[a-f\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,3}|:)|(?:[a-f\d]{1,4}:){3}(?:(?::[a-f\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,4}|:)|(?:[a-f\d]{1,4}:){2}(?:(?::[a-f\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,5}|:)|(?:[a-f\d]{1,4}:){1}(?:(?::[a-f\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,6}|:)|(?::(?:(?::[a-f\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,7}|:)))$)/,L=`
\\[?(?:
(?:[a-fA-F\\d]{1,4}:){7}(?:[a-fA-F\\d]{1,4}|:)|
(?:[a-fA-F\\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|:[a-fA-F\\d]{1,4}|:)|
(?:[a-fA-F\\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,2}|:)|
(?:[a-fA-F\\d]{1,4}:){4}(?:(?::[a-fA-F\\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,3}|:)|
(?:[a-fA-F\\d]{1,4}:){3}(?:(?::[a-fA-F\\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,4}|:)|
(?:[a-fA-F\\d]{1,4}:){2}(?:(?::[a-fA-F\\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,5}|:)|
(?:[a-fA-F\\d]{1,4}:){1}(?:(?::[a-fA-F\\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,6}|:)|
(?::(?:(?::[a-fA-F\\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,7}|:))
)(?:%[0-9a-zA-Z]{1,})?\\]?
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),P=new RegExp(`^${L}$`);function M(ie,z,Y,ye){let ee=0;for(;ee<ie.length;){const Se=ie.charCodeAt(ee);if(Se<=47||Se>=58)break;ee++}return ee<z||ee>Y||!ye&&ee!=ie.length?null:parseInt(ie.substr(0,ee),10)}function N(ie){const z=ie.split(":"),Y=[0,0,0];if(z.length!==3)return null;for(let ye=0;ye<3;ye++){const ee=ye==2,Se=M(z[ye],1,2,ee);if(Se===null)return null;Y[ye]=Se}return Y}function H(ie){ie=String(ie).substr(0,3).toLowerCase();const z=S[ie];return z>=0?z:null}function se(ie){if(!ie)return;const z=ie.split(k);if(!z)return;let Y=null,ye=null,ee=null,Se=null,Pe=null,Be=null;for(let tt=0;tt<z.length;tt++){const mt=z[tt].trim();if(!mt.length)continue;let Ce;if(ee===null&&(Ce=N(mt),Ce)){Y=Ce[0],ye=Ce[1],ee=Ce[2];continue}if(Se===null&&(Ce=M(mt,1,2,!0),Ce!==null)){Se=Ce;continue}if(Pe===null&&(Ce=H(mt),Ce!==null)){Pe=Ce;continue}Be===null&&(Ce=M(mt,2,4,!0),Ce!==null&&(Be=Ce,Be>=70&&Be<=99?Be+=1900:Be>=0&&Be<=69&&(Be+=2e3)))}if(!(Se===null||Pe===null||Be===null||ee===null||Se<1||Se>31||Be<1601||Y>23||ye>59||ee>59))return new Date(Date.UTC(Be,Pe,Se,Y,ye,ee))}function ge(ie){return u.validate(u.isDate(ie),ie),ie.toUTCString()}function ve(ie){return ie==null?null:(ie=ie.trim().replace(/^\./,""),P.test(ie)&&(ie=ie.replace("[","").replace("]","")),e&&/[^\u0001-\u007f]/.test(ie)&&(ie=e.toASCII(ie)),ie.toLowerCase())}function U(ie,z,Y){if(ie==null||z==null)return null;if(Y!==!1&&(ie=ve(ie),z=ve(z)),ie==z)return!0;const ye=ie.lastIndexOf(z);return!(ye<=0||ie.length!==z.length+ye||ie.substr(ye-1,1)!=="."||I.test(ie))}function O(ie){if(!ie||ie.substr(0,1)!=="/")return"/";if(ie==="/")return ie;const z=ie.lastIndexOf("/");return z===0?"/":ie.slice(0,z)}function q(ie){if(u.isEmptyString(ie))return ie;for(let z=0;z<E.length;z++){const Y=ie.indexOf(E[z]);Y!==-1&&(ie=ie.substr(0,Y))}return ie}function W(ie,z){ie=q(ie),u.validate(u.isString(ie),ie);let Y=ie.indexOf("=");if(z)Y===0&&(ie=ie.substr(1),Y=ie.indexOf("="));else if(Y<=0)return;let ye,ee;if(Y<=0?(ye="",ee=ie.trim()):(ye=ie.substr(0,Y).trim(),ee=ie.substr(Y+1).trim()),g.test(ye)||g.test(ee))return;const Se=new Ee;return Se.key=ye,Se.value=ee,Se}function re(ie,z){if((!z||typeof z!="object")&&(z={}),u.isEmptyString(ie)||!u.isString(ie))return null;ie=ie.trim();const Y=ie.indexOf(";"),ye=Y===-1?ie:ie.substr(0,Y),ee=W(ye,!!z.loose);if(!ee)return;if(Y===-1)return ee;const Se=ie.slice(Y+1).trim();if(Se.length===0)return ee;const Pe=Se.split(";");for(;Pe.length;){const Be=Pe.shift().trim();if(Be.length===0)continue;const tt=Be.indexOf("=");let mt,Ce;switch(tt===-1?(mt=Be,Ce=null):(mt=Be.substr(0,tt),Ce=Be.substr(tt+1)),mt=mt.trim().toLowerCase(),Ce&&(Ce=Ce.trim()),mt){case"expires":if(Ce){const pt=se(Ce);pt&&(ee.expires=pt)}break;case"max-age":if(Ce&&/^-?[0-9]+$/.test(Ce)){const pt=parseInt(Ce,10);ee.setMaxAge(pt)}break;case"domain":if(Ce){const pt=Ce.trim().replace(/^\./,"");pt&&(ee.domain=pt.toLowerCase())}break;case"path":ee.path=Ce&&Ce[0]==="/"?Ce:null;break;case"secure":ee.secure=!0;break;case"httponly":ee.httpOnly=!0;break;case"samesite":switch(Ce?Ce.toLowerCase():""){case"strict":ee.sameSite="strict";break;case"lax":ee.sameSite="lax";break;case"none":ee.sameSite="none";break;default:ee.sameSite=void 0;break}break;default:ee.extensions=ee.extensions||[],ee.extensions.push(Be);break}}return ee}function he(ie){return u.validate(u.isObject(ie),ie),!ie.key.startsWith("__Secure-")||ie.secure}function j(ie){return u.validate(u.isObject(ie)),!ie.key.startsWith("__Host-")||ie.secure&&ie.hostOnly&&ie.path!=null&&ie.path==="/"}function F(ie){let z;try{z=JSON.parse(ie)}catch(Y){return Y}return z}function K(ie){if(!ie||u.isEmptyString(ie))return null;let z;if(typeof ie=="string"){if(z=F(ie),z instanceof Error)return null}else z=ie;const Y=new Ee;for(let ye=0;ye<Ee.serializableProperties.length;ye++){const ee=Ee.serializableProperties[ye];z[ee]===void 0||z[ee]===xe[ee]||(ee==="expires"||ee==="creation"||ee==="lastAccessed"?z[ee]===null?Y[ee]=null:Y[ee]=z[ee]=="Infinity"?"Infinity":new Date(z[ee]):Y[ee]=z[ee])}return Y}function ae(ie,z){u.validate(u.isObject(ie),ie),u.validate(u.isObject(z),z);let Y=0;const ye=ie.path?ie.path.length:0;if(Y=(z.path?z.path.length:0)-ye,Y!==0)return Y;const Se=ie.creation?ie.creation.getTime():x,Pe=z.creation?z.creation.getTime():x;return Y=Se-Pe,Y!==0||(Y=ie.creationIndex-z.creationIndex),Y}function le(ie){if(u.validate(u.isString(ie)),ie==="/")return["/"];const z=[ie];for(;ie.length>1;){const Y=ie.lastIndexOf("/");if(Y===0)break;ie=ie.substr(0,Y),z.push(ie)}return z.push("/"),z}function me(ie){if(ie instanceof Object)return ie;try{ie=decodeURI(ie)}catch{}return t(ie)}var xe={key:"",value:"",expires:"Infinity",maxAge:null,domain:null,path:null,secure:!1,httpOnly:!1,extensions:null,hostOnly:null,pathIsDefault:null,creation:null,lastAccessed:null,sameSite:void 0},Ee=class Ih{constructor(z={}){const Y=m();Y&&(this[Y]=this.inspect),Object.assign(this,xe,z),this.creation=this.creation||new Date,Object.defineProperty(this,"creationIndex",{configurable:!1,enumerable:!1,writable:!0,value:++Ih.cookiesCreated})}inspect(){const z=Date.now(),Y=this.hostOnly!=null?this.hostOnly:"?",ye=this.creation?`${z-this.creation.getTime()}ms`:"?",ee=this.lastAccessed?`${z-this.lastAccessed.getTime()}ms`:"?";return`Cookie="${this.toString()}; hostOnly=${Y}; aAge=${ee}; cAge=${ye}"`}toJSON(){const z={};for(const Y of Ih.serializableProperties)this[Y]!==xe[Y]&&(Y==="expires"||Y==="creation"||Y==="lastAccessed"?this[Y]===null?z[Y]=null:z[Y]=this[Y]=="Infinity"?"Infinity":this[Y].toISOString():Y==="maxAge"?this[Y]!==null&&(z[Y]=this[Y]==1/0||this[Y]==-1/0?this[Y].toString():this[Y]):this[Y]!==xe[Y]&&(z[Y]=this[Y]));return z}clone(){return K(this.toJSON())}validate(){if(!p.test(this.value)||this.expires!=1/0&&!(this.expires instanceof Date)&&!se(this.expires)||this.maxAge!=null&&this.maxAge<=0||this.path!=null&&!b.test(this.path))return!1;const z=this.cdomain();return!(z&&(z.match(/\.$/)||s.getPublicSuffix(z)==null))}setExpires(z){z instanceof Date?this.expires=z:this.expires=se(z)||"Infinity"}setMaxAge(z){z===1/0||z===-1/0?this.maxAge=z.toString():this.maxAge=z}cookieString(){let z=this.value;return z==null&&(z=""),this.key===""?z:`${this.key}=${z}`}toString(){let z=this.cookieString();if(this.expires!=1/0&&(this.expires instanceof Date?z+=`; Expires=${ge(this.expires)}`:z+=`; Expires=${this.expires}`),this.maxAge!=null&&this.maxAge!=1/0&&(z+=`; Max-Age=${this.maxAge}`),this.domain&&!this.hostOnly&&(z+=`; Domain=${this.domain}`),this.path&&(z+=`; Path=${this.path}`),this.secure&&(z+="; Secure"),this.httpOnly&&(z+="; HttpOnly"),this.sameSite&&this.sameSite!=="none"){const Y=Ih.sameSiteCanonical[this.sameSite.toLowerCase()];z+=`; SameSite=${Y||this.sameSite}`}return this.extensions&&this.extensions.forEach(Y=>{z+=`; ${Y}`}),z}TTL(z){if(this.maxAge!=null)return this.maxAge<=0?0:this.maxAge*1e3;let Y=this.expires;return Y!=1/0?(Y instanceof Date||(Y=se(Y)||1/0),Y==1/0?1/0:Y.getTime()-(z||Date.now())):1/0}expiryTime(z){if(this.maxAge!=null){const Y=z||this.creation||new Date,ye=this.maxAge<=0?-1/0:this.maxAge*1e3;return Y.getTime()+ye}return this.expires==1/0?1/0:this.expires.getTime()}expiryDate(z){const Y=this.expiryTime(z);return Y==1/0?new Date(x):Y==-1/0?new Date(_):new Date(Y)}isPersistent(){return this.maxAge!=null||this.expires!=1/0}canonicalizedDomain(){return this.domain==null?null:ve(this.domain)}cdomain(){return this.canonicalizedDomain()}};Ee.cookiesCreated=0,Ee.parse=re,Ee.fromJSON=K,Ee.serializableProperties=Object.keys(xe),Ee.sameSiteLevel={strict:3,lax:2,none:1},Ee.sameSiteCanonical={strict:"Strict",lax:"Lax"};function Oe(ie){if(ie!=null){const z=ie.toLowerCase();switch(z){case C.STRICT:case C.SILENT:case C.DISABLED:return z}}return C.SILENT}var ot=class jh{constructor(z,Y={rejectPublicSuffixes:!0}){typeof Y=="boolean"&&(Y={rejectPublicSuffixes:Y}),u.validate(u.isObject(Y),Y),this.rejectPublicSuffixes=Y.rejectPublicSuffixes,this.enableLooseMode=!!Y.looseMode,this.allowSpecialUseDomain=typeof Y.allowSpecialUseDomain=="boolean"?Y.allowSpecialUseDomain:!0,this.store=z||new a,this.prefixSecurity=Oe(Y.prefixSecurity),this._cloneSync=vt("clone"),this._importCookiesSync=vt("_importCookies"),this.getCookiesSync=vt("getCookies"),this.getCookieStringSync=vt("getCookieString"),this.getSetCookieStringsSync=vt("getSetCookieStrings"),this.removeAllCookiesSync=vt("removeAllCookies"),this.setCookieSync=vt("setCookie"),this.serializeSync=vt("serialize")}setCookie(z,Y,ye,ee){u.validate(u.isUrlStringOrObject(Y),ee,ye);let Se;if(u.isFunction(Y))return ee=Y,ee(new Error("No URL was specified"));const Pe=me(Y);if(u.isFunction(ye)&&(ee=ye,ye={}),u.validate(u.isFunction(ee),ee),!u.isNonEmptyString(z)&&!u.isObject(z)&&z instanceof String&&z.length==0)return ee(null);const Be=ve(Pe.hostname),tt=ye.loose||this.enableLooseMode;let mt=null;if(ye.sameSiteContext&&(mt=R(ye.sameSiteContext),!mt))return ee(new Error(w));if(typeof z=="string"||z instanceof String){if(z=Ee.parse(z,{loose:tt}),!z)return Se=new Error("Cookie failed to parse"),ee(ye.ignoreError?null:Se)}else if(!(z instanceof Ee))return Se=new Error("First argument to setCookie must be a Cookie object or string"),ee(ye.ignoreError?null:Se);const Ce=ye.now||new Date;if(this.rejectPublicSuffixes&&z.domain&&s.getPublicSuffix(z.cdomain(),{allowSpecialUseDomain:this.allowSpecialUseDomain,ignoreError:ye.ignoreError})==null&&!P.test(z.domain))return Se=new Error("Cookie has domain set to a public suffix"),ee(ye.ignoreError?null:Se);if(z.domain){if(!U(Be,z.cdomain(),!1))return Se=new Error(`Cookie not in this host's domain. Cookie:${z.cdomain()} Request:${Be}`),ee(ye.ignoreError?null:Se);z.hostOnly==null&&(z.hostOnly=!1)}else z.hostOnly=!0,z.domain=Be;if((!z.path||z.path[0]!=="/")&&(z.path=O(Pe.pathname),z.pathIsDefault=!0),ye.http===!1&&z.httpOnly)return Se=new Error("Cookie is HttpOnly and this isn't an HTTP API"),ee(ye.ignoreError?null:Se);if(z.sameSite!=="none"&&z.sameSite!==void 0&&mt&&mt==="none")return Se=new Error("Cookie is SameSite but this is a cross-origin request"),ee(ye.ignoreError?null:Se);const Ai=this.prefixSecurity===C.SILENT;if(!(this.prefixSecurity===C.DISABLED)){let ct=!1,xt;if(he(z)?j(z)||(ct=!0,xt="Cookie has __Host prefix but either Secure or HostOnly attribute is not set or Path is not '/'"):(ct=!0,xt="Cookie has __Secure prefix but Secure attribute is not set"),ct)return ee(ye.ignoreError||Ai?null:new Error(xt))}const Oi=this.store;Oi.updateCookie||(Oi.updateCookie=function(ct,xt,Mi){this.putCookie(xt,Mi)});function pi(ct,xt){if(ct)return ee(ct);const Mi=function(gi){if(gi)return ee(gi);ee(null,z)};if(xt){if(ye.http===!1&&xt.httpOnly)return ct=new Error("old Cookie is HttpOnly and this isn't an HTTP API"),ee(ye.ignoreError?null:ct);z.creation=xt.creation,z.creationIndex=xt.creationIndex,z.lastAccessed=Ce,Oi.updateCookie(xt,z,Mi)}else z.creation=z.lastAccessed=Ce,Oi.putCookie(z,Mi)}Oi.findCookie(z.domain,z.path,z.key,pi)}getCookies(z,Y,ye){u.validate(u.isUrlStringOrObject(z),ye,z);const ee=me(z);u.isFunction(Y)&&(ye=Y,Y={}),u.validate(u.isObject(Y),ye,Y),u.validate(u.isFunction(ye),ye);const Se=ve(ee.hostname),Pe=ee.pathname||"/";let Be=Y.secure;Be==null&&ee.protocol&&(ee.protocol=="https:"||ee.protocol=="wss:")&&(Be=!0);let tt=0;if(Y.sameSiteContext){const ct=R(Y.sameSiteContext);if(tt=Ee.sameSiteLevel[ct],!tt)return ye(new Error(w))}let mt=Y.http;mt==null&&(mt=!0);const Ce=Y.now||Date.now(),Ai=Y.expire!==!1,pt=!!Y.allPaths,Oi=this.store;function pi(ct){if(ct.hostOnly){if(ct.domain!=Se)return!1}else if(!U(Se,ct.domain,!1))return!1;return!pt&&!l(Pe,ct.path)||ct.secure&&!Be||ct.httpOnly&&!mt||tt&&Ee.sameSiteLevel[ct.sameSite||"none"]>tt?!1:Ai&&ct.expiryTime()<=Ce?(Oi.removeCookie(ct.domain,ct.path,ct.key,()=>{}),!1):!0}Oi.findCookies(Se,pt?null:Pe,this.allowSpecialUseDomain,(ct,xt)=>{if(ct)return ye(ct);xt=xt.filter(pi),Y.sort!==!1&&(xt=xt.sort(ae));const Mi=new Date;for(const gi of xt)gi.lastAccessed=Mi;ye(null,xt)})}getCookieString(...z){const Y=z.pop();u.validate(u.isFunction(Y),Y);const ye=function(ee,Se){ee?Y(ee):Y(null,Se.sort(ae).map(Pe=>Pe.cookieString()).join("; "))};z.push(ye),this.getCookies.apply(this,z)}getSetCookieStrings(...z){const Y=z.pop();u.validate(u.isFunction(Y),Y);const ye=function(ee,Se){ee?Y(ee):Y(null,Se.map(Pe=>Pe.toString()))};z.push(ye),this.getCookies.apply(this,z)}serialize(z){u.validate(u.isFunction(z),z);let Y=this.store.constructor.name;u.isObject(Y)&&(Y=null);const ye={version:`tough-cookie@${h}`,storeType:Y,rejectPublicSuffixes:!!this.rejectPublicSuffixes,enableLooseMode:!!this.enableLooseMode,allowSpecialUseDomain:!!this.allowSpecialUseDomain,prefixSecurity:Oe(this.prefixSecurity),cookies:[]};if(!(this.store.getAllCookies&&typeof this.store.getAllCookies=="function"))return z(new Error("store does not support getAllCookies and cannot be serialized"));this.store.getAllCookies((ee,Se)=>ee?z(ee):(ye.cookies=Se.map(Pe=>(Pe=Pe instanceof Ee?Pe.toJSON():Pe,delete Pe.creationIndex,Pe)),z(null,ye)))}toJSON(){return this.serializeSync()}_importCookies(z,Y){let ye=z.cookies;if(!ye||!Array.isArray(ye))return Y(new Error("serialized jar has no cookies array"));ye=ye.slice();const ee=Se=>{if(Se)return Y(Se);if(!ye.length)return Y(Se,this);let Pe;try{Pe=K(ye.shift())}catch(Be){return Y(Be)}if(Pe===null)return ee(null);this.store.putCookie(Pe,ee)};ee()}clone(z,Y){arguments.length===1&&(Y=z,z=null),this.serialize((ye,ee)=>{if(ye)return Y(ye);jh.deserialize(ee,z,Y)})}cloneSync(z){if(arguments.length===0)return this._cloneSync();if(!z.synchronous)throw new Error("CookieJar clone destination store is not synchronous; use async API instead.");return this._cloneSync(z)}removeAllCookies(z){u.validate(u.isFunction(z),z);const Y=this.store;if(typeof Y.removeAllCookies=="function"&&Y.removeAllCookies!==n.prototype.removeAllCookies)return Y.removeAllCookies(z);Y.getAllCookies((ye,ee)=>{if(ye)return z(ye);if(ee.length===0)return z(null);let Se=0;const Pe=[];function Be(tt){if(tt&&Pe.push(tt),Se++,Se===ee.length)return z(Pe.length?Pe[0]:null)}ee.forEach(tt=>{Y.removeCookie(tt.domain,tt.path,tt.key,Be)})})}static deserialize(z,Y,ye){arguments.length!==3&&(ye=Y,Y=null),u.validate(u.isFunction(ye),ye);let ee;if(typeof z=="string"){if(ee=F(z),ee instanceof Error)return ye(ee)}else ee=z;const Se=new jh(Y,{rejectPublicSuffixes:ee.rejectPublicSuffixes,looseMode:ee.enableLooseMode,allowSpecialUseDomain:ee.allowSpecialUseDomain,prefixSecurity:ee.prefixSecurity});Se._importCookies(ee,Pe=>{if(Pe)return ye(Pe);ye(null,Se)})}static deserializeSync(z,Y){const ye=typeof z=="string"?JSON.parse(z):z,ee=new jh(Y,{rejectPublicSuffixes:ye.rejectPublicSuffixes,looseMode:ye.enableLooseMode});if(!ee.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");return ee._importCookiesSync(ye),ee}};ot.fromJSON=ot.deserializeSync,["_importCookies","clone","getCookies","getCookieString","getSetCookieStrings","removeAllCookies","serialize","setCookie"].forEach(ie=>{ot.prototype[ie]=d(ot.prototype[ie])}),ot.deserialize=d(ot.deserialize);function vt(ie){return function(...z){if(!this.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");let Y,ye;if(this[ie](...z,(ee,Se)=>{Y=ee,ye=Se}),Y)throw Y;return ye}}i.version=h,i.CookieJar=ot,i.Cookie=Ee,i.Store=n,i.MemoryCookieStore=a,i.parseDate=se,i.formatDate=ge,i.parse=re,i.fromJSON=K,i.domainMatch=U,i.defaultPath=O,i.pathMatch=l,i.getPublicSuffix=s.getPublicSuffix,i.cookieCompare=ae,i.permuteDomain=_1().permuteDomain,i.permutePath=le,i.canonicalDomain=ve,i.PrefixSecurityEnum=C,i.ParameterError=u.ParameterError}}),yD=oD(gD()),vD=yD.default;/*! Bundled license information:

tough-cookie/lib/pubsuffix-psl.js:
  (*!
   * Copyright (c) 2018, Salesforce.com, Inc.
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice,
   * this list of conditions and the following disclaimer.
   *
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   * this list of conditions and the following disclaimer in the documentation
   * and/or other materials provided with the distribution.
   *
   * 3. Neither the name of Salesforce.com nor the names of its contributors may
   * be used to endorse or promote products derived from this software without
   * specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
   * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
   * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
   * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
   * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
   * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
   * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   * POSSIBILITY OF SUCH DAMAGE.
   *)

tough-cookie/lib/store.js:
  (*!
   * Copyright (c) 2015, Salesforce.com, Inc.
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice,
   * this list of conditions and the following disclaimer.
   *
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   * this list of conditions and the following disclaimer in the documentation
   * and/or other materials provided with the distribution.
   *
   * 3. Neither the name of Salesforce.com nor the names of its contributors may
   * be used to endorse or promote products derived from this software without
   * specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
   * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
   * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
   * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
   * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
   * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
   * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   * POSSIBILITY OF SUCH DAMAGE.
   *)

tough-cookie/lib/permuteDomain.js:
  (*!
   * Copyright (c) 2015, Salesforce.com, Inc.
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice,
   * this list of conditions and the following disclaimer.
   *
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   * this list of conditions and the following disclaimer in the documentation
   * and/or other materials provided with the distribution.
   *
   * 3. Neither the name of Salesforce.com nor the names of its contributors may
   * be used to endorse or promote products derived from this software without
   * specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
   * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
   * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
   * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
   * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
   * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
   * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   * POSSIBILITY OF SUCH DAMAGE.
   *)

tough-cookie/lib/pathMatch.js:
  (*!
   * Copyright (c) 2015, Salesforce.com, Inc.
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice,
   * this list of conditions and the following disclaimer.
   *
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   * this list of conditions and the following disclaimer in the documentation
   * and/or other materials provided with the distribution.
   *
   * 3. Neither the name of Salesforce.com nor the names of its contributors may
   * be used to endorse or promote products derived from this software without
   * specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
   * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
   * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
   * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
   * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
   * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
   * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   * POSSIBILITY OF SUCH DAMAGE.
   *)

tough-cookie/lib/memstore.js:
  (*!
   * Copyright (c) 2015, Salesforce.com, Inc.
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice,
   * this list of conditions and the following disclaimer.
   *
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   * this list of conditions and the following disclaimer in the documentation
   * and/or other materials provided with the distribution.
   *
   * 3. Neither the name of Salesforce.com nor the names of its contributors may
   * be used to endorse or promote products derived from this software without
   * specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
   * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
   * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
   * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
   * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
   * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
   * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   * POSSIBILITY OF SUCH DAMAGE.
   *)

tough-cookie/lib/cookie.js:
  (*!
   * Copyright (c) 2015-2020, Salesforce.com, Inc.
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice,
   * this list of conditions and the following disclaimer.
   *
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   * this list of conditions and the following disclaimer in the documentation
   * and/or other materials provided with the distribution.
   *
   * 3. Neither the name of Salesforce.com nor the names of its contributors may
   * be used to endorse or promote products derived from this software without
   * specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
   * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
   * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
   * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
   * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
   * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
   * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   * POSSIBILITY OF SUCH DAMAGE.
   *)
*/const{Cookie:bD,CookieJar:ED,Store:kD,MemoryCookieStore:SD,domainMatch:xD,pathMatch:TD}=vD;class AD extends kD{constructor(){super();at(this,"storage");at(this,"storageKey");Ks(typeof localStorage<"u","Failed to create a WebStorageCookieStore: `localStorage` is not available in this environment. This is likely an issue with MSW. Please report it on GitHub: https://github.com/mswjs/msw/issues"),this.synchronous=!0,this.storage=localStorage,this.storageKey="__msw-cookie-store__"}findCookie(t,s,n,a){try{const l=this.getStore(),u=this.filterCookiesFromList(l,{domain:t,path:s,key:n});a(null,u[0]||null)}catch(l){l instanceof Error&&a(l,null)}}findCookies(t,s,n,a){if(!t){a(null,[]);return}try{const l=this.getStore(),u=this.filterCookiesFromList(l,{domain:t,path:s});a(null,u)}catch(l){l instanceof Error&&a(l,[])}}putCookie(t,s){try{if(t.maxAge===0)return;const n=this.getStore();n.push(t),this.updateStore(n)}catch(n){n instanceof Error&&s(n)}}updateCookie(t,s,n){if(s.maxAge===0){this.removeCookie(s.domain||"",s.path||"",s.key,n);return}this.putCookie(s,n)}removeCookie(t,s,n,a){try{const l=this.getStore(),u=this.deleteCookiesFromList(l,{domain:t,path:s,key:n});this.updateStore(u),a(null)}catch(l){l instanceof Error&&a(l)}}removeCookies(t,s,n){try{const a=this.getStore(),l=this.deleteCookiesFromList(a,{domain:t,path:s});this.updateStore(l),n(null)}catch(a){a instanceof Error&&n(a)}}getAllCookies(t){try{t(null,this.getStore())}catch(s){s instanceof Error&&t(s,[])}}getStore(){try{const t=this.storage.getItem(this.storageKey);if(t==null)return[];const s=JSON.parse(t),n=[];for(const a of s){const l=bD.fromJSON(a);l!=null&&n.push(l)}return n}catch{return[]}}updateStore(t){this.storage.setItem(this.storageKey,JSON.stringify(t.map(s=>s.toJSON())))}filterCookiesFromList(t,s){const n=[];for(const a of t)s.domain&&!xD(s.domain,a.domain||"")||s.path&&!TD(s.path,a.path||"")||s.key&&a.key!==s.key||n.push(a);return n}deleteCookiesFromList(t,s){const n=this.filterCookiesFromList(t,s);return t.filter(a=>!n.includes(a))}}const wD=xy()?new SD:new AD,C1=new ED(wD);var _D=Object.create,D1=Object.defineProperty,RD=Object.getOwnPropertyDescriptor,I1=Object.getOwnPropertyNames,LD=Object.getPrototypeOf,CD=Object.prototype.hasOwnProperty,j1=(i,e)=>function(){return e||(0,i[I1(i)[0]])((e={exports:{}}).exports,e),e.exports},DD=(i,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of I1(e))!CD.call(i,n)&&n!==t&&D1(i,n,{get:()=>e[n],enumerable:!(s=RD(e,n))||s.enumerable});return i},ID=(i,e,t)=>(t=i!=null?_D(LD(i)):{},DD(D1(t,"default",{value:i,enumerable:!0}),i)),jD=j1({"node_modules/statuses/codes.json"(i,e){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a Teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}}}),OD=j1({"node_modules/statuses/index.js"(i,e){var t=jD();e.exports=u,u.message=t,u.code=s(t),u.codes=n(t),u.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},u.empty={204:!0,205:!0,304:!0},u.retry={502:!0,503:!0,504:!0};function s(h){var d={};return Object.keys(h).forEach(function(p){var g=h[p],E=Number(p);d[g.toLowerCase()]=E}),d}function n(h){return Object.keys(h).map(function(m){return Number(m)})}function a(h){var d=h.toLowerCase();if(!Object.prototype.hasOwnProperty.call(u.code,d))throw new Error('invalid status message: "'+h+'"');return u.code[d]}function l(h){if(!Object.prototype.hasOwnProperty.call(u.message,h))throw new Error("invalid status code: "+h);return u.message[h]}function u(h){if(typeof h=="number")return l(h);if(typeof h!="string")throw new TypeError("code must be a number or string");var d=parseInt(h,10);return isNaN(d)?a(h):l(d)}}}),MD=ID(OD()),O1=MD.default;/*! Bundled license information:

statuses/index.js:
  (*!
   * statuses
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/var PD=Object.create,M1=Object.defineProperty,ND=Object.getOwnPropertyDescriptor,P1=Object.getOwnPropertyNames,FD=Object.getPrototypeOf,BD=Object.prototype.hasOwnProperty,UD=(i,e)=>function(){return e||(0,i[P1(i)[0]])((e={exports:{}}).exports,e),e.exports},$D=(i,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of P1(e))!BD.call(i,n)&&n!==t&&M1(i,n,{get:()=>e[n],enumerable:!(s=ND(e,n))||s.enumerable});return i},zD=(i,e,t)=>(t=i!=null?PD(FD(i)):{},$D(!i||!i.__esModule?M1(t,"default",{value:i,enumerable:!0}):t,i)),GD=UD({"node_modules/set-cookie-parser/lib/set-cookie.js"(i,e){var t={decodeValues:!0,map:!1,silent:!1};function s(h){return typeof h=="string"&&!!h.trim()}function n(h,d){var m=h.split(";").filter(s),p=m.shift(),g=a(p),E=g.name,b=g.value;d=d?Object.assign({},t,d):t;try{b=d.decodeValues?decodeURIComponent(b):b}catch(S){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+b+"'. Set options.decodeValues to false to disable this feature.",S)}var k={name:E,value:b};return m.forEach(function(S){var x=S.split("="),_=x.shift().trimLeft().toLowerCase(),w=x.join("=");_==="expires"?k.expires=new Date(w):_==="max-age"?k.maxAge=parseInt(w,10):_==="secure"?k.secure=!0:_==="httponly"?k.httpOnly=!0:_==="samesite"?k.sameSite=w:k[_]=w}),k}function a(h){var d="",m="",p=h.split("=");return p.length>1?(d=p.shift(),m=p.join("=")):m=h,{name:d,value:m}}function l(h,d){if(d=d?Object.assign({},t,d):t,!h)return d.map?{}:[];if(h.headers)if(typeof h.headers.getSetCookie=="function")h=h.headers.getSetCookie();else if(h.headers["set-cookie"])h=h.headers["set-cookie"];else{var m=h.headers[Object.keys(h.headers).find(function(g){return g.toLowerCase()==="set-cookie"})];!m&&h.headers.cookie&&!d.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),h=m}if(Array.isArray(h)||(h=[h]),d=d?Object.assign({},t,d):t,d.map){var p={};return h.filter(s).reduce(function(g,E){var b=n(E,d);return g[b.name]=b,g},p)}else return h.filter(s).map(function(g){return n(g,d)})}function u(h){if(Array.isArray(h))return h;if(typeof h!="string")return[];var d=[],m=0,p,g,E,b,k;function S(){for(;m<h.length&&/\s/.test(h.charAt(m));)m+=1;return m<h.length}function x(){return g=h.charAt(m),g!=="="&&g!==";"&&g!==","}for(;m<h.length;){for(p=m,k=!1;S();)if(g=h.charAt(m),g===","){for(E=m,m+=1,S(),b=m;m<h.length&&x();)m+=1;m<h.length&&h.charAt(m)==="="?(k=!0,m=b,d.push(h.substring(p,E)),p=m):m=E+1}else m+=1;(!k||m>=h.length)&&d.push(h.substring(p,h.length))}return d}e.exports=l,e.exports.parse=l,e.exports.parseString=n,e.exports.splitCookiesString=u}}),HD=zD(GD()),qD=/[^a-z0-9\-#$%&'*+.^_`|~]/i;function qu(i){if(qD.test(i)||i.trim()==="")throw new TypeError("Invalid character in header field name");return i.trim().toLowerCase()}var AS=[`
`,"\r","	"," "],VD=new RegExp(`(^[${AS.join("")}]|$[${AS.join("")}])`,"g");function Tg(i){return i.replace(VD,"")}function Vu(i){if(typeof i!="string"||i.length===0)return!1;for(let e=0;e<i.length;e++){const t=i.charCodeAt(e);if(t>127||!KD(t))return!1}return!0}function KD(i){return![127,32,"(",")","<",">","@",",",";",":","\\",'"',"/","[","]","?","=","{","}"].includes(i)}function wS(i){if(typeof i!="string"||i.trim()!==i)return!1;for(let e=0;e<i.length;e++){const t=i.charCodeAt(e);if(t===0||t===10||t===13)return!1}return!0}var el=Symbol("normalizedHeaders"),Ag=Symbol("rawHeaderNames"),_S=", ",RS,LS,CS,YD=class N1{constructor(e){this[RS]={},this[LS]=new Map,this[CS]="Headers",["Headers","HeadersPolyfill"].includes(e==null?void 0:e.constructor.name)||e instanceof N1||typeof globalThis.Headers<"u"&&e instanceof globalThis.Headers?e.forEach((s,n)=>{this.append(n,s)},this):Array.isArray(e)?e.forEach(([t,s])=>{this.append(t,Array.isArray(s)?s.join(_S):s)}):e&&Object.getOwnPropertyNames(e).forEach(t=>{const s=e[t];this.append(t,Array.isArray(s)?s.join(_S):s)})}[(RS=el,LS=Ag,CS=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}*keys(){for(const[e]of this.entries())yield e}*values(){for(const[,e]of this.entries())yield e}*entries(){let e=Object.keys(this[el]).sort((t,s)=>t.localeCompare(s));for(const t of e)if(t==="set-cookie")for(const s of this.getSetCookie())yield[t,s];else yield[t,this.get(t)]}has(e){if(!Vu(e))throw new TypeError(`Invalid header name "${e}"`);return this[el].hasOwnProperty(qu(e))}get(e){if(!Vu(e))throw TypeError(`Invalid header name "${e}"`);return this[el][qu(e)]??null}set(e,t){if(!Vu(e)||!wS(t))return;const s=qu(e),n=Tg(t);this[el][s]=Tg(n),this[Ag].set(s,e)}append(e,t){if(!Vu(e)||!wS(t))return;const s=qu(e),n=Tg(t);let a=this.has(s)?`${this.get(s)}, ${n}`:n;this.set(e,a)}delete(e){if(!Vu(e)||!this.has(e))return;const t=qu(e);delete this[el][t],this[Ag].delete(t)}forEach(e,t){for(const[s,n]of this.entries())e.call(t,n,s,this)}getSetCookie(){const e=this.get("set-cookie");return e===null?[]:e===""?[""]:(0,HD.splitCookiesString)(e)}};const{message:WD}=O1,F1=Symbol("kSetCookie");function Oa(i={}){const e=(i==null?void 0:i.status)||200,t=(i==null?void 0:i.statusText)||WD[e]||"",s=new Headers(i==null?void 0:i.headers);return{...i,headers:s,status:e,statusText:t}}function XD(i,e){e.type&&Object.defineProperty(i,"type",{value:e.type,enumerable:!0,writable:!1});const t=e.headers.get("set-cookie");if(t&&(Object.defineProperty(i,F1,{value:t,enumerable:!1,writable:!1}),typeof document<"u")){const s=YD.prototype.getSetCookie.call(e.headers);for(const n of s)document.cookie=n}return i}function QD(i,e){const t=Reflect.get(e,F1);t&&C1.setCookie(t,i.url)}async function B1(i,e,t,s,n,a){var d,m,p,g,E,b;if(n.emit("request:start",{request:i,requestId:e}),(d=i.headers.get("accept"))!=null&&d.includes("msw/passthrough")){n.emit("request:end",{request:i,requestId:e}),(m=a==null?void 0:a.onPassthroughResponse)==null||m.call(a,i);return}const l=await ZC(()=>JC({request:i,requestId:e,handlers:t,resolutionContext:a==null?void 0:a.resolutionContext}));if(l.error)throw n.emit("unhandledException",{error:l.error,request:i,requestId:e}),l.error;if(!l.data){await E1(i,s.onUnhandledRequest),n.emit("request:unhandled",{request:i,requestId:e}),n.emit("request:end",{request:i,requestId:e}),(p=a==null?void 0:a.onPassthroughResponse)==null||p.call(a,i);return}const{response:u}=l.data;if(!u){n.emit("request:end",{request:i,requestId:e}),(g=a==null?void 0:a.onPassthroughResponse)==null||g.call(a,i);return}if(u.status===302&&u.headers.get("x-msw-intention")==="passthrough"){n.emit("request:end",{request:i,requestId:e}),(E=a==null?void 0:a.onPassthroughResponse)==null||E.call(a,i);return}QD(i,u),n.emit("request:match",{request:i,requestId:e});const h=l.data;return(b=a==null?void 0:a.onMockedResponse)==null||b.call(a,u,h),n.emit("request:end",{request:i,requestId:e}),u}function ZD(i){return{status:i.status,statusText:i.statusText,headers:Object.fromEntries(i.headers.entries())}}function Ty(i){return e=>e!=null&&typeof e=="object"&&"__kind"in e&&e.__kind===i}function DS(i){return i!=null&&typeof i=="object"&&!Array.isArray(i)}function U1(i,e){return Object.entries(e).reduce((t,[s,n])=>{const a=t[s];return Array.isArray(a)&&Array.isArray(n)?(t[s]=a.concat(n),t):DS(a)&&DS(n)?(t[s]=U1(a,n),t):(t[s]=n,t)},Object.assign({},i))}var JD=class extends Error{constructor(e,t,s){super(`Possible EventEmitter memory leak detected. ${s} ${t.toString()} listeners added. Use emitter.setMaxListeners() to increase limit`),this.emitter=e,this.type=t,this.count=s,this.name="MaxListenersExceededWarning"}},$1=class{static listenerCount(e,t){return e.listenerCount(t)}constructor(){this.events=new Map,this.maxListeners=$1.defaultMaxListeners,this.hasWarnedAboutPotentialMemoryLeak=!1}_emitInternalEvent(e,t,s){this.emit(e,t,s)}_getListeners(e){return Array.prototype.concat.apply([],this.events.get(e))||[]}_removeListener(e,t){const s=e.indexOf(t);return s>-1&&e.splice(s,1),[]}_wrapOnceListener(e,t){const s=(...n)=>(this.removeListener(e,s),t.apply(this,n));return Object.defineProperty(s,"name",{value:t.name}),s}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}eventNames(){return Array.from(this.events.keys())}emit(e,...t){const s=this._getListeners(e);return s.forEach(n=>{n.apply(this,t)}),s.length>0}addListener(e,t){this._emitInternalEvent("newListener",e,t);const s=this._getListeners(e).concat(t);if(this.events.set(e,s),this.maxListeners>0&&this.listenerCount(e)>this.maxListeners&&!this.hasWarnedAboutPotentialMemoryLeak){this.hasWarnedAboutPotentialMemoryLeak=!0;const n=new JD(this,e,this.listenerCount(e));console.warn(n)}return this}on(e,t){return this.addListener(e,t)}once(e,t){return this.addListener(e,this._wrapOnceListener(e,t))}prependListener(e,t){const s=this._getListeners(e);if(s.length>0){const n=[t].concat(s);this.events.set(e,n)}else this.events.set(e,s.concat(t));return this}prependOnceListener(e,t){return this.prependListener(e,this._wrapOnceListener(e,t))}removeListener(e,t){const s=this._getListeners(e);return s.length>0&&(this._removeListener(s,t),this.events.set(e,s),this._emitInternalEvent("removeListener",e,t)),this}off(e,t){return this.removeListener(e,t)}removeAllListeners(e){return e?this.events.delete(e):this.events.clear(),this}listeners(e){return Array.from(this._getListeners(e))}listenerCount(e){return this._getListeners(e).length}rawListeners(e){return this.listeners(e)}},tf=$1;tf.defaultMaxListeners=10;function eI(i,e){const t=i.emit;if(t._isPiped)return;const s=function(a,...l){return e.emit(a,...l),t.call(this,a,...l)};s._isPiped=!0,i.emit=s}function tI(i){const e=[...i];return Object.freeze(e),e}class iI{constructor(){at(this,"subscriptions",[])}dispose(){let e;for(;e=this.subscriptions.shift();)e()}}class sI{constructor(e){at(this,"handlers");this.initialHandlers=e,this.handlers=[...e]}prepend(e){this.handlers.unshift(...e)}reset(e){this.handlers=e.length>0?[...e]:[...this.initialHandlers]}currentHandlers(){return this.handlers}}class nI extends iI{constructor(...t){super();at(this,"handlersController");at(this,"emitter");at(this,"publicEmitter");at(this,"events");Ks(this.validateHandlers(t),kt.formatMessage("Failed to apply given request handlers: invalid input. Did you forget to spread the request handlers Array?")),this.handlersController=new sI(t),this.emitter=new tf,this.publicEmitter=new tf,eI(this.emitter,this.publicEmitter),this.events=this.createLifeCycleEvents(),this.subscriptions.push(()=>{this.emitter.removeAllListeners(),this.publicEmitter.removeAllListeners()})}validateHandlers(t){return t.every(s=>!Array.isArray(s))}use(...t){Ks(this.validateHandlers(t),kt.formatMessage('Failed to call "use()" with the given request handlers: invalid input. Did you forget to spread the array of request handlers?')),this.handlersController.prepend(t)}restoreHandlers(){this.handlersController.currentHandlers().forEach(t=>{"isUsed"in t&&(t.isUsed=!1)})}resetHandlers(...t){this.handlersController.reset(t)}listHandlers(){return tI(this.handlersController.currentHandlers())}createLifeCycleEvents(){return{on:(...t)=>this.publicEmitter.on(...t),removeListener:(...t)=>this.publicEmitter.removeListener(...t),removeAllListeners:(...t)=>this.publicEmitter.removeAllListeners(...t)}}}function rI(i){const e=Object.getOwnPropertyDescriptor(globalThis,i);return typeof e>"u"||typeof e.get=="function"&&typeof e.get()>"u"||typeof e.get>"u"&&e.value==null?!1:typeof e.set>"u"&&!e.configurable?(console.error(`[MSW] Failed to apply interceptor: the global \`${i}\` property is non-configurable. This is likely an issue with your environment. If you are using a framework, please open an issue about this in their repository.`),!1):!0}var aI={},oI=Object.defineProperty,lI=(i,e)=>{for(var t in e)oI(i,t,{get:e[t],enumerable:!0})},p0={};lI(p0,{blue:()=>cI,gray:()=>g0,green:()=>hI,red:()=>dI,yellow:()=>uI});function uI(i){return`\x1B[33m${i}\x1B[0m`}function cI(i){return`\x1B[34m${i}\x1B[0m`}function g0(i){return`\x1B[90m${i}\x1B[0m`}function dI(i){return`\x1B[31m${i}\x1B[0m`}function hI(i){return`\x1B[32m${i}\x1B[0m`}var Pf=xy(),z1=class{constructor(e){at(this,"prefix");this.name=e,this.prefix=`[${this.name}]`;const t=IS("DEBUG"),s=IS("LOG_LEVEL");t==="1"||t==="true"||typeof t<"u"&&this.name.startsWith(t)?(this.debug=Ku(s,"debug")?on:this.debug,this.info=Ku(s,"info")?on:this.info,this.success=Ku(s,"success")?on:this.success,this.warning=Ku(s,"warning")?on:this.warning,this.error=Ku(s,"error")?on:this.error):(this.info=on,this.success=on,this.warning=on,this.error=on,this.only=on)}extend(e){return new z1(`${this.name}:${e}`)}debug(e,...t){this.logEntry({level:"debug",message:g0(e),positionals:t,prefix:this.prefix,colors:{prefix:"gray"}})}info(e,...t){this.logEntry({level:"info",message:e,positionals:t,prefix:this.prefix,colors:{prefix:"blue"}});const s=new fI;return(n,...a)=>{s.measure(),this.logEntry({level:"info",message:`${n} ${g0(`${s.deltaTime}ms`)}`,positionals:a,prefix:this.prefix,colors:{prefix:"blue"}})}}success(e,...t){this.logEntry({level:"info",message:e,positionals:t,prefix:` ${this.prefix}`,colors:{timestamp:"green",prefix:"green"}})}warning(e,...t){this.logEntry({level:"warning",message:e,positionals:t,prefix:` ${this.prefix}`,colors:{timestamp:"yellow",prefix:"yellow"}})}error(e,...t){this.logEntry({level:"error",message:e,positionals:t,prefix:` ${this.prefix}`,colors:{timestamp:"red",prefix:"red"}})}only(e){e()}createEntry(e,t){return{timestamp:new Date,level:e,message:t}}logEntry(e){const{level:t,message:s,prefix:n,colors:a,positionals:l=[]}=e,u=this.createEntry(t,s),h=(a==null?void 0:a.timestamp)||"gray",d=(a==null?void 0:a.prefix)||"gray",m={timestamp:p0[h],prefix:p0[d]};this.getWriter(t)([m.timestamp(this.formatTimestamp(u.timestamp))].concat(n!=null?m.prefix(n):[]).concat(jS(s)).join(" "),...l.map(jS))}formatTimestamp(e){return`${e.toLocaleTimeString("en-GB")}:${e.getMilliseconds()}`}getWriter(e){switch(e){case"debug":case"success":case"info":return mI;case"warning":return pI;case"error":return gI}}},fI=class{constructor(){at(this,"startTime");at(this,"endTime");at(this,"deltaTime");this.startTime=performance.now()}measure(){this.endTime=performance.now();const e=this.endTime-this.startTime;this.deltaTime=e.toFixed(2)}},on=()=>{};function mI(i,...e){if(Pf){process.stdout.write(Yl(i,...e)+`
`);return}console.log(i,...e)}function pI(i,...e){if(Pf){process.stderr.write(Yl(i,...e)+`
`);return}console.warn(i,...e)}function gI(i,...e){if(Pf){process.stderr.write(Yl(i,...e)+`
`);return}console.error(i,...e)}function IS(i){var e;return Pf?aI[i]:(e=globalThis[i])==null?void 0:e.toString()}function Ku(i,e){return i!==void 0&&i!==e}function jS(i){return typeof i>"u"?"undefined":i===null?"null":typeof i=="string"?i:typeof i=="object"?JSON.stringify(i):i.toString()}function OS(i){return globalThis[i]||void 0}function yI(i,e){globalThis[i]=e}function vI(i){delete globalThis[i]}var bI=class{constructor(e){this.symbol=e,this.readyState="INACTIVE",this.emitter=new tf,this.subscriptions=[],this.logger=new z1(e.description),this.emitter.setMaxListeners(0),this.logger.info("constructing the interceptor...")}checkEnvironment(){return!0}apply(){const e=this.logger.extend("apply");if(e.info("applying the interceptor..."),this.readyState==="APPLIED"){e.info("intercepted already applied!");return}if(!this.checkEnvironment()){e.info("the interceptor cannot be applied in this environment!");return}this.readyState="APPLYING";const s=this.getInstance();if(s){e.info("found a running instance, reusing..."),this.on=(n,a)=>(e.info('proxying the "%s" listener',n),s.emitter.addListener(n,a),this.subscriptions.push(()=>{s.emitter.removeListener(n,a),e.info('removed proxied "%s" listener!',n)}),this),this.readyState="APPLIED";return}e.info("no running instance found, setting up a new instance..."),this.setup(),this.setInstance(),this.readyState="APPLIED"}setup(){}on(e,t){const s=this.logger.extend("on");return this.readyState==="DISPOSING"||this.readyState==="DISPOSED"?(s.info("cannot listen to events, already disposed!"),this):(s.info('adding "%s" event listener:',e,t),this.emitter.on(e,t),this)}once(e,t){return this.emitter.once(e,t),this}off(e,t){return this.emitter.off(e,t),this}removeAllListeners(e){return this.emitter.removeAllListeners(e),this}dispose(){const e=this.logger.extend("dispose");if(this.readyState==="DISPOSED"){e.info("cannot dispose, already disposed!");return}if(e.info("disposing the interceptor..."),this.readyState="DISPOSING",!this.getInstance()){e.info("no interceptors running, skipping dispose...");return}if(this.clearInstance(),e.info("global symbol deleted:",OS(this.symbol)),this.subscriptions.length>0){e.info("disposing of %d subscriptions...",this.subscriptions.length);for(const t of this.subscriptions)t();this.subscriptions=[],e.info("disposed of all subscriptions!",this.subscriptions.length)}this.emitter.removeAllListeners(),e.info("destroyed the listener!"),this.readyState="DISPOSED"}getInstance(){var e;const t=OS(this.symbol);return this.logger.info("retrieved global instance:",(e=t==null?void 0:t.constructor)==null?void 0:e.name),t}setInstance(){yI(this.symbol,this),this.logger.info("set global instance!",this.symbol.description)}clearInstance(){vI(this.symbol),this.logger.info("cleared global instance!",this.symbol.description)}};function EI(){return Math.random().toString(16).slice(2)}function kI(){const i=(e,t)=>{i.state="pending",i.resolve=s=>{if(i.state!=="pending")return;i.result=s;const n=a=>(i.state="fulfilled",a);return e(s instanceof Promise?s:Promise.resolve(s).then(n))},i.reject=s=>{if(i.state==="pending")return queueMicrotask(()=>{i.state="rejected"}),t(i.rejectionReason=s)}};return i}var Hr,xl,Oh,r1,SI=(r1=class extends Promise{constructor(t=null){const s=kI();super((n,a)=>{s(n,a),t==null||t(s.resolve,s.reject)});Me(this,xl);Me(this,Hr);at(this,"resolve");at(this,"reject");we(this,Hr,s),this.resolve=$(this,Hr).resolve,this.reject=$(this,Hr).reject}get state(){return $(this,Hr).state}get rejectionReason(){return $(this,Hr).rejectionReason}then(t,s){return Ve(this,xl,Oh).call(this,super.then(t,s))}catch(t){return Ve(this,xl,Oh).call(this,super.catch(t))}finally(t){return Ve(this,xl,Oh).call(this,super.finally(t))}},Hr=new WeakMap,xl=new WeakSet,Oh=function(t){return Object.defineProperties(t,{resolve:{configurable:!0,value:this.resolve},reject:{configurable:!0,value:this.reject}})},r1);function Ci(i,e){return Object.defineProperties(e,{target:{value:i,enumerable:!0,writable:!0},currentTarget:{value:i,enumerable:!0,writable:!0}}),e}var pl=Symbol("kCancelable"),kn=Symbol("kDefaultPrevented"),Ay=class extends MessageEvent{constructor(i,e){super(i,e),this[pl]=!!e.cancelable,this[kn]=!1}get cancelable(){return this[pl]}set cancelable(i){this[pl]=i}get defaultPrevented(){return this[kn]}set defaultPrevented(i){this[kn]=i}preventDefault(){this.cancelable&&!this[kn]&&(this[kn]=!0)}},Nf=class extends Event{constructor(i,e={}){super(i,e),this.code=e.code===void 0?0:e.code,this.reason=e.reason===void 0?"":e.reason,this.wasClean=e.wasClean===void 0?!1:e.wasClean}},MS=class extends Nf{constructor(i,e={}){super(i,e),this[pl]=!!e.cancelable,this[kn]=!1}get cancelable(){return this[pl]}set cancelable(i){this[pl]=i}get defaultPrevented(){return this[kn]}set defaultPrevented(i){this[kn]=i}preventDefault(){this.cancelable&&!this[kn]&&(this[kn]=!0)}},Yu=Symbol("kEmitter"),ch=Symbol("kBoundListener"),xI=class{constructor(i,e){this.socket=i,this.transport=e,this.id=EI(),this.url=new URL(i.url),this[Yu]=new EventTarget,this.transport.addEventListener("outgoing",t=>{const s=Ci(this.socket,new Ay("message",{data:t.data,origin:t.origin,cancelable:!0}));this[Yu].dispatchEvent(s),s.defaultPrevented&&t.preventDefault()}),this.transport.addEventListener("close",t=>{this[Yu].dispatchEvent(Ci(this.socket,new Nf("close",t)))})}addEventListener(i,e,t){if(!Reflect.has(e,ch)){const s=e.bind(this.socket);Object.defineProperty(e,ch,{value:s,enumerable:!1,configurable:!1})}this[Yu].addEventListener(i,Reflect.get(e,ch),t)}removeEventListener(i,e,t){this[Yu].removeEventListener(i,Reflect.get(e,ch),t)}send(i){this.transport.send(i)}close(i,e){this.transport.close(i,e)}},PS="InvalidAccessError: close code out of user configurable range",sf=Symbol("kPassthroughPromise"),G1=Symbol("kOnSend"),hc=Symbol("kClose"),Hc=class extends EventTarget{constructor(i,e){super(),this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3,this._onopen=null,this._onmessage=null,this._onerror=null,this._onclose=null,this.url=i.toString(),this.protocol="",this.extensions="",this.binaryType="blob",this.readyState=this.CONNECTING,this.bufferedAmount=0,this[sf]=new SI,queueMicrotask(async()=>{await this[sf]||(this.protocol=typeof e=="string"?e:Array.isArray(e)&&e.length>0?e[0]:"",this.readyState===this.CONNECTING&&(this.readyState=this.OPEN,this.dispatchEvent(Ci(this,new Event("open")))))})}set onopen(i){this.removeEventListener("open",this._onopen),this._onopen=i,i!==null&&this.addEventListener("open",i)}get onopen(){return this._onopen}set onmessage(i){this.removeEventListener("message",this._onmessage),this._onmessage=i,i!==null&&this.addEventListener("message",i)}get onmessage(){return this._onmessage}set onerror(i){this.removeEventListener("error",this._onerror),this._onerror=i,i!==null&&this.addEventListener("error",i)}get onerror(){return this._onerror}set onclose(i){this.removeEventListener("close",this._onclose),this._onclose=i,i!==null&&this.addEventListener("close",i)}get onclose(){return this._onclose}send(i){if(this.readyState===this.CONNECTING)throw this.close(),new DOMException("InvalidStateError");this.readyState===this.CLOSING||this.readyState===this.CLOSED||(this.bufferedAmount+=TI(i),queueMicrotask(()=>{var e;this.bufferedAmount=0,(e=this[G1])==null||e.call(this,i)}))}close(i=1e3,e){Ks(i,PS),Ks(i===1e3||i>=3e3&&i<=4999,PS),this[hc](i,e)}[hc](i=1e3,e,t=!0){this.readyState===this.CLOSING||this.readyState===this.CLOSED||(this.readyState=this.CLOSING,queueMicrotask(()=>{this.readyState=this.CLOSED,this.dispatchEvent(Ci(this,new Nf("close",{code:i,reason:e,wasClean:t}))),this._onopen=null,this._onmessage=null,this._onerror=null,this._onclose=null}))}addEventListener(i,e,t){return super.addEventListener(i,e,t)}removeEventListener(i,e,t){return super.removeEventListener(i,e,t)}};Hc.CONNECTING=0;Hc.OPEN=1;Hc.CLOSING=2;Hc.CLOSED=3;function TI(i){return typeof i=="string"?i.length:i instanceof Blob?i.size:i.byteLength}var jr=Symbol("kEmitter"),dh=Symbol("kBoundListener"),wg=Symbol("kSend"),AI=class{constructor(i,e,t){this.client=i,this.transport=e,this.createConnection=t,this[jr]=new EventTarget,this.mockCloseController=new AbortController,this.realCloseController=new AbortController,this.transport.addEventListener("outgoing",s=>{typeof this.realWebSocket>"u"||queueMicrotask(()=>{s.defaultPrevented||this[wg](s.data)})}),this.transport.addEventListener("incoming",this.handleIncomingMessage.bind(this))}get socket(){return Ks(this.realWebSocket,'Cannot access "socket" on the original WebSocket server object: the connection is not open. Did you forget to call `server.connect()`?'),this.realWebSocket}connect(){Ks(!this.realWebSocket||this.realWebSocket.readyState!==WebSocket.OPEN,'Failed to call "connect()" on the original WebSocket instance: the connection already open');const i=this.createConnection();i.binaryType=this.client.binaryType,i.addEventListener("open",e=>{this[jr].dispatchEvent(Ci(this.realWebSocket,new Event("open",e)))},{once:!0}),i.addEventListener("message",e=>{this.transport.dispatchEvent(Ci(this.realWebSocket,new MessageEvent("incoming",{data:e.data,origin:e.origin})))}),this.client.addEventListener("close",e=>{this.handleMockClose(e)},{signal:this.mockCloseController.signal}),i.addEventListener("close",e=>{this.handleRealClose(e)},{signal:this.realCloseController.signal}),i.addEventListener("error",()=>{const e=Ci(i,new Event("error",{cancelable:!0}));this[jr].dispatchEvent(e),e.defaultPrevented||this.client.dispatchEvent(Ci(this.client,new Event("error")))}),this.realWebSocket=i}addEventListener(i,e,t){if(!Reflect.has(e,dh)){const s=e.bind(this.client);Object.defineProperty(e,dh,{value:s,enumerable:!1})}this[jr].addEventListener(i,Reflect.get(e,dh),t)}removeEventListener(i,e,t){this[jr].removeEventListener(i,Reflect.get(e,dh),t)}send(i){this[wg](i)}[wg](i){const{realWebSocket:e}=this;if(Ks(e,'Failed to call "server.send()" for "%s": the connection is not open. Did you forget to call "server.connect()"?',this.client.url),!(e.readyState===WebSocket.CLOSING||e.readyState===WebSocket.CLOSED)){if(e.readyState===WebSocket.CONNECTING){e.addEventListener("open",()=>{e.send(i)},{once:!0});return}e.send(i)}}close(){const{realWebSocket:i}=this;Ks(i,'Failed to close server connection for "%s": the connection is not open. Did you forget to call "server.connect()"?',this.client.url),this.realCloseController.abort(),!(i.readyState===WebSocket.CLOSING||i.readyState===WebSocket.CLOSED)&&(i.close(),queueMicrotask(()=>{this[jr].dispatchEvent(Ci(this.realWebSocket,new MS("close",{code:1e3,cancelable:!0})))}))}handleIncomingMessage(i){const e=Ci(i.target,new Ay("message",{data:i.data,origin:i.origin,cancelable:!0}));this[jr].dispatchEvent(e),e.defaultPrevented||this.client.dispatchEvent(Ci(this.client,new MessageEvent("message",{data:i.data,origin:i.origin})))}handleMockClose(i){this.realWebSocket&&this.realWebSocket.close()}handleRealClose(i){this.mockCloseController.abort();const e=Ci(this.realWebSocket,new MS("close",{code:i.code,reason:i.reason,wasClean:i.wasClean,cancelable:!0}));this[jr].dispatchEvent(e),e.defaultPrevented||this.client[hc](i.code,i.reason)}},wI=class extends EventTarget{constructor(i){super(),this.socket=i,this.socket.addEventListener("close",e=>{this.dispatchEvent(Ci(this.socket,new Nf("close",e)))}),this.socket[G1]=e=>{this.dispatchEvent(Ci(this.socket,new Ay("outgoing",{data:e,origin:this.socket.url,cancelable:!0})))}}addEventListener(i,e,t){return super.addEventListener(i,e,t)}dispatchEvent(i){return super.dispatchEvent(i)}send(i){queueMicrotask(()=>{if(this.socket.readyState===this.socket.CLOSING||this.socket.readyState===this.socket.CLOSED)return;const e=()=>{this.socket.dispatchEvent(Ci(this.socket,new MessageEvent("message",{data:i,origin:this.socket.url})))};this.socket.readyState===this.socket.CONNECTING?this.socket.addEventListener("open",()=>{e()},{once:!0}):e()})}close(i,e){this.socket[hc](i,e)}},H1=class extends bI{constructor(){super(H1.symbol)}checkEnvironment(){return rI("WebSocket")}setup(){const i=Object.getOwnPropertyDescriptor(globalThis,"WebSocket"),e=new Proxy(globalThis.WebSocket,{construct:(t,s,n)=>{const[a,l]=s,u=()=>Reflect.construct(t,s,n),h=new Hc(a,l),d=new wI(h);return queueMicrotask(()=>{try{const m=new AI(h,d,u);this.emitter.emit("connection",{client:new xI(h,d),server:m,info:{protocols:l}})?h[sf].resolve(!1):(h[sf].resolve(!0),m.connect(),m.addEventListener("open",()=>{h.dispatchEvent(Ci(h,new Event("open"))),m.realWebSocket&&(h.protocol=m.realWebSocket.protocol)}))}catch(m){m instanceof Error&&(h.dispatchEvent(new Event("error")),h.readyState!==WebSocket.CLOSING&&h.readyState!==WebSocket.CLOSED&&h[hc](1011,m.message,!1),console.error(m))}}),h}});Object.defineProperty(globalThis,"WebSocket",{value:e,configurable:!0}),this.subscriptions.push(()=>{Object.defineProperty(globalThis,"WebSocket",i)})}},q1=H1;q1.symbol=Symbol("websocket");const y0=new q1;new TextEncoder;var ll=class extends Response{static isConfigurableStatusCode(e){return e>=200&&e<=599}static isRedirectResponse(e){return ll.STATUS_CODES_WITH_REDIRECT.includes(e)}static isResponseWithBody(e){return!ll.STATUS_CODES_WITHOUT_BODY.includes(e)}static setUrl(e,t){e&&t.url==""&&Object.defineProperty(t,"url",{value:e,enumerable:!0,configurable:!0,writable:!1})}static parseRawHeaders(e){const t=new Headers;for(let s=0;s<e.length;s+=2)t.append(e[s],e[s+1]);return t}constructor(e,t={}){var s;const n=(s=t.status)!=null?s:200,a=ll.isConfigurableStatusCode(n)?n:200,l=ll.isResponseWithBody(n)?e:null;if(super(l,{...t,status:a}),n!==a){const u=Object.getOwnPropertySymbols(this).find(h=>h.description==="state");if(u){const h=Reflect.get(this,u);Reflect.set(h,"status",n)}else Object.defineProperty(this,"status",{value:n,enumerable:!0,configurable:!0,writable:!1})}ll.setUrl(t.url,this)}},wy=ll;wy.STATUS_CODES_WITHOUT_BODY=[101,103,204,205,304];wy.STATUS_CODES_WITH_REDIRECT=[301,302,303,307,308];function _I(i,e=!0){return[e&&i.origin,i.pathname].filter(Boolean).join("")}function RI(i){for(var e=[],t=0;t<i.length;){var s=i[t];if(s==="*"||s==="+"||s==="?"){e.push({type:"MODIFIER",index:t,value:i[t++]});continue}if(s==="\\"){e.push({type:"ESCAPED_CHAR",index:t++,value:i[t++]});continue}if(s==="{"){e.push({type:"OPEN",index:t,value:i[t++]});continue}if(s==="}"){e.push({type:"CLOSE",index:t,value:i[t++]});continue}if(s===":"){for(var n="",a=t+1;a<i.length;){var l=i.charCodeAt(a);if(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||l===95){n+=i[a++];continue}break}if(!n)throw new TypeError("Missing parameter name at ".concat(t));e.push({type:"NAME",index:t,value:n}),t=a;continue}if(s==="("){var u=1,h="",a=t+1;if(i[a]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(a));for(;a<i.length;){if(i[a]==="\\"){h+=i[a++]+i[a++];continue}if(i[a]===")"){if(u--,u===0){a++;break}}else if(i[a]==="("&&(u++,i[a+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(a));h+=i[a++]}if(u)throw new TypeError("Unbalanced pattern at ".concat(t));if(!h)throw new TypeError("Missing pattern at ".concat(t));e.push({type:"PATTERN",index:t,value:h}),t=a;continue}e.push({type:"CHAR",index:t,value:i[t++]})}return e.push({type:"END",index:t,value:""}),e}function LI(i,e){e===void 0&&(e={});for(var t=RI(i),s=e.prefixes,n=s===void 0?"./":s,a=e.delimiter,l=a===void 0?"/#?":a,u=[],h=0,d=0,m="",p=function(M){if(d<t.length&&t[d].type===M)return t[d++].value},g=function(M){var N=p(M);if(N!==void 0)return N;var H=t[d],se=H.type,ge=H.index;throw new TypeError("Unexpected ".concat(se," at ").concat(ge,", expected ").concat(M))},E=function(){for(var M="",N;N=p("CHAR")||p("ESCAPED_CHAR");)M+=N;return M},b=function(M){for(var N=0,H=l;N<H.length;N++){var se=H[N];if(M.indexOf(se)>-1)return!0}return!1},k=function(M){var N=u[u.length-1],H=M||(N&&typeof N=="string"?N:"");if(N&&!H)throw new TypeError('Must have text between two parameters, missing text after "'.concat(N.name,'"'));return!H||b(H)?"[^".concat(Gr(l),"]+?"):"(?:(?!".concat(Gr(H),")[^").concat(Gr(l),"])+?")};d<t.length;){var S=p("CHAR"),x=p("NAME"),_=p("PATTERN");if(x||_){var w=S||"";n.indexOf(w)===-1&&(m+=w,w=""),m&&(u.push(m),m=""),u.push({name:x||h++,prefix:w,suffix:"",pattern:_||k(w),modifier:p("MODIFIER")||""});continue}var R=S||p("ESCAPED_CHAR");if(R){m+=R;continue}m&&(u.push(m),m="");var C=p("OPEN");if(C){var w=E(),I=p("NAME")||"",L=p("PATTERN")||"",P=E();g("CLOSE"),u.push({name:I||(L?h++:""),pattern:I&&!L?k(w):L,prefix:w,suffix:P,modifier:p("MODIFIER")||""});continue}g("END")}return u}function CI(i,e){var t=[],s=K1(i,t,e);return DI(s,t,e)}function DI(i,e,t){t===void 0&&(t={});var s=t.decode,n=s===void 0?function(a){return a}:s;return function(a){var l=i.exec(a);if(!l)return!1;for(var u=l[0],h=l.index,d=Object.create(null),m=function(g){if(l[g]===void 0)return"continue";var E=e[g-1];E.modifier==="*"||E.modifier==="+"?d[E.name]=l[g].split(E.prefix+E.suffix).map(function(b){return n(b,E)}):d[E.name]=n(l[g],E)},p=1;p<l.length;p++)m(p);return{path:u,index:h,params:d}}}function Gr(i){return i.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function V1(i){return i&&i.sensitive?"":"i"}function II(i,e){if(!e)return i;for(var t=/\((?:\?<(.*?)>)?(?!\?)/g,s=0,n=t.exec(i.source);n;)e.push({name:n[1]||s++,prefix:"",suffix:"",modifier:"",pattern:""}),n=t.exec(i.source);return i}function jI(i,e,t){var s=i.map(function(n){return K1(n,e,t).source});return new RegExp("(?:".concat(s.join("|"),")"),V1(t))}function OI(i,e,t){return MI(LI(i,t),e,t)}function MI(i,e,t){t===void 0&&(t={});for(var s=t.strict,n=s===void 0?!1:s,a=t.start,l=a===void 0?!0:a,u=t.end,h=u===void 0?!0:u,d=t.encode,m=d===void 0?function(N){return N}:d,p=t.delimiter,g=p===void 0?"/#?":p,E=t.endsWith,b=E===void 0?"":E,k="[".concat(Gr(b),"]|$"),S="[".concat(Gr(g),"]"),x=l?"^":"",_=0,w=i;_<w.length;_++){var R=w[_];if(typeof R=="string")x+=Gr(m(R));else{var C=Gr(m(R.prefix)),I=Gr(m(R.suffix));if(R.pattern)if(e&&e.push(R),C||I)if(R.modifier==="+"||R.modifier==="*"){var L=R.modifier==="*"?"?":"";x+="(?:".concat(C,"((?:").concat(R.pattern,")(?:").concat(I).concat(C,"(?:").concat(R.pattern,"))*)").concat(I,")").concat(L)}else x+="(?:".concat(C,"(").concat(R.pattern,")").concat(I,")").concat(R.modifier);else{if(R.modifier==="+"||R.modifier==="*")throw new TypeError('Can not repeat "'.concat(R.name,'" without a prefix and suffix'));x+="(".concat(R.pattern,")").concat(R.modifier)}else x+="(?:".concat(C).concat(I,")").concat(R.modifier)}}if(h)n||(x+="".concat(S,"?")),x+=t.endsWith?"(?=".concat(k,")"):"$";else{var P=i[i.length-1],M=typeof P=="string"?S.indexOf(P[P.length-1])>-1:P===void 0;n||(x+="(?:".concat(S,"(?=").concat(k,"))?")),M||(x+="(?=".concat(S,"|").concat(k,")"))}return new RegExp(x,V1(t))}function K1(i,e,t){return i instanceof RegExp?II(i,e):Array.isArray(i)?jI(i,e,t):OI(i,e,t)}const PI=/[\?|#].*$/g;function NI(i){return new URL(`/${i}`,"http://localhost").searchParams}function Y1(i){return i.endsWith("?")?i:i.replace(PI,"")}function FI(i){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(i)}function BI(i,e){if(FI(i)||i.startsWith("*"))return i;const t=e||typeof document<"u"&&document.baseURI;return t?decodeURI(new URL(encodeURI(i),t).href):i}function UI(i,e){if(i instanceof RegExp)return i;const t=BI(i,e);return Y1(t)}function $I(i){return i.replace(/([:a-zA-Z_-]*)(\*{1,2})+/g,(e,t,s)=>{const n="(.*)";return t?t.startsWith(":")?`${t}${s}`:`${t}${n}`:n}).replace(/([^\/])(:)(?=\d+)/,"$1\\$2").replace(/^([^\/]+)(:)(?=\/\/)/,"$1\\$2")}function zI(i,e,t){const s=UI(e,t),n=typeof s=="string"?$I(s):s,a=_I(i),l=CI(n,{decode:decodeURIComponent})(a),u=l&&l.params||{};return{matches:l!==!1,params:u}}const GI=Symbol("kDispatchEvent");function HI(i){y0.on("connection",async e=>{const t=i.getHandlers(),s=new MessageEvent("connection",{data:e}),n=[];for(const a of t)Ty("EventHandler")(a)&&a.predicate({event:s,parsedResult:a.parse({event:s})})&&n.push(a);if(n.length>0){i==null||i.onMockedConnection(e);for(const a of n)a[GI](s)}else{const a=new Request(e.client.url,{headers:{upgrade:"websocket",connection:"upgrade"}});await E1(a,i.getUnhandledRequestStrategy()).catch(l=>{const u=new Event("error");Object.defineProperty(u,"cause",{enumerable:!0,configurable:!1,value:l}),e.client.socket.dispatchEvent(u)}),i==null||i.onPassthroughConnection(e),e.server.connect()}})}function ha(i){const e=new Date,t=`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}`;return i!=null&&i.milliseconds?`${t}.${e.getMilliseconds().toString().padStart(3,"0")}`:t}function Ff(i){return i instanceof Blob?i.size:i instanceof ArrayBuffer?i.byteLength:new Blob([i]).size}const NS=24;function _g(i){return i.length<=NS?i:`${i.slice(0,NS)}`}async function Bf(i){if(i instanceof Blob){const e=await i.text();return`Blob(${_g(e)})`}if(typeof i=="object"&&"byteLength"in i){const e=new TextDecoder().decode(i);return`ArrayBuffer(${_g(e)})`}return _g(i)}const co={system:"#3b82f6",outgoing:"#22c55e",incoming:"#ef4444",mocked:"#ff6a33"};function qI(i){const{client:e,server:t}=i;VI(e),e.addEventListener("message",s=>{WI(s)}),e.addEventListener("close",s=>{KI(s)}),e.socket.addEventListener("error",s=>{YI(s)}),e.send=new Proxy(e.send,{apply(s,n,a){const[l]=a,u=new MessageEvent("message",{data:l});return Object.defineProperties(u,{currentTarget:{enumerable:!0,writable:!1,value:e.socket},target:{enumerable:!0,writable:!1,value:e.socket}}),queueMicrotask(()=>{QI(u)}),Reflect.apply(s,n,a)}}),t.addEventListener("open",()=>{t.addEventListener("message",s=>{ZI(s)})},{once:!0}),t.send=new Proxy(t.send,{apply(s,n,a){const[l]=a,u=new MessageEvent("message",{data:l});return Object.defineProperties(u,{currentTarget:{enumerable:!0,writable:!1,value:t.socket},target:{enumerable:!0,writable:!1,value:t.socket}}),XI(u),Reflect.apply(s,n,a)}})}function VI(i){const e=Gc(i.url);console.groupCollapsed(kt.formatMessage(`${ha()} %c%c ${e}`),`color:${co.system}`,"color:inherit"),console.log("Client:",i.socket),console.groupEnd()}function KI(i){const e=i.target,t=Gc(e.url);console.groupCollapsed(kt.formatMessage(`${ha({milliseconds:!0})} %c%c ${t}`),`color:${co.system}`,"color:inherit"),console.log(i),console.groupEnd()}function YI(i){const e=i.target,t=Gc(e.url);console.groupCollapsed(kt.formatMessage(`${ha({milliseconds:!0})} %c%c ${t}`),`color:${co.system}`,"color:inherit"),console.log(i),console.groupEnd()}async function WI(i){const e=Ff(i.data),t=await Bf(i.data),s=i.defaultPrevented?"":"";console.groupCollapsed(kt.formatMessage(`${ha({milliseconds:!0})} %c${s}%c ${t} %c${e}%c`),`color:${co.outgoing}`,"color:inherit","color:gray;font-weight:normal","color:inherit;font-weight:inherit"),console.log(i),console.groupEnd()}async function XI(i){const e=Ff(i.data),t=await Bf(i.data);console.groupCollapsed(kt.formatMessage(`${ha({milliseconds:!0})} %c%c ${t} %c${e}%c`),`color:${co.mocked}`,"color:inherit","color:gray;font-weight:normal","color:inherit;font-weight:inherit"),console.log(i),console.groupEnd()}async function QI(i){const e=Ff(i.data),t=await Bf(i.data);console.groupCollapsed(kt.formatMessage(`${ha({milliseconds:!0})} %c%c ${t} %c${e}%c`),`color:${co.mocked}`,"color:inherit","color:gray;font-weight:normal","color:inherit;font-weight:inherit"),console.log(i),console.groupEnd()}async function ZI(i){const e=Ff(i.data),t=await Bf(i.data),s=i.defaultPrevented?"":"";console.groupCollapsed(kt.formatMessage(`${ha({milliseconds:!0})} %c${s}%c ${t} %c${e}%c`),`color:${co.incoming}`,"color:inherit","color:gray;font-weight:normal","color:inherit;font-weight:inherit"),console.log(i),console.groupEnd()}var JI={},ej=/(%?)(%([sdijo]))/g;function tj(i,e){switch(e){case"s":return i;case"d":case"i":return Number(i);case"j":return JSON.stringify(i);case"o":{if(typeof i=="string")return i;const t=JSON.stringify(i);return t==="{}"||t==="[]"||/^\[object .+?\]$/.test(t)?i:t}}}function qc(i,...e){if(e.length===0)return i;let t=0,s=i.replace(ej,(n,a,l,u)=>{const h=e[t],d=tj(h,u);return a?n:(t++,d)});return t<e.length&&(s+=` ${e.slice(t).join(" ")}`),s=s.replace(/%{2,2}/g,"%"),s}var ij=2;function sj(i){if(!i.stack)return;const e=i.stack.split(`
`);e.splice(1,ij),i.stack=e.join(`
`)}var nj=class extends Error{constructor(i,...e){super(i),this.message=i,this.name="Invariant Violation",this.message=qc(i,...e),sj(this)}},sa=(i,e,...t)=>{if(!i)throw new nj(e,...t)};sa.as=(i,e,t,...s)=>{if(!e){const n=s.length===0?t:qc(t,...s);let a;try{a=Reflect.construct(i,[n])}catch{a=i(n)}throw a}};function _y(){if(typeof navigator<"u"&&navigator.product==="ReactNative")return!0;if(typeof process<"u"){const i=process.type;return i==="renderer"||i==="worker"?!1:!!(process.versions&&process.versions.node)}return!1}var v0=async i=>{try{return{error:null,data:await i().catch(t=>{throw t})}}catch(e){return{error:e,data:null}}};function rj(i){return new URL(i,location.href).href}function Rg(i,e,t){return[i.active,i.installing,i.waiting].filter(l=>l!=null).find(l=>t(l.scriptURL,e))||null}var aj=async(i,e={},t)=>{const s=rj(i),n=await navigator.serviceWorker.getRegistrations().then(u=>u.filter(h=>Rg(h,s,t)));!navigator.serviceWorker.controller&&n.length>0&&location.reload();const[a]=n;if(a)return a.update(),[Rg(a,s,t),a];const l=await v0(async()=>{const u=await navigator.serviceWorker.register(i,e);return[Rg(u,s,t),u]});if(l.error){if(l.error.message.includes("(404)")){const h=new URL((e==null?void 0:e.scope)||"/",location.href);throw new Error(kt.formatMessage(`Failed to register a Service Worker for scope ('${h.href}') with script ('${s}'): Service Worker script does not exist at the given path.

Did you forget to run "npx msw init <PUBLIC_DIR>"?

Learn more about creating the Service Worker script: https://mswjs.io/docs/cli/init`))}throw new Error(kt.formatMessage(`Failed to register the Service Worker:

%s`,l.error.message))}return l.data};function W1(i={}){if(i.quiet)return;const e=i.message||"Mocking enabled.";console.groupCollapsed(`%c${kt.formatMessage(e)}`,"color:orangered;font-weight:bold;"),console.log("%cDocumentation: %chttps://mswjs.io/docs","font-weight:bold","font-weight:normal"),console.log("Found an issue? https://github.com/mswjs/msw/issues"),i.workerUrl&&console.log("Worker script URL:",i.workerUrl),i.workerScope&&console.log("Worker scope:",i.workerScope),i.client&&console.log("Client ID: %s (%s)",i.client.id,i.client.frameType),console.groupEnd()}async function oj(i,e){var s,n;i.workerChannel.send("MOCK_ACTIVATE");const{payload:t}=await i.events.once("MOCKING_ENABLED");if(i.isMockingEnabled){kt.warn('Found a redundant "worker.start()" call. Note that starting the worker while mocking is already enabled will have no effect. Consider removing this "worker.start()" call.');return}i.isMockingEnabled=!0,W1({quiet:e.quiet,workerScope:(s=i.registration)==null?void 0:s.scope,workerUrl:(n=i.worker)==null?void 0:n.scriptURL,client:t.client})}var lj=class{constructor(i){this.port=i}postMessage(i,...e){const[t,s]=e;this.port.postMessage({type:i,data:t},{transfer:s})}};function uj(i){if(!["HEAD","GET"].includes(i.method))return i.body}function cj(i){return new Request(i.url,{...i,body:uj(i)})}var dj=(i,e)=>async(t,s)=>{const n=new lj(t.ports[0]),a=s.payload.id,l=cj(s.payload),u=l.clone(),h=l.clone();ef.cache.set(l,h),i.requests.set(a,h);try{await B1(l,a,i.getRequestHandlers().filter(Ty("RequestHandler")),e,i.emitter,{onPassthroughResponse(){n.postMessage("PASSTHROUGH")},async onMockedResponse(d,{handler:m,parsedResult:p}){const g=d.clone(),E=d.clone(),b=ZD(d);if(i.supports.readableStreamTransfer){const k=d.body;n.postMessage("MOCK_RESPONSE",{...b,body:k},k?[k]:void 0)}else{const k=d.body===null?null:await g.arrayBuffer();n.postMessage("MOCK_RESPONSE",{...b,body:k})}e.quiet||i.emitter.once("response:mocked",()=>{m.log({request:u,response:E,parsedResult:p})})}})}catch(d){d instanceof Error&&(kt.error(`Uncaught exception in the request handler for "%s %s":

%s

This exception has been gracefully handled as a 500 response, however, it's strongly recommended to resolve this error, as it indicates a mistake in your code. If you wish to mock an error response, please see this guide: https://mswjs.io/docs/recipes/mocking-error-responses`,l.method,l.url,d.stack??d),n.postMessage("MOCK_RESPONSE",{status:500,statusText:"Request Handler Error",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d.name,message:d.message,stack:d.stack})}))}};async function hj(i){i.workerChannel.send("INTEGRITY_CHECK_REQUEST");const{payload:e}=await i.events.once("INTEGRITY_CHECK_RESPONSE");e.checksum!=="00729d72e3b82faf54ca8b9621dbb96f"&&kt.warn(`The currently registered Service Worker has been generated by a different version of MSW (${e.packageVersion}) and may not be fully compatible with the installed version.

It's recommended you update your worker script by running this command:

   npx msw init <PUBLIC_DIR>

You can also automate this process and make the worker script update automatically upon the library installations. Read more: https://mswjs.io/docs/cli/init.`)}var fj=new TextEncoder;function mj(i){return fj.encode(i)}function pj(i,e){return new TextDecoder(e).decode(i)}function gj(i){return i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength)}var gl=Symbol("isPatchedModule"),ul=class extends Response{static isConfigurableStatusCode(i){return i>=200&&i<=599}static isRedirectResponse(i){return ul.STATUS_CODES_WITH_REDIRECT.includes(i)}static isResponseWithBody(i){return!ul.STATUS_CODES_WITHOUT_BODY.includes(i)}static setUrl(i,e){i&&e.url==""&&Object.defineProperty(e,"url",{value:i,enumerable:!0,configurable:!0,writable:!1})}constructor(i,e={}){var t;const s=(t=e.status)!=null?t:200,n=ul.isConfigurableStatusCode(s)?s:200,a=ul.isResponseWithBody(s)?i:null;if(super(a,{...e,status:n}),s!==n){const l=Object.getOwnPropertySymbols(this).find(u=>u.description==="state");if(l){const u=Reflect.get(this,l);Reflect.set(u,"status",s)}else Object.defineProperty(this,"status",{value:s,enumerable:!0,configurable:!0,writable:!1})}ul.setUrl(e.url,this)}},nr=ul;nr.STATUS_CODES_WITHOUT_BODY=[101,103,204,205,304];nr.STATUS_CODES_WITH_REDIRECT=[301,302,303,307,308];var yj=Object.defineProperty,vj=(i,e)=>{for(var t in e)yj(i,t,{get:e[t],enumerable:!0})},b0={};vj(b0,{blue:()=>Ej,gray:()=>E0,green:()=>Sj,red:()=>kj,yellow:()=>bj});function bj(i){return`\x1B[33m${i}\x1B[0m`}function Ej(i){return`\x1B[34m${i}\x1B[0m`}function E0(i){return`\x1B[90m${i}\x1B[0m`}function kj(i){return`\x1B[31m${i}\x1B[0m`}function Sj(i){return`\x1B[32m${i}\x1B[0m`}var Uf=_y(),X1=class{constructor(e){at(this,"prefix");this.name=e,this.prefix=`[${this.name}]`;const t=FS("DEBUG"),s=FS("LOG_LEVEL");t==="1"||t==="true"||typeof t<"u"&&this.name.startsWith(t)?(this.debug=Wu(s,"debug")?ln:this.debug,this.info=Wu(s,"info")?ln:this.info,this.success=Wu(s,"success")?ln:this.success,this.warning=Wu(s,"warning")?ln:this.warning,this.error=Wu(s,"error")?ln:this.error):(this.info=ln,this.success=ln,this.warning=ln,this.error=ln,this.only=ln)}extend(e){return new X1(`${this.name}:${e}`)}debug(e,...t){this.logEntry({level:"debug",message:E0(e),positionals:t,prefix:this.prefix,colors:{prefix:"gray"}})}info(e,...t){this.logEntry({level:"info",message:e,positionals:t,prefix:this.prefix,colors:{prefix:"blue"}});const s=new xj;return(n,...a)=>{s.measure(),this.logEntry({level:"info",message:`${n} ${E0(`${s.deltaTime}ms`)}`,positionals:a,prefix:this.prefix,colors:{prefix:"blue"}})}}success(e,...t){this.logEntry({level:"info",message:e,positionals:t,prefix:` ${this.prefix}`,colors:{timestamp:"green",prefix:"green"}})}warning(e,...t){this.logEntry({level:"warning",message:e,positionals:t,prefix:` ${this.prefix}`,colors:{timestamp:"yellow",prefix:"yellow"}})}error(e,...t){this.logEntry({level:"error",message:e,positionals:t,prefix:` ${this.prefix}`,colors:{timestamp:"red",prefix:"red"}})}only(e){e()}createEntry(e,t){return{timestamp:new Date,level:e,message:t}}logEntry(e){const{level:t,message:s,prefix:n,colors:a,positionals:l=[]}=e,u=this.createEntry(t,s),h=(a==null?void 0:a.timestamp)||"gray",d=(a==null?void 0:a.prefix)||"gray",m={timestamp:b0[h],prefix:b0[d]};this.getWriter(t)([m.timestamp(this.formatTimestamp(u.timestamp))].concat(n!=null?m.prefix(n):[]).concat(BS(s)).join(" "),...l.map(BS))}formatTimestamp(e){return`${e.toLocaleTimeString("en-GB")}:${e.getMilliseconds()}`}getWriter(e){switch(e){case"debug":case"success":case"info":return Tj;case"warning":return Aj;case"error":return wj}}},xj=class{constructor(){at(this,"startTime");at(this,"endTime");at(this,"deltaTime");this.startTime=performance.now()}measure(){this.endTime=performance.now();const i=this.endTime-this.startTime;this.deltaTime=i.toFixed(2)}},ln=()=>{};function Tj(i,...e){if(Uf){process.stdout.write(qc(i,...e)+`
`);return}console.log(i,...e)}function Aj(i,...e){if(Uf){process.stderr.write(qc(i,...e)+`
`);return}console.warn(i,...e)}function wj(i,...e){if(Uf){process.stderr.write(qc(i,...e)+`
`);return}console.error(i,...e)}function FS(i){var e;return Uf?JI[i]:(e=globalThis[i])==null?void 0:e.toString()}function Wu(i,e){return i!==void 0&&i!==e}function BS(i){return typeof i>"u"?"undefined":i===null?"null":typeof i=="string"?i:typeof i=="object"?JSON.stringify(i):i.toString()}var _j=class extends Error{constructor(i,e,t){super(`Possible EventEmitter memory leak detected. ${t} ${e.toString()} listeners added. Use emitter.setMaxListeners() to increase limit`),this.emitter=i,this.type=e,this.count=t,this.name="MaxListenersExceededWarning"}},Q1=class{static listenerCount(i,e){return i.listenerCount(e)}constructor(){this.events=new Map,this.maxListeners=Q1.defaultMaxListeners,this.hasWarnedAboutPotentialMemoryLeak=!1}_emitInternalEvent(i,e,t){this.emit(i,e,t)}_getListeners(i){return Array.prototype.concat.apply([],this.events.get(i))||[]}_removeListener(i,e){const t=i.indexOf(e);return t>-1&&i.splice(t,1),[]}_wrapOnceListener(i,e){const t=(...s)=>(this.removeListener(i,t),e.apply(this,s));return Object.defineProperty(t,"name",{value:e.name}),t}setMaxListeners(i){return this.maxListeners=i,this}getMaxListeners(){return this.maxListeners}eventNames(){return Array.from(this.events.keys())}emit(i,...e){const t=this._getListeners(i);return t.forEach(s=>{s.apply(this,e)}),t.length>0}addListener(i,e){this._emitInternalEvent("newListener",i,e);const t=this._getListeners(i).concat(e);if(this.events.set(i,t),this.maxListeners>0&&this.listenerCount(i)>this.maxListeners&&!this.hasWarnedAboutPotentialMemoryLeak){this.hasWarnedAboutPotentialMemoryLeak=!0;const s=new _j(this,i,this.listenerCount(i));console.warn(s)}return this}on(i,e){return this.addListener(i,e)}once(i,e){return this.addListener(i,this._wrapOnceListener(i,e))}prependListener(i,e){const t=this._getListeners(i);if(t.length>0){const s=[e].concat(t);this.events.set(i,s)}else this.events.set(i,t.concat(e));return this}prependOnceListener(i,e){return this.prependListener(i,this._wrapOnceListener(i,e))}removeListener(i,e){const t=this._getListeners(i);return t.length>0&&(this._removeListener(t,e),this.events.set(i,t),this._emitInternalEvent("removeListener",i,e)),this}off(i,e){return this.removeListener(i,e)}removeAllListeners(i){return i?this.events.delete(i):this.events.clear(),this}listeners(i){return Array.from(this._getListeners(i))}listenerCount(i){return this._getListeners(i).length}rawListeners(i){return this.listeners(i)}},Z1=Q1;Z1.defaultMaxListeners=10;var Rj="x-interceptors-internal-request-id";function US(i){return globalThis[i]||void 0}function Lj(i,e){globalThis[i]=e}function Cj(i){delete globalThis[i]}var Ry=class{constructor(i){this.symbol=i,this.readyState="INACTIVE",this.emitter=new Z1,this.subscriptions=[],this.logger=new X1(i.description),this.emitter.setMaxListeners(0),this.logger.info("constructing the interceptor...")}checkEnvironment(){return!0}apply(){const i=this.logger.extend("apply");if(i.info("applying the interceptor..."),this.readyState==="APPLIED"){i.info("intercepted already applied!");return}if(!this.checkEnvironment()){i.info("the interceptor cannot be applied in this environment!");return}this.readyState="APPLYING";const t=this.getInstance();if(t){i.info("found a running instance, reusing..."),this.on=(s,n)=>(i.info('proxying the "%s" listener',s),t.emitter.addListener(s,n),this.subscriptions.push(()=>{t.emitter.removeListener(s,n),i.info('removed proxied "%s" listener!',s)}),this),this.readyState="APPLIED";return}i.info("no running instance found, setting up a new instance..."),this.setup(),this.setInstance(),this.readyState="APPLIED"}setup(){}on(i,e){const t=this.logger.extend("on");return this.readyState==="DISPOSING"||this.readyState==="DISPOSED"?(t.info("cannot listen to events, already disposed!"),this):(t.info('adding "%s" event listener:',i,e),this.emitter.on(i,e),this)}once(i,e){return this.emitter.once(i,e),this}off(i,e){return this.emitter.off(i,e),this}removeAllListeners(i){return this.emitter.removeAllListeners(i),this}dispose(){const i=this.logger.extend("dispose");if(this.readyState==="DISPOSED"){i.info("cannot dispose, already disposed!");return}if(i.info("disposing the interceptor..."),this.readyState="DISPOSING",!this.getInstance()){i.info("no interceptors running, skipping dispose...");return}if(this.clearInstance(),i.info("global symbol deleted:",US(this.symbol)),this.subscriptions.length>0){i.info("disposing of %d subscriptions...",this.subscriptions.length);for(const e of this.subscriptions)e();this.subscriptions=[],i.info("disposed of all subscriptions!",this.subscriptions.length)}this.emitter.removeAllListeners(),i.info("destroyed the listener!"),this.readyState="DISPOSED"}getInstance(){var i;const e=US(this.symbol);return this.logger.info("retrieved global instance:",(i=e==null?void 0:e.constructor)==null?void 0:i.name),e}setInstance(){Lj(this.symbol,this),this.logger.info("set global instance!",this.symbol.description)}clearInstance(){Cj(this.symbol),this.logger.info("cleared global instance!",this.symbol.description)}};function J1(){return Math.random().toString(16).slice(2)}var k0=class extends Ry{constructor(i){k0.symbol=Symbol(i.name),super(k0.symbol),this.interceptors=i.interceptors}setup(){const i=this.logger.extend("setup");i.info("applying all %d interceptors...",this.interceptors.length);for(const e of this.interceptors)i.info('applying "%s" interceptor...',e.constructor.name),e.apply(),i.info("adding interceptor dispose subscription"),this.subscriptions.push(()=>e.dispose())}on(i,e){for(const t of this.interceptors)t.on(i,e);return this}once(i,e){for(const t of this.interceptors)t.once(i,e);return this}off(i,e){for(const t of this.interceptors)t.off(i,e);return this}removeAllListeners(i){for(const e of this.interceptors)e.removeAllListeners(i);return this}};function Dj(i){return(e,t)=>{var u;const{payload:s}=t,{requestId:n}=s,a=i.requests.get(n);if(i.requests.delete(n),(u=s.type)!=null&&u.includes("opaque"))return;const l=s.status===0?Response.error():new nr(nr.isResponseWithBody(s.status)?s.body:null,{...s,url:a.url});i.emitter.emit(s.isMockedResponse?"response:mocked":"response:bypass",{response:l,request:a,requestId:s.requestId})}}function Ij(i,e){!(e!=null&&e.quiet)&&!location.href.startsWith(i.scope)&&kt.warn(`Cannot intercept requests on this page because it's outside of the worker's scope ("${i.scope}"). If you wish to mock API requests on this page, you must resolve this scope issue.

- (Recommended) Register the worker at the root level ("/") of your application.
- Set the "Service-Worker-Allowed" response header to allow out-of-scope workers.`)}var jj=i=>function(t,s){return(async()=>{i.events.removeAllListeners(),i.workerChannel.on("REQUEST",dj(i,t)),i.workerChannel.on("RESPONSE",Dj(i));const l=await aj(t.serviceWorker.url,t.serviceWorker.options,t.findWorker),[u,h]=l;if(!u){const d=s!=null&&s.findWorker?kt.formatMessage(`Failed to locate the Service Worker registration using a custom "findWorker" predicate.

Please ensure that the custom predicate properly locates the Service Worker registration at "%s".
More details: https://mswjs.io/docs/api/setup-worker/start#findworker
`,t.serviceWorker.url):kt.formatMessage(`Failed to locate the Service Worker registration.

This most likely means that the worker script URL "%s" cannot resolve against the actual public hostname (%s). This may happen if your application runs behind a proxy, or has a dynamic hostname.

Please consider using a custom "serviceWorker.url" option to point to the actual worker script location, or a custom "findWorker" option to resolve the Service Worker registration manually. More details: https://mswjs.io/docs/api/setup-worker/start`,t.serviceWorker.url,location.host);throw new Error(d)}return i.worker=u,i.registration=h,i.events.addListener(window,"beforeunload",()=>{u.state!=="redundant"&&i.workerChannel.send("CLIENT_CLOSED"),window.clearInterval(i.keepAliveInterval),window.postMessage({type:"msw/worker:stop"})}),await hj(i).catch(d=>{kt.error("Error while checking the worker script integrity. Please report this on GitHub (https://github.com/mswjs/msw/issues), including the original error below."),console.error(d)}),i.keepAliveInterval=window.setInterval(()=>i.workerChannel.send("KEEPALIVE_REQUEST"),5e3),Ij(h,i.startOptions),h})().then(async l=>{const u=l.installing||l.waiting;return u&&await new Promise(h=>{u.addEventListener("statechange",()=>{if(u.state==="activated")return h()})}),await oj(i,t).catch(h=>{throw new Error(`Failed to enable mocking: ${h==null?void 0:h.message}`)}),l})};function eA(i={}){i.quiet||console.log(`%c${kt.formatMessage("Mocking disabled.")}`,"color:orangered;font-weight:bold;")}var Oj=i=>function(){var t;if(!i.isMockingEnabled){kt.warn('Found a redundant "worker.stop()" call. Note that stopping the worker while mocking already stopped has no effect. Consider removing this "worker.stop()" call.');return}i.workerChannel.send("MOCK_DEACTIVATE"),i.isMockingEnabled=!1,window.clearInterval(i.keepAliveInterval),window.postMessage({type:"msw/worker:stop"}),eA({quiet:(t=i.startOptions)==null?void 0:t.quiet})},Mj={serviceWorker:{url:"/mockServiceWorker.js",options:null},quiet:!1,waitUntilReady:!0,onUnhandledRequest:"warn",findWorker(i,e){return i===e}};function Pj(){const i=(e,t)=>{i.state="pending",i.resolve=s=>{if(i.state!=="pending")return;i.result=s;const n=a=>(i.state="fulfilled",a);return e(s instanceof Promise?s:Promise.resolve(s).then(n))},i.reject=s=>{if(i.state==="pending")return queueMicrotask(()=>{i.state="rejected"}),t(i.rejectionReason=s)}};return i}var qr,Tl,Mh,a1,Ly=(a1=class extends Promise{constructor(e=null){const t=Pj();super((s,n)=>{t(s,n),e==null||e(t.resolve,t.reject)});Me(this,Tl);Me(this,qr);at(this,"resolve");at(this,"reject");we(this,qr,t),this.resolve=$(this,qr).resolve,this.reject=$(this,qr).reject}get state(){return $(this,qr).state}get rejectionReason(){return $(this,qr).rejectionReason}then(e,t){return Ve(this,Tl,Mh).call(this,super.then(e,t))}catch(e){return Ve(this,Tl,Mh).call(this,super.catch(e))}finally(e){return Ve(this,Tl,Mh).call(this,super.finally(e))}},qr=new WeakMap,Tl=new WeakSet,Mh=function(e){return Object.defineProperties(e,{resolve:{configurable:!0,value:this.resolve},reject:{configurable:!0,value:this.reject}})},a1),nf=class extends Error{constructor(i){super(i),this.name="InterceptorError",Object.setPrototypeOf(this,nf.prototype)}},Xu=Symbol("kRequestHandled"),mn=Symbol("kResponsePromise"),Cy=class{constructor(i){this.request=i,this[Xu]=!1,this[mn]=new Ly}respondWith(i){sa.as(nf,!this[Xu],'Failed to respond to the "%s %s" request: the "request" event has already been handled.',this.request.method,this.request.url),this[Xu]=!0,this[mn].resolve(i)}errorWith(i){sa.as(nf,!this[Xu],'Failed to error the "%s %s" request: the "request" event has already been handled.',this.request.method,this.request.url),this[Xu]=!0,this[mn].resolve(i)}};async function rf(i,e,...t){const s=i.listeners(e);if(s.length!==0)for(const n of s)await n.apply(i,t)}function Nj(i,e){try{return i[e],!0}catch{return!1}}function Fj(i){return new Response(JSON.stringify(i instanceof Error?{name:i.name,message:i.message,stack:i.stack}:i),{status:500,statusText:"Unhandled Exception",headers:{"Content-Type":"application/json"}})}function Bj(i){return Nj(i,"type")&&i.type==="error"}function Uj(i){return i==null||!(i instanceof Error)?!1:"code"in i&&"errno"in i}async function tA(i){const e=async a=>(a instanceof Error?i.onError(a):Bj(a)?i.onRequestError(a):await i.onResponse(a),!0),t=async a=>{if(a instanceof nf)throw n.error;return Uj(a)?(i.onError(a),!0):a instanceof Response?await e(a):!1};i.emitter.once("request",({requestId:a})=>{a===i.requestId&&i.controller[mn].state==="pending"&&i.controller[mn].resolve(void 0)});const s=new Ly;i.request.signal&&(i.request.signal.aborted?s.reject(i.request.signal.reason):i.request.signal.addEventListener("abort",()=>{s.reject(i.request.signal.reason)},{once:!0}));const n=await v0(async()=>{const a=rf(i.emitter,"request",{requestId:i.requestId,request:i.request,controller:i.controller});return await Promise.race([s,a,i.controller[mn]]),await i.controller[mn]});if(s.state==="rejected")return i.onError(s.rejectionReason),!0;if(n.error){if(await t(n.error))return!0;if(i.emitter.listenerCount("unhandledException")>0){const a=new Cy(i.request);await rf(i.emitter,"unhandledException",{error:n.error,request:i.request,requestId:i.requestId,controller:a}).then(()=>{a[mn].state==="pending"&&a[mn].resolve(void 0)});const l=await v0(()=>a[mn]);if(l.error)return t(l.error);if(l.data)return e(l.data)}return i.onResponse(Fj(n.error)),!0}return n.data?e(n.data):!1}function iA(i){const e=Object.getOwnPropertyDescriptor(globalThis,i);return typeof e>"u"||typeof e.get=="function"&&typeof e.get()>"u"||typeof e.get>"u"&&e.value==null?!1:typeof e.set>"u"&&!e.configurable?(console.error(`[MSW] Failed to apply interceptor: the global \`${i}\` property is non-configurable. This is likely an issue with your environment. If you are using a framework, please open an issue about this in their repository.`),!1):!0}function $j(i){try{return new URL(i),!0}catch{return!1}}function Fa(i){return Object.assign(new TypeError("Failed to fetch"),{cause:i})}var zj=["content-encoding","content-language","content-location","content-type","content-length"],Lg=Symbol("kRedirectCount");async function Gj(i,e){if(e.status!==303&&i.body!=null)return Promise.reject(Fa());const t=new URL(i.url);let s;try{s=new URL(e.headers.get("location"),i.url)}catch(a){return Promise.reject(Fa(a))}if(!(s.protocol==="http:"||s.protocol==="https:"))return Promise.reject(Fa("URL scheme must be a HTTP(S) scheme"));if(Reflect.get(i,Lg)>20)return Promise.reject(Fa("redirect count exceeded"));if(Object.defineProperty(i,Lg,{value:(Reflect.get(i,Lg)||0)+1}),i.mode==="cors"&&(s.username||s.password)&&!$S(t,s))return Promise.reject(Fa('cross origin not allowed for request mode "cors"'));const n={};return([301,302].includes(e.status)&&i.method==="POST"||e.status===303&&!["HEAD","GET"].includes(i.method))&&(n.method="GET",n.body=null,zj.forEach(a=>{i.headers.delete(a)})),$S(t,s)||(i.headers.delete("authorization"),i.headers.delete("proxy-authorization"),i.headers.delete("cookie"),i.headers.delete("host")),n.headers=i.headers,fetch(new Request(s,n))}function $S(i,e){return i.origin===e.origin&&i.origin==="null"||i.protocol===e.protocol&&i.hostname===e.hostname&&i.port===e.port}var Hj=class extends TransformStream{constructor(){console.warn("[Interceptors]: Brotli decompression of response streams is not supported in the browser"),super({transform(i,e){e.enqueue(i)}})}},qj=class extends TransformStream{constructor(i,...e){super({},...e);const t=[super.readable,...i].reduce((s,n)=>s.pipeThrough(n));Object.defineProperty(this,"readable",{get(){return t}})}};function Vj(i){return i.toLowerCase().split(",").map(e=>e.trim())}function Kj(i){if(i==="")return null;const e=Vj(i);if(e.length===0)return null;const t=e.reduceRight((s,n)=>n==="gzip"||n==="x-gzip"?s.concat(new DecompressionStream("gzip")):n==="deflate"?s.concat(new DecompressionStream("deflate")):n==="br"?s.concat(new Hj):(s.length=0,s),[]);return new qj(t)}function Yj(i){if(i.body===null)return null;const e=Kj(i.headers.get("content-encoding")||"");return e?(i.body.pipeTo(e.writable),e.readable):null}var sA=class extends Ry{constructor(){super(sA.symbol)}checkEnvironment(){return iA("fetch")}async setup(){const i=globalThis.fetch;sa(!i[gl],'Failed to patch the "fetch" module: already patched.'),globalThis.fetch=async(e,t)=>{const s=J1(),n=typeof e=="string"&&typeof location<"u"&&!$j(e)?new URL(e,location.origin):e,a=new Request(n,t),l=new Ly,u=new Cy(a);return this.logger.info("[%s] %s",a.method,a.url),this.logger.info("awaiting for the mocked response..."),this.logger.info('emitting the "request" event for %s listener(s)...',this.emitter.listenerCount("request")),await tA({request:a,requestId:s,emitter:this.emitter,controller:u,onResponse:async d=>{this.logger.info("received mocked response!",{rawResponse:d});const m=Yj(d),p=m===null?d:new nr(m,d);if(nr.setUrl(a.url,p),nr.isRedirectResponse(p.status)){if(a.redirect==="error"){l.reject(Fa("unexpected redirect"));return}if(a.redirect==="follow"){Gj(a,p).then(g=>{l.resolve(g)},g=>{l.reject(g)});return}}this.emitter.listenerCount("response")>0&&(this.logger.info('emitting the "response" event...'),await rf(this.emitter,"response",{response:p.clone(),isMockedResponse:!0,request:a,requestId:s})),l.resolve(p)},onRequestError:d=>{this.logger.info("request has errored!",{response:d}),l.reject(Fa(d))},onError:d=>{this.logger.info("request has been aborted!",{error:d}),l.reject(d)}})?(this.logger.info("request has been handled, returning mock promise..."),l):(this.logger.info("no mocked response received, performing request as-is..."),i(a).then(async d=>{if(this.logger.info("original fetch performed",d),this.emitter.listenerCount("response")>0){this.logger.info('emitting the "response" event...');const m=d.clone();await rf(this.emitter,"response",{response:m,isMockedResponse:!1,request:a,requestId:s})}return d}))},Object.defineProperty(globalThis.fetch,gl,{enumerable:!0,configurable:!0,value:!0}),this.subscriptions.push(()=>{Object.defineProperty(globalThis.fetch,gl,{value:void 0}),globalThis.fetch=i,this.logger.info('restored native "globalThis.fetch"!',globalThis.fetch.name)})}},nA=sA;nA.symbol=Symbol("fetch");function Wj(i,e){const t=new Uint8Array(i.byteLength+e.byteLength);return t.set(i,0),t.set(e,i.byteLength),t}var rA=class{constructor(i,e){this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.type="",this.srcElement=null,this.currentTarget=null,this.eventPhase=0,this.isTrusted=!0,this.composed=!1,this.cancelable=!0,this.defaultPrevented=!1,this.bubbles=!0,this.lengthComputable=!0,this.loaded=0,this.total=0,this.cancelBubble=!1,this.returnValue=!0,this.type=i,this.target=(e==null?void 0:e.target)||null,this.currentTarget=(e==null?void 0:e.currentTarget)||null,this.timeStamp=Date.now()}composedPath(){return[]}initEvent(i,e,t){this.type=i,this.bubbles=!!e,this.cancelable=!!t}preventDefault(){this.defaultPrevented=!0}stopPropagation(){}stopImmediatePropagation(){}},Xj=class extends rA{constructor(i,e){super(i),this.lengthComputable=(e==null?void 0:e.lengthComputable)||!1,this.composed=(e==null?void 0:e.composed)||!1,this.loaded=(e==null?void 0:e.loaded)||0,this.total=(e==null?void 0:e.total)||0}},Qj=typeof ProgressEvent<"u";function Zj(i,e,t){const s=["error","progress","loadstart","loadend","load","timeout","abort"],n=Qj?ProgressEvent:Xj;return s.includes(e)?new n(e,{lengthComputable:!0,loaded:(t==null?void 0:t.loaded)||0,total:(t==null?void 0:t.total)||0}):new rA(e,{target:i,currentTarget:i})}function aA(i,e){if(!(e in i))return null;if(Object.prototype.hasOwnProperty.call(i,e))return i;const s=Reflect.getPrototypeOf(i);return s?aA(s,e):null}function Cg(i,e){return new Proxy(i,Jj(e))}function Jj(i){const{constructorCall:e,methodCall:t,getProperty:s,setProperty:n}=i,a={};return typeof e<"u"&&(a.construct=function(l,u,h){const d=Reflect.construct.bind(null,l,u,h);return e.call(h,u,d)}),a.set=function(l,u,h){const d=()=>{const m=aA(l,u)||l,p=Reflect.getOwnPropertyDescriptor(m,u);return typeof(p==null?void 0:p.set)<"u"?(p.set.apply(l,[h]),!0):Reflect.defineProperty(m,u,{writable:!0,enumerable:!0,configurable:!0,value:h})};return typeof n<"u"?n.call(l,[u,h],d):d()},a.get=function(l,u,h){const d=()=>l[u],m=typeof s<"u"?s.call(l,[u,h],d):d();return typeof m=="function"?(...p)=>{const g=m.bind(l,...p);return typeof t<"u"?t.call(l,[u,p],g):g()}:m},a}function eO(i){return["application/xhtml+xml","application/xml","image/svg+xml","text/html","text/xml"].some(t=>i.startsWith(t))}function tO(i){try{return JSON.parse(i)}catch{return null}}function iO(i,e){const t=nr.isResponseWithBody(i.status)?e:null;return new nr(t,{url:i.responseURL,status:i.status,statusText:i.statusText,headers:sO(i.getAllResponseHeaders())})}function sO(i){const e=new Headers,t=i.split(/[\r\n]+/);for(const s of t){if(s.trim()==="")continue;const[n,...a]=s.split(": "),l=a.join(": ");e.append(n,l)}return e}async function zS(i){const e=i.headers.get("content-length");return e!=null&&e!==""?Number(e):(await i.arrayBuffer()).byteLength}var Qu=Symbol("kIsRequestHandled"),nO=_y(),Dg=Symbol("kFetchRequest"),rO=class{constructor(i,e){this.initialRequest=i,this.logger=e,this.method="GET",this.url=null,this[Qu]=!1,this.events=new Map,this.uploadEvents=new Map,this.requestId=J1(),this.requestHeaders=new Headers,this.responseBuffer=new Uint8Array,this.request=Cg(i,{setProperty:([t,s],n)=>{switch(t){case"ontimeout":{const a=t.slice(2);return this.request.addEventListener(a,s),n()}default:return n()}},methodCall:([t,s],n)=>{var a;switch(t){case"open":{const[l,u]=s;return typeof u>"u"?(this.method="GET",this.url=GS(l)):(this.method=l,this.url=GS(u)),this.logger=this.logger.extend(`${this.method} ${this.url.href}`),this.logger.info("open",this.method,this.url.href),n()}case"addEventListener":{const[l,u]=s;return this.registerEvent(l,u),this.logger.info("addEventListener",l,u),n()}case"setRequestHeader":{const[l,u]=s;return this.requestHeaders.set(l,u),this.logger.info("setRequestHeader",l,u),n()}case"send":{const[l]=s;this.request.addEventListener("load",()=>{if(typeof this.onResponse<"u"){const m=iO(this.request,this.request.response);this.onResponse.call(this,{response:m,isMockedResponse:this[Qu],request:h,requestId:this.requestId})}});const u=typeof l=="string"?mj(l):l,h=this.toFetchApiRequest(u);this[Dg]=h.clone(),(((a=this.onRequest)==null?void 0:a.call(this,{request:h,requestId:this.requestId}))||Promise.resolve()).finally(()=>{if(!this[Qu])return this.logger.info("request callback settled but request has not been handled (readystate %d), performing as-is...",this.request.readyState),nO&&this.request.setRequestHeader(Rj,this.requestId),n()});break}default:return n()}}}),tl(this.request,"upload",Cg(this.request.upload,{setProperty:([t,s],n)=>{switch(t){case"onloadstart":case"onprogress":case"onaboart":case"onerror":case"onload":case"ontimeout":case"onloadend":{const a=t.slice(2);this.registerUploadEvent(a,s)}}return n()},methodCall:([t,s],n)=>{switch(t){case"addEventListener":{const[a,l]=s;return this.registerUploadEvent(a,l),this.logger.info("upload.addEventListener",a,l),n()}}}}))}registerEvent(i,e){const s=(this.events.get(i)||[]).concat(e);this.events.set(i,s),this.logger.info('registered event "%s"',i,e)}registerUploadEvent(i,e){const s=(this.uploadEvents.get(i)||[]).concat(e);this.uploadEvents.set(i,s),this.logger.info('registered upload event "%s"',i,e)}async respondWith(i){if(this[Qu]=!0,this[Dg]){const s=await zS(this[Dg]);this.trigger("loadstart",this.request.upload,{loaded:0,total:s}),this.trigger("progress",this.request.upload,{loaded:s,total:s}),this.trigger("load",this.request.upload,{loaded:s,total:s}),this.trigger("loadend",this.request.upload,{loaded:s,total:s})}this.logger.info("responding with a mocked response: %d %s",i.status,i.statusText),tl(this.request,"status",i.status),tl(this.request,"statusText",i.statusText),tl(this.request,"responseURL",this.url.href),this.request.getResponseHeader=new Proxy(this.request.getResponseHeader,{apply:(s,n,a)=>{if(this.logger.info("getResponseHeader",a[0]),this.request.readyState<this.request.HEADERS_RECEIVED)return this.logger.info("headers not received yet, returning null"),null;const l=i.headers.get(a[0]);return this.logger.info('resolved response header "%s" to',a[0],l),l}}),this.request.getAllResponseHeaders=new Proxy(this.request.getAllResponseHeaders,{apply:()=>{if(this.logger.info("getAllResponseHeaders"),this.request.readyState<this.request.HEADERS_RECEIVED)return this.logger.info("headers not received yet, returning empty string"),"";const n=Array.from(i.headers.entries()).map(([a,l])=>`${a}: ${l}`).join(`\r
`);return this.logger.info("resolved all response headers to",n),n}}),Object.defineProperties(this.request,{response:{enumerable:!0,configurable:!1,get:()=>this.response},responseText:{enumerable:!0,configurable:!1,get:()=>this.responseText},responseXML:{enumerable:!0,configurable:!1,get:()=>this.responseXML}});const e=await zS(i.clone());this.logger.info("calculated response body length",e),this.trigger("loadstart",this.request,{loaded:0,total:e}),this.setReadyState(this.request.HEADERS_RECEIVED),this.setReadyState(this.request.LOADING);const t=()=>{this.logger.info("finalizing the mocked response..."),this.setReadyState(this.request.DONE),this.trigger("load",this.request,{loaded:this.responseBuffer.byteLength,total:e}),this.trigger("loadend",this.request,{loaded:this.responseBuffer.byteLength,total:e})};if(i.body){this.logger.info("mocked response has body, streaming...");const s=i.body.getReader(),n=async()=>{const{value:a,done:l}=await s.read();if(l){this.logger.info("response body stream done!"),t();return}a&&(this.logger.info("read response body chunk:",a),this.responseBuffer=Wj(this.responseBuffer,a),this.trigger("progress",this.request,{loaded:this.responseBuffer.byteLength,total:e})),n()};n()}else t()}responseBufferToText(){return pj(this.responseBuffer)}get response(){if(this.logger.info("getResponse (responseType: %s)",this.request.responseType),this.request.readyState!==this.request.DONE)return null;switch(this.request.responseType){case"json":{const i=tO(this.responseBufferToText());return this.logger.info("resolved response JSON",i),i}case"arraybuffer":{const i=gj(this.responseBuffer);return this.logger.info("resolved response ArrayBuffer",i),i}case"blob":{const i=this.request.getResponseHeader("Content-Type")||"text/plain",e=new Blob([this.responseBufferToText()],{type:i});return this.logger.info("resolved response Blob (mime type: %s)",e,i),e}default:{const i=this.responseBufferToText();return this.logger.info('resolving "%s" response type as text',this.request.responseType,i),i}}}get responseText(){if(sa(this.request.responseType===""||this.request.responseType==="text","InvalidStateError: The object is in invalid state."),this.request.readyState!==this.request.LOADING&&this.request.readyState!==this.request.DONE)return"";const i=this.responseBufferToText();return this.logger.info('getResponseText: "%s"',i),i}get responseXML(){if(sa(this.request.responseType===""||this.request.responseType==="document","InvalidStateError: The object is in invalid state."),this.request.readyState!==this.request.DONE)return null;const i=this.request.getResponseHeader("Content-Type")||"";return typeof DOMParser>"u"?(console.warn("Cannot retrieve XMLHttpRequest response body as XML: DOMParser is not defined. You are likely using an environment that is not browser or does not polyfill browser globals correctly."),null):eO(i)?new DOMParser().parseFromString(this.responseBufferToText(),i):null}errorWith(i){this[Qu]=!0,this.logger.info("responding with an error"),this.setReadyState(this.request.DONE),this.trigger("error",this.request),this.trigger("loadend",this.request)}setReadyState(i){if(this.logger.info("setReadyState: %d -> %d",this.request.readyState,i),this.request.readyState===i){this.logger.info("ready state identical, skipping transition...");return}tl(this.request,"readyState",i),this.logger.info("set readyState to: %d",i),i!==this.request.UNSENT&&(this.logger.info('triggerring "readystatechange" event...'),this.trigger("readystatechange",this.request))}trigger(i,e,t){const s=e[`on${i}`],n=Zj(e,i,t);this.logger.info('trigger "%s"',i,t||""),typeof s=="function"&&(this.logger.info('found a direct "%s" callback, calling...',i),s.call(e,n));const a=e instanceof XMLHttpRequestUpload?this.uploadEvents:this.events;for(const[l,u]of a)l===i&&(this.logger.info('found %d listener(s) for "%s" event, calling...',u.length,i),u.forEach(h=>h.call(e,n)))}toFetchApiRequest(i){this.logger.info("converting request to a Fetch API Request...");const e=i instanceof Document?i.documentElement.innerText:i,t=new Request(this.url.href,{method:this.method,headers:this.requestHeaders,credentials:this.request.withCredentials?"include":"same-origin",body:["GET","HEAD"].includes(this.method.toUpperCase())?null:e}),s=Cg(t.headers,{methodCall:([n,a],l)=>{switch(n){case"append":case"set":{const[u,h]=a;this.request.setRequestHeader(u,h);break}case"delete":{const[u]=a;console.warn(`XMLHttpRequest: Cannot remove a "${u}" header from the Fetch API representation of the "${t.method} ${t.url}" request. XMLHttpRequest headers cannot be removed.`);break}}return l()}});return tl(t,"headers",s),this.logger.info("converted request to a Fetch API Request!",t),t}};function GS(i){return typeof location>"u"?new URL(i):new URL(i.toString(),location.href)}function tl(i,e,t){Reflect.defineProperty(i,e,{writable:!0,enumerable:!0,value:t})}function aO({emitter:i,logger:e}){return new Proxy(globalThis.XMLHttpRequest,{construct(s,n,a){e.info("constructed new XMLHttpRequest");const l=Reflect.construct(s,n,a),u=Object.getOwnPropertyDescriptors(s.prototype);for(const d in u)Reflect.defineProperty(l,d,u[d]);const h=new rO(l,e);return h.onRequest=async function({request:d,requestId:m}){const p=new Cy(d);this.logger.info("awaiting mocked response..."),this.logger.info('emitting the "request" event for %s listener(s)...',i.listenerCount("request")),await tA({request:d,requestId:m,controller:p,emitter:i,onResponse:async E=>{await this.respondWith(E)},onRequestError:()=>{this.errorWith(new TypeError("Network error"))},onError:E=>{this.logger.info("request errored!",{error:E}),E instanceof Error&&this.errorWith(E)}})||this.logger.info("no mocked response received, performing request as-is...")},h.onResponse=async function({response:d,isMockedResponse:m,request:p,requestId:g}){this.logger.info('emitting the "response" event for %s listener(s)...',i.listenerCount("response")),i.emit("response",{response:d,isMockedResponse:m,request:p,requestId:g})},h.request}})}var oA=class extends Ry{constructor(){super(oA.interceptorSymbol)}checkEnvironment(){return iA("XMLHttpRequest")}setup(){const i=this.logger.extend("setup");i.info('patching "XMLHttpRequest" module...');const e=globalThis.XMLHttpRequest;sa(!e[gl],'Failed to patch the "XMLHttpRequest" module: already patched.'),globalThis.XMLHttpRequest=aO({emitter:this.emitter,logger:this.logger}),i.info('native "XMLHttpRequest" module patched!',globalThis.XMLHttpRequest.name),Object.defineProperty(globalThis.XMLHttpRequest,gl,{enumerable:!0,configurable:!0,value:!0}),this.subscriptions.push(()=>{Object.defineProperty(globalThis.XMLHttpRequest,gl,{value:void 0}),globalThis.XMLHttpRequest=e,i.info('native "XMLHttpRequest" module restored!',globalThis.XMLHttpRequest.name)})}},lA=oA;lA.interceptorSymbol=Symbol("xhr");function oO(i,e){const t=new k0({name:"fallback",interceptors:[new nA,new lA]});return t.on("request",async({request:s,requestId:n,controller:a})=>{const l=s.clone(),u=await B1(s,n,i.getRequestHandlers().filter(Ty("RequestHandler")),e,i.emitter,{onMockedResponse(h,{handler:d,parsedResult:m}){e.quiet||i.emitter.once("response:mocked",({response:p})=>{d.log({request:l,response:p,parsedResult:m})})}});u&&a.respondWith(u)}),t.on("response",({response:s,isMockedResponse:n,request:a,requestId:l})=>{i.emitter.emit(n?"response:mocked":"response:bypass",{response:s,request:a,requestId:l})}),t.apply(),t}function lO(i){return async function(t){i.fallbackInterceptor=oO(i,t),W1({message:"Mocking enabled (fallback mode).",quiet:t.quiet})}}function uO(i){return function(){var t,s;(t=i.fallbackInterceptor)==null||t.dispose(),eA({quiet:(s=i.startOptions)==null?void 0:s.quiet})}}function cO(){try{const i=new ReadableStream({start:t=>t.close()});return new MessageChannel().port1.postMessage(i,[i]),!0}catch{return!1}}var dO=class extends nI{constructor(...e){super(...e);at(this,"context");at(this,"startHandler",null);at(this,"stopHandler",null);at(this,"listeners");sa(!_y(),kt.formatMessage("Failed to execute `setupWorker` in a non-browser environment. Consider using `setupServer` for Node.js environment instead.")),this.listeners=[],this.context=this.createWorkerContext()}createWorkerContext(){const e={isMockingEnabled:!1,startOptions:null,worker:null,getRequestHandlers:()=>this.handlersController.currentHandlers(),registration:null,requests:new Map,emitter:this.emitter,workerChannel:{on:(t,s)=>{this.context.events.addListener(navigator.serviceWorker,"message",n=>{if(n.source!==this.context.worker)return;const a=n.data;a&&a.type===t&&s(n,a)})},send:t=>{var s;(s=this.context.worker)==null||s.postMessage(t)}},events:{addListener:(t,s,n)=>(t.addEventListener(s,n),this.listeners.push({eventType:s,target:t,callback:n}),()=>{t.removeEventListener(s,n)}),removeAllListeners:()=>{for(const{target:t,eventType:s,callback:n}of this.listeners)t.removeEventListener(s,n);this.listeners=[]},once:t=>{const s=[];return new Promise((n,a)=>{const l=u=>{try{const h=u.data;h.type===t&&n(h)}catch(h){a(h)}};s.push(this.context.events.addListener(navigator.serviceWorker,"message",l),this.context.events.addListener(navigator.serviceWorker,"messageerror",a))}).finally(()=>{s.forEach(n=>n())})}},supports:{serviceWorkerApi:!("serviceWorker"in navigator)||location.protocol==="file:",readableStreamTransfer:cO()}};return this.startHandler=e.supports.serviceWorkerApi?lO(e):jj(e),this.stopHandler=e.supports.serviceWorkerApi?uO(e):Oj(e),e}async start(e={}){return e.waitUntilReady===!0&&kt.warn('The "waitUntilReady" option has been deprecated. Please remove it from this "worker.start()" call. Follow the recommended Browser integration (https://mswjs.io/docs/integrations/browser) to eliminate any race conditions between the Service Worker registration and any requests made by your application on initial render.'),this.context.startOptions=U1(Mj,e),HI({getUnhandledRequestStrategy:()=>this.context.startOptions.onUnhandledRequest,getHandlers:()=>this.handlersController.currentHandlers(),onMockedConnection:t=>{this.context.startOptions.quiet||qI(t)},onPassthroughConnection(){}}),y0.apply(),this.subscriptions.push(()=>{y0.dispose()}),await this.startHandler(this.context.startOptions,e)}stop(){super.dispose(),this.context.events.removeAllListeners(),this.context.emitter.removeAllListeners(),this.stopHandler()}};function hO(...i){return new dO(...i)}function fO(){Ks(typeof URL<"u",kt.formatMessage(`Global "URL" class is not defined. This likely means that you're running MSW in an environment that doesn't support all Node.js standard API (e.g. React Native). If that's the case, please use an appropriate polyfill for the "URL" class, like "react-native-url-polyfill".`))}function mO(i,e){return i.toLowerCase()===e.toLowerCase()}function pO(i){return i<300?"#69AB32":i<400?"#F0BB4B":"#E95F5D"}async function gO(i){const t=await i.clone().text();return{url:new URL(i.url),method:i.method,headers:Object.fromEntries(i.headers.entries()),body:t}}const{message:yO}=O1;async function vO(i){const e=i.clone(),t=await e.text(),s=e.status||200,n=e.statusText||yO[s]||"OK";return{status:s,statusText:n,headers:Object.fromEntries(e.headers.entries()),body:t}}var bO=Object.create,uA=Object.defineProperty,EO=Object.getOwnPropertyDescriptor,cA=Object.getOwnPropertyNames,kO=Object.getPrototypeOf,SO=Object.prototype.hasOwnProperty,xO=(i,e)=>function(){return e||(0,i[cA(i)[0]])((e={exports:{}}).exports,e),e.exports},TO=(i,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of cA(e))!SO.call(i,n)&&n!==t&&uA(i,n,{get:()=>e[n],enumerable:!(s=EO(e,n))||s.enumerable});return i},AO=(i,e,t)=>(t=i!=null?bO(kO(i)):{},TO(uA(t,"default",{value:i,enumerable:!0}),i)),wO=xO({"node_modules/cookie/index.js"(i){i.parse=u,i.serialize=m;var e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,s=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,n=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,l=/^[\u0020-\u003A\u003D-\u007E]*$/;function u(b,k){if(typeof b!="string")throw new TypeError("argument str must be a string");var S={},x=b.length;if(x<2)return S;var _=k&&k.decode||p,w=0,R=0,C=0;do{if(R=b.indexOf("=",w),R===-1)break;if(C=b.indexOf(";",w),C===-1)C=x;else if(R>C){w=b.lastIndexOf(";",R-1)+1;continue}var I=h(b,w,R),L=d(b,R,I),P=b.slice(I,L);if(!t.call(S,P)){var M=h(b,R+1,C),N=d(b,C,M);b.charCodeAt(M)===34&&b.charCodeAt(N-1)===34&&(M++,N--);var H=b.slice(M,N);S[P]=E(H,_)}w=C+1}while(w<x);return S}function h(b,k,S){do{var x=b.charCodeAt(k);if(x!==32&&x!==9)return k}while(++k<S);return S}function d(b,k,S){for(;k>S;){var x=b.charCodeAt(--k);if(x!==32&&x!==9)return k+1}return S}function m(b,k,S){var x=S&&S.encode||encodeURIComponent;if(typeof x!="function")throw new TypeError("option encode is invalid");if(!s.test(b))throw new TypeError("argument name is invalid");var _=x(k);if(!n.test(_))throw new TypeError("argument val is invalid");var w=b+"="+_;if(!S)return w;if(S.maxAge!=null){var R=Math.floor(S.maxAge);if(!isFinite(R))throw new TypeError("option maxAge is invalid");w+="; Max-Age="+R}if(S.domain){if(!a.test(S.domain))throw new TypeError("option domain is invalid");w+="; Domain="+S.domain}if(S.path){if(!l.test(S.path))throw new TypeError("option path is invalid");w+="; Path="+S.path}if(S.expires){var C=S.expires;if(!g(C)||isNaN(C.valueOf()))throw new TypeError("option expires is invalid");w+="; Expires="+C.toUTCString()}if(S.httpOnly&&(w+="; HttpOnly"),S.secure&&(w+="; Secure"),S.partitioned&&(w+="; Partitioned"),S.priority){var I=typeof S.priority=="string"?S.priority.toLowerCase():S.priority;switch(I){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(S.sameSite){var L=typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite;switch(L){case!0:w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"strict":w+="; SameSite=Strict";break;case"none":w+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return w}function p(b){return b.indexOf("%")!==-1?decodeURIComponent(b):b}function g(b){return e.call(b)==="[object Date]"}function E(b,k){try{return k(b)}catch{return b}}}}),_O=AO(wO()),dA=_O.default;/*! Bundled license information:

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/function hA(i){const e=dA.parse(i),t={};for(const s in e)typeof e[s]<"u"&&(t[s]=e[s]);return t}function HS(){return hA(document.cookie)}function RO(i){if(typeof document>"u"||typeof location>"u")return{};switch(i.credentials){case"same-origin":{const e=new URL(i.url);return location.origin===e.origin?HS():{}}case"include":return HS();default:return{}}}function LO(i){const e=i.headers.get("cookie"),t=e?hA(e):{},s=RO(i);for(const l in s)i.headers.append("cookie",dA.serialize(l,s[l]));const n=C1.getCookiesSync(i.url),a=Object.fromEntries(n.map(l=>[l.key,l.value]));for(const l of n)i.headers.append("cookie",l.toString());return{...s,...a,...t}}var Nr=(i=>(i.HEAD="HEAD",i.GET="GET",i.POST="POST",i.PUT="PUT",i.PATCH="PATCH",i.OPTIONS="OPTIONS",i.DELETE="DELETE",i))(Nr||{});class CO extends ef{constructor(e,t,s,n){super({info:{header:`${e} ${t}`,path:t,method:e},resolver:s,options:n}),this.checkRedundantQueryParameters()}checkRedundantQueryParameters(){const{method:e,path:t}=this.info;if(t instanceof RegExp||Y1(t)===t)return;NI(t).forEach((a,l)=>{}),kt.warn(`Found a redundant usage of query parameters in the request handler URL for "${e} ${t}". Please match against a path instead and access query parameters using "new URL(request.url).searchParams" instead. Learn more: https://mswjs.io/docs/recipes/query-parameters`)}async parse(e){var a;const t=new URL(e.request.url),s=zI(t,this.info.path,(a=e.resolutionContext)==null?void 0:a.baseUrl),n=LO(e.request);return{match:s,cookies:n}}predicate(e){const t=this.matchMethod(e.request.method),s=e.parsedResult.match.matches;return t&&s}matchMethod(e){return this.info.method instanceof RegExp?this.info.method.test(e):mO(this.info.method,e)}extendResolverArgs(e){var t;return{params:((t=e.parsedResult.match)==null?void 0:t.params)||{},cookies:e.parsedResult.cookies}}async log(e){const t=Gc(e.request.url),s=await gO(e.request),n=await vO(e.response),a=pO(n.status);console.groupCollapsed(kt.formatMessage(`${ha()} ${e.request.method} ${t} (%c${n.status} ${n.statusText}%c)`),`color:${a}`,"color:inherit"),console.log("Request",s),console.log("Handler:",this),console.log("Response",n),console.groupEnd()}}function Or(i){return(e,t,s={})=>new CO(i,e,t,s)}const Dy={all:Or(/.+/),head:Or(Nr.HEAD),get:Or(Nr.GET),post:Or(Nr.POST),put:Or(Nr.PUT),delete:Or(Nr.DELETE),patch:Or(Nr.PATCH),options:Or(Nr.OPTIONS)},DO=Symbol("bodyType");var o1,l1;class gs extends(l1=wy,o1=DO,l1){constructor(t,s){const n=Oa(s);super(t,n);at(this,o1);XD(this,n)}static text(t,s){const n=Oa(s);return n.headers.has("Content-Type")||n.headers.set("Content-Type","text/plain"),n.headers.has("Content-Length")||n.headers.set("Content-Length",t?new Blob([t]).size.toString():"0"),new gs(t,n)}static json(t,s){const n=Oa(s);n.headers.has("Content-Type")||n.headers.set("Content-Type","application/json");const a=JSON.stringify(t);return n.headers.has("Content-Length")||n.headers.set("Content-Length",a?new Blob([a]).size.toString():"0"),new gs(a,n)}static xml(t,s){const n=Oa(s);return n.headers.has("Content-Type")||n.headers.set("Content-Type","text/xml"),new gs(t,n)}static html(t,s){const n=Oa(s);return n.headers.has("Content-Type")||n.headers.set("Content-Type","text/html"),new gs(t,n)}static arrayBuffer(t,s){const n=Oa(s);return n.headers.has("Content-Type")||n.headers.set("Content-Type","application/octet-stream"),t&&!n.headers.has("Content-Length")&&n.headers.set("Content-Length",t.byteLength.toString()),new gs(t,n)}static formData(t,s){return new gs(t,Oa(s))}}const qS=100,IO=400,jO=5;function OO(){return xy()?jO:Math.floor(Math.random()*(IO-qS)+qS)}async function Iy(i){let e;return e=OO(),new Promise(t=>setTimeout(t,e))}fO();const Wa=[{id:"c_1",time:12.5,author:"Alice",timestamp:1769971103216,text:"Colour in background looks warm",resolved:!1},{id:"c_2",time:22.01,author:"Bob",timestamp:1769971103216,text:"Great transition here!",resolved:!0},{id:"c_3",time:32,author:"Charlie",timestamp:1769971103216,text:"Audio levels seem off",resolved:!1},{id:"c_4",time:35.75,timestamp:1769971103216,author:"Diana",text:"Love this scene composition",resolved:!0}],MO=Dy.get("/comments",async()=>(await Iy(),gs.json(Wa,{status:200}))),PO=[{match:({author:i})=>i==="bad-request",getResponse:()=>new gs("Bad Request",{status:400})}],NO=Dy.post("/comments",async({request:i})=>{const e=await i.json(),t=PO.find(n=>n.match(e));if(await Iy(),t)return t.getResponse();const s={id:`c_${Wa.length+1}`,...e};return Wa.push(s),gs.json(s,{status:201})}),FO=[{match:({author:i})=>i==="bad-request",getResponse:()=>new gs("Bad Request",{status:400})},{match:({author:i})=>i==="success",getResponse:()=>gs.json(Wa,{status:200})}],BO=Dy.put("/comments/:id",async({request:i,params:e})=>{const{id:t}=e,s=await i.json(),n=FO.find(u=>u.match(s));if(await Iy(),n)return n.getResponse();const a=Wa.findIndex(u=>u.id===t),l={...Wa[a],...s};return a!==-1&&(Wa[a]=l),gs.json(l,{status:200})}),UO=[NO,MO,BO],$O=hO(...UO);var Ig={exports:{}},jg={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VS;function zO(){if(VS)return jg;VS=1;var i=Mf().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return jg.c=function(e){return i.H.useMemoCache(e)},jg}var KS;function GO(){return KS||(KS=1,Ig.exports=zO()),Ig.exports}var Yt=GO(),HO=b1();const qO=ky(HO);function VO(i){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=i:t.appendChild(document.createTextNode(i))}const KO=i=>{switch(i){case"success":return XO;case"info":return ZO;case"warning":return QO;case"error":return JO;default:return null}},YO=Array(12).fill(0),WO=({visible:i,className:e})=>pe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":i},pe.createElement("div",{className:"sonner-spinner"},YO.map((t,s)=>pe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),XO=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),QO=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ZO=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),JO=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),eM=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},pe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),pe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),tM=()=>{const[i,e]=pe.useState(document.hidden);return pe.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),i};let S0=1;class iM{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:s,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:S0++,l=this.toasts.find(h=>h.id===a),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(h=>h.id===a?(this.publish({...h,...e,id:a,title:s}),{...h,...e,id:a,dismissible:u,title:s}):h):this.addToast({title:s,...n,dismissible:u,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const n=Promise.resolve(e instanceof Function?e():e);let a=s!==void 0,l;const u=n.then(async d=>{if(l=["resolve",d],pe.isValidElement(d))a=!1,this.create({id:s,type:"default",message:d});else if(nM(d)&&!d.ok){a=!1;const p=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,g=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description,b=typeof p=="object"&&!pe.isValidElement(p)?p:{message:p};this.create({id:s,type:"error",description:g,...b})}else if(d instanceof Error){a=!1;const p=typeof t.error=="function"?await t.error(d):t.error,g=typeof t.description=="function"?await t.description(d):t.description,b=typeof p=="object"&&!pe.isValidElement(p)?p:{message:p};this.create({id:s,type:"error",description:g,...b})}else if(t.success!==void 0){a=!1;const p=typeof t.success=="function"?await t.success(d):t.success,g=typeof t.description=="function"?await t.description(d):t.description,b=typeof p=="object"&&!pe.isValidElement(p)?p:{message:p};this.create({id:s,type:"success",description:g,...b})}}).catch(async d=>{if(l=["reject",d],t.error!==void 0){a=!1;const m=typeof t.error=="function"?await t.error(d):t.error,p=typeof t.description=="function"?await t.description(d):t.description,E=typeof m=="object"&&!pe.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:p,...E})}}).finally(()=>{a&&(this.dismiss(s),s=void 0),t.finally==null||t.finally.call(t)}),h=()=>new Promise((d,m)=>u.then(()=>l[0]==="reject"?m(l[1]):d(l[1])).catch(m));return typeof s!="string"&&typeof s!="number"?{unwrap:h}:Object.assign(s,{unwrap:h})},this.custom=(e,t)=>{const s=(t==null?void 0:t.id)||S0++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ts=new iM,sM=(i,e)=>{const t=(e==null?void 0:e.id)||S0++;return ts.addToast({title:i,...e,id:t}),t},nM=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",rM=sM,aM=()=>ts.toasts,oM=()=>ts.getActiveToasts(),fc=Object.assign(rM,{success:ts.success,info:ts.info,warning:ts.warning,error:ts.error,custom:ts.custom,message:ts.message,promise:ts.promise,dismiss:ts.dismiss,loading:ts.loading},{getHistory:aM,getToasts:oM});VO("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function hh(i){return i.label!==void 0}const lM=3,uM="24px",cM="16px",YS=4e3,dM=356,hM=14,fM=45,mM=200;function un(...i){return i.filter(Boolean).join(" ")}function pM(i){const[e,t]=i.split("-"),s=[];return e&&s.push(e),t&&s.push(t),s}const gM=i=>{var e,t,s,n,a,l,u,h,d;const{invert:m,toast:p,unstyled:g,interacting:E,setHeights:b,visibleToasts:k,heights:S,index:x,toasts:_,expanded:w,removeToast:R,defaultRichColors:C,closeButton:I,style:L,cancelButtonStyle:P,actionButtonStyle:M,className:N="",descriptionClassName:H="",duration:se,position:ge,gap:ve,expandByDefault:U,classNames:O,icons:q,closeButtonAriaLabel:W="Close toast"}=i,[re,he]=pe.useState(null),[j,F]=pe.useState(null),[K,ae]=pe.useState(!1),[le,me]=pe.useState(!1),[xe,Ee]=pe.useState(!1),[Oe,ot]=pe.useState(!1),[vt,ie]=pe.useState(!1),[z,Y]=pe.useState(0),[ye,ee]=pe.useState(0),Se=pe.useRef(p.duration||se||YS),Pe=pe.useRef(null),Be=pe.useRef(null),tt=x===0,mt=x+1<=k,Ce=p.type,Ai=p.dismissible!==!1,pt=p.className||"",Oi=p.descriptionClassName||"",pi=pe.useMemo(()=>S.findIndex(qe=>qe.toastId===p.id)||0,[S,p.id]),ct=pe.useMemo(()=>{var qe;return(qe=p.closeButton)!=null?qe:I},[p.closeButton,I]),xt=pe.useMemo(()=>p.duration||se||YS,[p.duration,se]),Mi=pe.useRef(0),gi=pe.useRef(0),Js=pe.useRef(0),or=pe.useRef(null),[ma,Pi]=ge.split("-"),Ns=pe.useMemo(()=>S.reduce((qe,Ft,ci)=>ci>=pi?qe:qe+Ft.height,0),[S,pi]),wi=tM(),am=p.invert||m,Jl=Ce==="loading";gi.current=pe.useMemo(()=>pi*ve+Ns,[pi,Ns]),pe.useEffect(()=>{Se.current=xt},[xt]),pe.useEffect(()=>{ae(!0)},[]),pe.useEffect(()=>{const qe=Be.current;if(qe){const Ft=qe.getBoundingClientRect().height;return ee(Ft),b(ci=>[{toastId:p.id,height:Ft,position:p.position},...ci]),()=>b(ci=>ci.filter(_i=>_i.toastId!==p.id))}},[b,p.id]),pe.useLayoutEffect(()=>{if(!K)return;const qe=Be.current,Ft=qe.style.height;qe.style.height="auto";const ci=qe.getBoundingClientRect().height;qe.style.height=Ft,ee(ci),b(_i=>_i.find(Ut=>Ut.toastId===p.id)?_i.map(Ut=>Ut.toastId===p.id?{...Ut,height:ci}:Ut):[{toastId:p.id,height:ci,position:p.position},..._i])},[K,p.title,p.description,b,p.id,p.jsx,p.action,p.cancel]);const en=pe.useCallback(()=>{me(!0),Y(gi.current),b(qe=>qe.filter(Ft=>Ft.toastId!==p.id)),setTimeout(()=>{R(p)},mM)},[p,R,b,gi]);pe.useEffect(()=>{if(p.promise&&Ce==="loading"||p.duration===1/0||p.type==="loading")return;let qe;return w||E||wi?(()=>{if(Js.current<Mi.current){const _i=new Date().getTime()-Mi.current;Se.current=Se.current-_i}Js.current=new Date().getTime()})():(()=>{Se.current!==1/0&&(Mi.current=new Date().getTime(),qe=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),en()},Se.current))})(),()=>clearTimeout(qe)},[w,E,p,Ce,wi,en]),pe.useEffect(()=>{p.delete&&(en(),p.onDismiss==null||p.onDismiss.call(p,p))},[en,p.delete]);function fo(){var qe;if(q!=null&&q.loading){var Ft;return pe.createElement("div",{className:un(O==null?void 0:O.loader,p==null||(Ft=p.classNames)==null?void 0:Ft.loader,"sonner-loader"),"data-visible":Ce==="loading"},q.loading)}return pe.createElement(WO,{className:un(O==null?void 0:O.loader,p==null||(qe=p.classNames)==null?void 0:qe.loader),visible:Ce==="loading"})}const mo=p.icon||(q==null?void 0:q[Ce])||KO(Ce);var pa,tn;return pe.createElement("li",{tabIndex:0,ref:Be,className:un(N,pt,O==null?void 0:O.toast,p==null||(e=p.classNames)==null?void 0:e.toast,O==null?void 0:O.default,O==null?void 0:O[Ce],p==null||(t=p.classNames)==null?void 0:t[Ce]),"data-sonner-toast":"","data-rich-colors":(pa=p.richColors)!=null?pa:C,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":K,"data-promise":!!p.promise,"data-swiped":vt,"data-removed":le,"data-visible":mt,"data-y-position":ma,"data-x-position":Pi,"data-index":x,"data-front":tt,"data-swiping":xe,"data-dismissible":Ai,"data-type":Ce,"data-invert":am,"data-swipe-out":Oe,"data-swipe-direction":j,"data-expanded":!!(w||U&&K),"data-testid":p.testId,style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${le?z:gi.current}px`,"--initial-height":U?"auto":`${ye}px`,...L,...p.style},onDragEnd:()=>{Ee(!1),he(null),or.current=null},onPointerDown:qe=>{qe.button!==2&&(Jl||!Ai||(Pe.current=new Date,Y(gi.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(Ee(!0),or.current={x:qe.clientX,y:qe.clientY})))},onPointerUp:()=>{var qe,Ft,ci;if(Oe||!Ai)return;or.current=null;const _i=Number(((qe=Be.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),lr=Number(((Ft=Be.current)==null?void 0:Ft.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ut=new Date().getTime()-((ci=Pe.current)==null?void 0:ci.getTime()),zi=re==="x"?_i:lr,ga=Math.abs(zi)/Ut;if(Math.abs(zi)>=fM||ga>.11){Y(gi.current),p.onDismiss==null||p.onDismiss.call(p,p),F(re==="x"?_i>0?"right":"left":lr>0?"down":"up"),en(),ot(!0);return}else{var Gi,Hi;(Gi=Be.current)==null||Gi.style.setProperty("--swipe-amount-x","0px"),(Hi=Be.current)==null||Hi.style.setProperty("--swipe-amount-y","0px")}ie(!1),Ee(!1),he(null)},onPointerMove:qe=>{var Ft,ci,_i;if(!or.current||!Ai||((Ft=window.getSelection())==null?void 0:Ft.toString().length)>0)return;const Ut=qe.clientY-or.current.y,zi=qe.clientX-or.current.x;var ga;const Gi=(ga=i.swipeDirections)!=null?ga:pM(ge);!re&&(Math.abs(zi)>1||Math.abs(Ut)>1)&&he(Math.abs(zi)>Math.abs(Ut)?"x":"y");let Hi={x:0,y:0};const po=Fs=>1/(1.5+Math.abs(Fs)/20);if(re==="y"){if(Gi.includes("top")||Gi.includes("bottom"))if(Gi.includes("top")&&Ut<0||Gi.includes("bottom")&&Ut>0)Hi.y=Ut;else{const Fs=Ut*po(Ut);Hi.y=Math.abs(Fs)<Math.abs(Ut)?Fs:Ut}}else if(re==="x"&&(Gi.includes("left")||Gi.includes("right")))if(Gi.includes("left")&&zi<0||Gi.includes("right")&&zi>0)Hi.x=zi;else{const Fs=zi*po(zi);Hi.x=Math.abs(Fs)<Math.abs(zi)?Fs:zi}(Math.abs(Hi.x)>0||Math.abs(Hi.y)>0)&&ie(!0),(ci=Be.current)==null||ci.style.setProperty("--swipe-amount-x",`${Hi.x}px`),(_i=Be.current)==null||_i.style.setProperty("--swipe-amount-y",`${Hi.y}px`)}},ct&&!p.jsx&&Ce!=="loading"?pe.createElement("button",{"aria-label":W,"data-disabled":Jl,"data-close-button":!0,onClick:Jl||!Ai?()=>{}:()=>{en(),p.onDismiss==null||p.onDismiss.call(p,p)},className:un(O==null?void 0:O.closeButton,p==null||(s=p.classNames)==null?void 0:s.closeButton)},(tn=q==null?void 0:q.close)!=null?tn:eM):null,(Ce||p.icon||p.promise)&&p.icon!==null&&((q==null?void 0:q[Ce])!==null||p.icon)?pe.createElement("div",{"data-icon":"",className:un(O==null?void 0:O.icon,p==null||(n=p.classNames)==null?void 0:n.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||fo():null,p.type!=="loading"?mo:null):null,pe.createElement("div",{"data-content":"",className:un(O==null?void 0:O.content,p==null||(a=p.classNames)==null?void 0:a.content)},pe.createElement("div",{"data-title":"",className:un(O==null?void 0:O.title,p==null||(l=p.classNames)==null?void 0:l.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?pe.createElement("div",{"data-description":"",className:un(H,Oi,O==null?void 0:O.description,p==null||(u=p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),pe.isValidElement(p.cancel)?p.cancel:p.cancel&&hh(p.cancel)?pe.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||P,onClick:qe=>{hh(p.cancel)&&Ai&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,qe),en())},className:un(O==null?void 0:O.cancelButton,p==null||(h=p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,pe.isValidElement(p.action)?p.action:p.action&&hh(p.action)?pe.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||M,onClick:qe=>{hh(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,qe),!qe.defaultPrevented&&en())},className:un(O==null?void 0:O.actionButton,p==null||(d=p.classNames)==null?void 0:d.actionButton)},p.action.label):null)};function WS(){if(typeof window>"u"||typeof document>"u")return"ltr";const i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}function yM(i,e){const t={};return[i,e].forEach((s,n)=>{const a=n===1,l=a?"--mobile-offset":"--offset",u=a?cM:uM;function h(d){["top","right","bottom","left"].forEach(m=>{t[`${l}-${m}`]=typeof d=="number"?`${d}px`:d})}typeof s=="number"||typeof s=="string"?h(s):typeof s=="object"?["top","right","bottom","left"].forEach(d=>{s[d]===void 0?t[`${l}-${d}`]=u:t[`${l}-${d}`]=typeof s[d]=="number"?`${s[d]}px`:s[d]}):h(u)}),t}const vM=pe.forwardRef(function(e,t){const{id:s,invert:n,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:h,className:d,offset:m,mobileOffset:p,theme:g="light",richColors:E,duration:b,style:k,visibleToasts:S=lM,toastOptions:x,dir:_=WS(),gap:w=hM,icons:R,containerAriaLabel:C="Notifications"}=e,[I,L]=pe.useState([]),P=pe.useMemo(()=>s?I.filter(K=>K.toasterId===s):I.filter(K=>!K.toasterId),[I,s]),M=pe.useMemo(()=>Array.from(new Set([a].concat(P.filter(K=>K.position).map(K=>K.position)))),[P,a]),[N,H]=pe.useState([]),[se,ge]=pe.useState(!1),[ve,U]=pe.useState(!1),[O,q]=pe.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=pe.useRef(null),re=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),he=pe.useRef(null),j=pe.useRef(!1),F=pe.useCallback(K=>{L(ae=>{var le;return(le=ae.find(me=>me.id===K.id))!=null&&le.delete||ts.dismiss(K.id),ae.filter(({id:me})=>me!==K.id)})},[]);return pe.useEffect(()=>ts.subscribe(K=>{if(K.dismiss){requestAnimationFrame(()=>{L(ae=>ae.map(le=>le.id===K.id?{...le,delete:!0}:le))});return}setTimeout(()=>{qO.flushSync(()=>{L(ae=>{const le=ae.findIndex(me=>me.id===K.id);return le!==-1?[...ae.slice(0,le),{...ae[le],...K},...ae.slice(le+1)]:[K,...ae]})})})}),[I]),pe.useEffect(()=>{if(g!=="system"){q(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:ae})=>{q(ae?"dark":"light")})}catch{K.addListener(({matches:le})=>{try{q(le?"dark":"light")}catch(me){console.error(me)}})}},[g]),pe.useEffect(()=>{I.length<=1&&ge(!1)},[I]),pe.useEffect(()=>{const K=ae=>{var le;if(l.every(Ee=>ae[Ee]||ae.code===Ee)){var xe;ge(!0),(xe=W.current)==null||xe.focus()}ae.code==="Escape"&&(document.activeElement===W.current||(le=W.current)!=null&&le.contains(document.activeElement))&&ge(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[l]),pe.useEffect(()=>{if(W.current)return()=>{he.current&&(he.current.focus({preventScroll:!0}),he.current=null,j.current=!1)}},[W.current]),pe.createElement("section",{ref:t,"aria-label":`${C} ${re}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((K,ae)=>{var le;const[me,xe]=K.split("-");return P.length?pe.createElement("ol",{key:K,dir:_==="auto"?WS():_,tabIndex:-1,ref:W,className:d,"data-sonner-toaster":!0,"data-sonner-theme":O,"data-y-position":me,"data-x-position":xe,style:{"--front-toast-height":`${((le=N[0])==null?void 0:le.height)||0}px`,"--width":`${dM}px`,"--gap":`${w}px`,...k,...yM(m,p)},onBlur:Ee=>{j.current&&!Ee.currentTarget.contains(Ee.relatedTarget)&&(j.current=!1,he.current&&(he.current.focus({preventScroll:!0}),he.current=null))},onFocus:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||j.current||(j.current=!0,he.current=Ee.relatedTarget)},onMouseEnter:()=>ge(!0),onMouseMove:()=>ge(!0),onMouseLeave:()=>{ve||ge(!1)},onDragEnd:()=>ge(!1),onPointerDown:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},P.filter(Ee=>!Ee.position&&ae===0||Ee.position===K).map((Ee,Oe)=>{var ot,vt;return pe.createElement(gM,{key:Ee.id,icons:R,index:Oe,toast:Ee,defaultRichColors:E,duration:(ot=x==null?void 0:x.duration)!=null?ot:b,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:S,closeButton:(vt=x==null?void 0:x.closeButton)!=null?vt:h,interacting:ve,position:K,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,closeButtonAriaLabel:x==null?void 0:x.closeButtonAriaLabel,removeToast:F,toasts:P.filter(ie=>ie.position==Ee.position),heights:N.filter(ie=>ie.position==Ee.position),setHeights:H,expandByDefault:u,gap:w,expanded:se,swipeDirections:e.swipeDirections})})):null}))});var ri=function(){return ri=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++){t=arguments[s];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ri.apply(this,arguments)};function Fl(i,e,t){if(t||arguments.length===2)for(var s=0,n=e.length,a;s<n;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return i.concat(a||Array.prototype.slice.call(e))}var Og,XS;function bM(){return XS||(XS=1,Og=function(e,t,s,n){var a=s?s.call(n,e,t):void 0;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var l=Object.keys(e),u=Object.keys(t);if(l.length!==u.length)return!1;for(var h=Object.prototype.hasOwnProperty.bind(t),d=0;d<l.length;d++){var m=l[d];if(!h(m))return!1;var p=e[m],g=t[m];if(a=s?s.call(n,p,g,m):void 0,a===!1||a===void 0&&p!==g)return!1}return!0}),Og}var EM=bM();const kM=ky(EM);var Nt="-ms-",ac="-moz-",Et="-webkit-",fA="comm",$f="rule",jy="decl",SM="@import",mA="@keyframes",xM="@layer",pA=Math.abs,Oy=String.fromCharCode,x0=Object.assign;function TM(i,e){return mi(i,0)^45?(((e<<2^mi(i,0))<<2^mi(i,1))<<2^mi(i,2))<<2^mi(i,3):0}function gA(i){return i.trim()}function Zn(i,e){return(i=e.exec(i))?i[0]:i}function Je(i,e,t){return i.replace(e,t)}function Ph(i,e,t){return i.indexOf(e,t)}function mi(i,e){return i.charCodeAt(e)|0}function Bl(i,e,t){return i.slice(e,t)}function bn(i){return i.length}function yA(i){return i.length}function ec(i,e){return e.push(i),i}function AM(i,e){return i.map(e).join("")}function QS(i,e){return i.filter(function(t){return!Zn(t,e)})}var zf=1,Ul=1,vA=0,Os=0,ni=0,Wl="";function Gf(i,e,t,s,n,a,l,u){return{value:i,root:e,parent:t,type:s,props:n,children:a,line:zf,column:Ul,length:l,return:"",siblings:u}}function Fr(i,e){return x0(Gf("",null,null,"",null,null,0,i.siblings),i,{length:-i.length},e)}function il(i){for(;i.root;)i=Fr(i.root,{children:[i]});ec(i,i.siblings)}function wM(){return ni}function _M(){return ni=Os>0?mi(Wl,--Os):0,Ul--,ni===10&&(Ul=1,zf--),ni}function Ws(){return ni=Os<vA?mi(Wl,Os++):0,Ul++,ni===10&&(Ul=1,zf++),ni}function Xa(){return mi(Wl,Os)}function Nh(){return Os}function Hf(i,e){return Bl(Wl,i,e)}function T0(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function RM(i){return zf=Ul=1,vA=bn(Wl=i),Os=0,[]}function LM(i){return Wl="",i}function Mg(i){return gA(Hf(Os-1,A0(i===91?i+2:i===40?i+1:i)))}function CM(i){for(;(ni=Xa())&&ni<33;)Ws();return T0(i)>2||T0(ni)>3?"":" "}function DM(i,e){for(;--e&&Ws()&&!(ni<48||ni>102||ni>57&&ni<65||ni>70&&ni<97););return Hf(i,Nh()+(e<6&&Xa()==32&&Ws()==32))}function A0(i){for(;Ws();)switch(ni){case i:return Os;case 34:case 39:i!==34&&i!==39&&A0(ni);break;case 40:i===41&&A0(i);break;case 92:Ws();break}return Os}function IM(i,e){for(;Ws()&&i+ni!==57;)if(i+ni===84&&Xa()===47)break;return"/*"+Hf(e,Os-1)+"*"+Oy(i===47?i:Ws())}function jM(i){for(;!T0(Xa());)Ws();return Hf(i,Os)}function OM(i){return LM(Fh("",null,null,null,[""],i=RM(i),0,[0],i))}function Fh(i,e,t,s,n,a,l,u,h){for(var d=0,m=0,p=l,g=0,E=0,b=0,k=1,S=1,x=1,_=0,w="",R=n,C=a,I=s,L=w;S;)switch(b=_,_=Ws()){case 40:if(b!=108&&mi(L,p-1)==58){Ph(L+=Je(Mg(_),"&","&\f"),"&\f",pA(d?u[d-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:L+=Mg(_);break;case 9:case 10:case 13:case 32:L+=CM(b);break;case 92:L+=DM(Nh()-1,7);continue;case 47:switch(Xa()){case 42:case 47:ec(MM(IM(Ws(),Nh()),e,t,h),h);break;default:L+="/"}break;case 123*k:u[d++]=bn(L)*x;case 125*k:case 59:case 0:switch(_){case 0:case 125:S=0;case 59+m:x==-1&&(L=Je(L,/\f/g,"")),E>0&&bn(L)-p&&ec(E>32?JS(L+";",s,t,p-1,h):JS(Je(L," ","")+";",s,t,p-2,h),h);break;case 59:L+=";";default:if(ec(I=ZS(L,e,t,d,m,n,u,w,R=[],C=[],p,a),a),_===123)if(m===0)Fh(L,e,I,I,R,a,p,u,C);else switch(g===99&&mi(L,3)===110?100:g){case 100:case 108:case 109:case 115:Fh(i,I,I,s&&ec(ZS(i,I,I,0,0,n,u,w,n,R=[],p,C),C),n,C,p,u,s?R:C);break;default:Fh(L,I,I,I,[""],C,0,u,C)}}d=m=E=0,k=x=1,w=L="",p=l;break;case 58:p=1+bn(L),E=b;default:if(k<1){if(_==123)--k;else if(_==125&&k++==0&&_M()==125)continue}switch(L+=Oy(_),_*k){case 38:x=m>0?1:(L+="\f",-1);break;case 44:u[d++]=(bn(L)-1)*x,x=1;break;case 64:Xa()===45&&(L+=Mg(Ws())),g=Xa(),m=p=bn(w=L+=jM(Nh())),_++;break;case 45:b===45&&bn(L)==2&&(k=0)}}return a}function ZS(i,e,t,s,n,a,l,u,h,d,m,p){for(var g=n-1,E=n===0?a:[""],b=yA(E),k=0,S=0,x=0;k<s;++k)for(var _=0,w=Bl(i,g+1,g=pA(S=l[k])),R=i;_<b;++_)(R=gA(S>0?E[_]+" "+w:Je(w,/&\f/g,E[_])))&&(h[x++]=R);return Gf(i,e,t,n===0?$f:u,h,d,m,p)}function MM(i,e,t,s){return Gf(i,e,t,fA,Oy(wM()),Bl(i,2,-2),0,s)}function JS(i,e,t,s,n){return Gf(i,e,t,jy,Bl(i,0,s),Bl(i,s+1,-1),s,n)}function bA(i,e,t){switch(TM(i,e)){case 5103:return Et+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Et+i+i;case 4789:return ac+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return Et+i+ac+i+Nt+i+i;case 5936:switch(mi(i,e+11)){case 114:return Et+i+Nt+Je(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return Et+i+Nt+Je(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return Et+i+Nt+Je(i,/[svh]\w+-[tblr]{2}/,"lr")+i}case 6828:case 4268:case 2903:return Et+i+Nt+i+i;case 6165:return Et+i+Nt+"flex-"+i+i;case 5187:return Et+i+Je(i,/(\w+).+(:[^]+)/,Et+"box-$1$2"+Nt+"flex-$1$2")+i;case 5443:return Et+i+Nt+"flex-item-"+Je(i,/flex-|-self/g,"")+(Zn(i,/flex-|baseline/)?"":Nt+"grid-row-"+Je(i,/flex-|-self/g,""))+i;case 4675:return Et+i+Nt+"flex-line-pack"+Je(i,/align-content|flex-|-self/g,"")+i;case 5548:return Et+i+Nt+Je(i,"shrink","negative")+i;case 5292:return Et+i+Nt+Je(i,"basis","preferred-size")+i;case 6060:return Et+"box-"+Je(i,"-grow","")+Et+i+Nt+Je(i,"grow","positive")+i;case 4554:return Et+Je(i,/([^-])(transform)/g,"$1"+Et+"$2")+i;case 6187:return Je(Je(Je(i,/(zoom-|grab)/,Et+"$1"),/(image-set)/,Et+"$1"),i,"")+i;case 5495:case 3959:return Je(i,/(image-set\([^]*)/,Et+"$1$`$1");case 4968:return Je(Je(i,/(.+:)(flex-)?(.*)/,Et+"box-pack:$3"+Nt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Et+i+i;case 4200:if(!Zn(i,/flex-|baseline/))return Nt+"grid-column-align"+Bl(i,e)+i;break;case 2592:case 3360:return Nt+Je(i,"template-","")+i;case 4384:case 3616:return t&&t.some(function(s,n){return e=n,Zn(s.props,/grid-\w+-end/)})?~Ph(i+(t=t[e].value),"span",0)?i:Nt+Je(i,"-start","")+i+Nt+"grid-row-span:"+(~Ph(t,"span",0)?Zn(t,/\d+/):+Zn(t,/\d+/)-+Zn(i,/\d+/))+";":Nt+Je(i,"-start","")+i;case 4896:case 4128:return t&&t.some(function(s){return Zn(s.props,/grid-\w+-start/)})?i:Nt+Je(Je(i,"-end","-span"),"span ","")+i;case 4095:case 3583:case 4068:case 2532:return Je(i,/(.+)-inline(.+)/,Et+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(bn(i)-1-e>6)switch(mi(i,e+1)){case 109:if(mi(i,e+4)!==45)break;case 102:return Je(i,/(.+:)(.+)-([^]+)/,"$1"+Et+"$2-$3$1"+ac+(mi(i,e+3)==108?"$3":"$2-$3"))+i;case 115:return~Ph(i,"stretch",0)?bA(Je(i,"stretch","fill-available"),e,t)+i:i}break;case 5152:case 5920:return Je(i,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,n,a,l,u,h,d){return Nt+n+":"+a+d+(l?Nt+n+"-span:"+(u?h:+h-+a)+d:"")+i});case 4949:if(mi(i,e+6)===121)return Je(i,":",":"+Et)+i;break;case 6444:switch(mi(i,mi(i,14)===45?18:11)){case 120:return Je(i,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Et+(mi(i,14)===45?"inline-":"")+"box$3$1"+Et+"$2$3$1"+Nt+"$2box$3")+i;case 100:return Je(i,":",":"+Nt)+i}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Je(i,"scroll-","scroll-snap-")+i}return i}function af(i,e){for(var t="",s=0;s<i.length;s++)t+=e(i[s],s,i,e)||"";return t}function PM(i,e,t,s){switch(i.type){case xM:if(i.children.length)break;case SM:case jy:return i.return=i.return||i.value;case fA:return"";case mA:return i.return=i.value+"{"+af(i.children,s)+"}";case $f:if(!bn(i.value=i.props.join(",")))return""}return bn(t=af(i.children,s))?i.return=i.value+"{"+t+"}":""}function NM(i){var e=yA(i);return function(t,s,n,a){for(var l="",u=0;u<e;u++)l+=i[u](t,s,n,a)||"";return l}}function FM(i){return function(e){e.root||(e=e.return)&&i(e)}}function BM(i,e,t,s){if(i.length>-1&&!i.return)switch(i.type){case jy:i.return=bA(i.value,i.length,t);return;case mA:return af([Fr(i,{value:Je(i.value,"@","@"+Et)})],s);case $f:if(i.length)return AM(t=i.props,function(n){switch(Zn(n,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":il(Fr(i,{props:[Je(n,/:(read-\w+)/,":"+ac+"$1")]})),il(Fr(i,{props:[n]})),x0(i,{props:QS(t,s)});break;case"::placeholder":il(Fr(i,{props:[Je(n,/:(plac\w+)/,":"+Et+"input-$1")]})),il(Fr(i,{props:[Je(n,/:(plac\w+)/,":"+ac+"$1")]})),il(Fr(i,{props:[Je(n,/:(plac\w+)/,Nt+"input-$1")]})),il(Fr(i,{props:[n]})),x0(i,{props:QS(t,s)});break}return""})}}var UM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fs={},na=typeof process<"u"&&fs!==void 0&&(fs.REACT_APP_SC_ATTR||fs.SC_ATTR)||"data-styled",EA="active",of="data-styled-version",to="6.1.17",My=`/*!sc*/
`,lf=typeof window<"u"&&"HTMLElement"in window,$M=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&fs!==void 0&&fs.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&fs.REACT_APP_SC_DISABLE_SPEEDY!==""?fs.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&fs.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&fs!==void 0&&fs.SC_DISABLE_SPEEDY!==void 0&&fs.SC_DISABLE_SPEEDY!==""&&fs.SC_DISABLE_SPEEDY!=="false"&&fs.SC_DISABLE_SPEEDY),zM={},qf=Object.freeze([]),$l=Object.freeze({});function Py(i,e,t){return t===void 0&&(t=$l),i.theme!==t.theme&&i.theme||e||t.theme}var kA=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),GM=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,HM=/(^-|-$)/g;function ex(i){return i.replace(GM,"-").replace(HM,"")}var qM=/(a)(d)/gi,fh=52,tx=function(i){return String.fromCharCode(i+(i>25?39:97))};function w0(i){var e,t="";for(e=Math.abs(i);e>fh;e=e/fh|0)t=tx(e%fh)+t;return(tx(e%fh)+t).replace(qM,"$1-$2")}var Pg,SA=5381,hl=function(i,e){for(var t=e.length;t;)i=33*i^e.charCodeAt(--t);return i},xA=function(i){return hl(SA,i)};function Ny(i){return w0(xA(i)>>>0)}function TA(i){return i.displayName||i.name||"Component"}function Ng(i){return typeof i=="string"&&!0}var AA=typeof Symbol=="function"&&Symbol.for,wA=AA?Symbol.for("react.memo"):60115,VM=AA?Symbol.for("react.forward_ref"):60112,KM={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},YM={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},_A={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},WM=((Pg={})[VM]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Pg[wA]=_A,Pg);function ix(i){return("type"in(e=i)&&e.type.$$typeof)===wA?_A:"$$typeof"in i?WM[i.$$typeof]:KM;var e}var XM=Object.defineProperty,QM=Object.getOwnPropertyNames,sx=Object.getOwnPropertySymbols,ZM=Object.getOwnPropertyDescriptor,JM=Object.getPrototypeOf,nx=Object.prototype;function Fy(i,e,t){if(typeof e!="string"){if(nx){var s=JM(e);s&&s!==nx&&Fy(i,s,t)}var n=QM(e);sx&&(n=n.concat(sx(e)));for(var a=ix(i),l=ix(e),u=0;u<n.length;++u){var h=n[u];if(!(h in YM||t&&t[h]||l&&h in l||a&&h in a)){var d=ZM(e,h);try{XM(i,h,d)}catch{}}}}return i}function io(i){return typeof i=="function"}function Vf(i){return typeof i=="object"&&"styledComponentId"in i}function Ba(i,e){return i&&e?"".concat(i," ").concat(e):i||e||""}function mc(i,e){if(i.length===0)return"";for(var t=i[0],s=1;s<i.length;s++)t+=e?e+i[s]:i[s];return t}function pc(i){return i!==null&&typeof i=="object"&&i.constructor.name===Object.name&&!("props"in i&&i.$$typeof)}function _0(i,e,t){if(t===void 0&&(t=!1),!t&&!pc(i)&&!Array.isArray(i))return e;if(Array.isArray(e))for(var s=0;s<e.length;s++)i[s]=_0(i[s],e[s]);else if(pc(e))for(var s in e)i[s]=_0(i[s],e[s]);return i}function By(i,e){Object.defineProperty(i,"toString",{value:e})}function js(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(i," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var e2=function(){function i(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return i.prototype.indexOfGroup=function(e){for(var t=0,s=0;s<e;s++)t+=this.groupSizes[s];return t},i.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var s=this.groupSizes,n=s.length,a=n;e>=a;)if((a<<=1)<0)throw js(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(s),this.length=a;for(var l=n;l<a;l++)this.groupSizes[l]=0}for(var u=this.indexOfGroup(e+1),h=(l=0,t.length);l<h;l++)this.tag.insertRule(u,t[l])&&(this.groupSizes[e]++,u++)},i.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],s=this.indexOfGroup(e),n=s+t;this.groupSizes[e]=0;for(var a=s;a<n;a++)this.tag.deleteRule(s)}},i.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var s=this.groupSizes[e],n=this.indexOfGroup(e),a=n+s,l=n;l<a;l++)t+="".concat(this.tag.getRule(l)).concat(My);return t},i}(),Bh=new Map,uf=new Map,Uh=1,mh=function(i){if(Bh.has(i))return Bh.get(i);for(;uf.has(Uh);)Uh++;var e=Uh++;return Bh.set(i,e),uf.set(e,i),e},t2=function(i,e){Uh=e+1,Bh.set(i,e),uf.set(e,i)},i2="style[".concat(na,"][").concat(of,'="').concat(to,'"]'),s2=new RegExp("^".concat(na,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),n2=function(i,e,t){for(var s,n=t.split(","),a=0,l=n.length;a<l;a++)(s=n[a])&&i.registerName(e,s)},r2=function(i,e){for(var t,s=((t=e.textContent)!==null&&t!==void 0?t:"").split(My),n=[],a=0,l=s.length;a<l;a++){var u=s[a].trim();if(u){var h=u.match(s2);if(h){var d=0|parseInt(h[1],10),m=h[2];d!==0&&(t2(m,d),n2(i,m,h[3]),i.getTag().insertRules(d,n)),n.length=0}else n.push(u)}}},rx=function(i){for(var e=document.querySelectorAll(i2),t=0,s=e.length;t<s;t++){var n=e[t];n&&n.getAttribute(na)!==EA&&(r2(i,n),n.parentNode&&n.parentNode.removeChild(n))}};function R0(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var RA=function(i){var e=document.head,t=i||e,s=document.createElement("style"),n=function(u){var h=Array.from(u.querySelectorAll("style[".concat(na,"]")));return h[h.length-1]}(t),a=n!==void 0?n.nextSibling:null;s.setAttribute(na,EA),s.setAttribute(of,to);var l=R0();return l&&s.setAttribute("nonce",l),t.insertBefore(s,a),s},a2=function(){function i(e){this.element=RA(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var s=document.styleSheets,n=0,a=s.length;n<a;n++){var l=s[n];if(l.ownerNode===t)return l}throw js(17)}(this.element),this.length=0}return i.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},i.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},i.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},i}(),o2=function(){function i(e){this.element=RA(e),this.nodes=this.element.childNodes,this.length=0}return i.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var s=document.createTextNode(t);return this.element.insertBefore(s,this.nodes[e]||null),this.length++,!0}return!1},i.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},i.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},i}(),l2=function(){function i(e){this.rules=[],this.length=0}return i.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},i.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},i.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},i}(),ax=lf,u2={isServer:!lf,useCSSOMInjection:!$M},zl=function(){function i(e,t,s){e===void 0&&(e=$l),t===void 0&&(t={});var n=this;this.options=ri(ri({},u2),e),this.gs=t,this.names=new Map(s),this.server=!!e.isServer,!this.server&&lf&&ax&&(ax=!1,rx(this)),By(this,function(){return function(a){for(var l=a.getTag(),u=l.length,h="",d=function(p){var g=function(x){return uf.get(x)}(p);if(g===void 0)return"continue";var E=a.names.get(g),b=l.getGroup(p);if(E===void 0||!E.size||b.length===0)return"continue";var k="".concat(na,".g").concat(p,'[id="').concat(g,'"]'),S="";E!==void 0&&E.forEach(function(x){x.length>0&&(S+="".concat(x,","))}),h+="".concat(b).concat(k,'{content:"').concat(S,'"}').concat(My)},m=0;m<u;m++)d(m);return h}(n)})}return i.registerId=function(e){return mh(e)},i.prototype.rehydrate=function(){!this.server&&lf&&rx(this)},i.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new i(ri(ri({},this.options),e),this.gs,t&&this.names||void 0)},i.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},i.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var s=t.useCSSOMInjection,n=t.target;return t.isServer?new l2(n):s?new a2(n):new o2(n)}(this.options),new e2(e)));var e},i.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},i.prototype.registerName=function(e,t){if(mh(e),this.names.has(e))this.names.get(e).add(t);else{var s=new Set;s.add(t),this.names.set(e,s)}},i.prototype.insertRules=function(e,t,s){this.registerName(e,t),this.getTag().insertRules(mh(e),s)},i.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},i.prototype.clearRules=function(e){this.getTag().clearGroup(mh(e)),this.clearNames(e)},i.prototype.clearTag=function(){this.tag=void 0},i}(),c2=/&/g,d2=/^\s*\/\/.*$/gm;function LA(i,e){return i.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(s){return"".concat(e," ").concat(s)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=LA(t.children,e)),t})}function CA(i){var e,t,s,n=i===void 0?$l:i,a=n.options,l=a===void 0?$l:a,u=n.plugins,h=u===void 0?qf:u,d=function(g,E,b){return b.startsWith(t)&&b.endsWith(t)&&b.replaceAll(t,"").length>0?".".concat(e):g},m=h.slice();m.push(function(g){g.type===$f&&g.value.includes("&")&&(g.props[0]=g.props[0].replace(c2,t).replace(s,d))}),l.prefix&&m.push(BM),m.push(PM);var p=function(g,E,b,k){E===void 0&&(E=""),b===void 0&&(b=""),k===void 0&&(k="&"),e=k,t=E,s=new RegExp("\\".concat(t,"\\b"),"g");var S=g.replace(d2,""),x=OM(b||E?"".concat(b," ").concat(E," { ").concat(S," }"):S);l.namespace&&(x=LA(x,l.namespace));var _=[];return af(x,NM(m.concat(FM(function(w){return _.push(w)})))),_};return p.hash=h.length?h.reduce(function(g,E){return E.name||js(15),hl(g,E.name)},SA).toString():"",p}var DA=new zl,L0=CA(),Kf=pe.createContext({shouldForwardProp:void 0,styleSheet:DA,stylis:L0}),h2=Kf.Consumer,f2=pe.createContext(void 0);function cf(){return $e.useContext(Kf)}function IA(i){var e=$e.useState(i.stylisPlugins),t=e[0],s=e[1],n=cf().styleSheet,a=$e.useMemo(function(){var h=n;return i.sheet?h=i.sheet:i.target&&(h=h.reconstructWithOptions({target:i.target},!1)),i.disableCSSOMInjection&&(h=h.reconstructWithOptions({useCSSOMInjection:!1})),h},[i.disableCSSOMInjection,i.sheet,i.target,n]),l=$e.useMemo(function(){return CA({options:{namespace:i.namespace,prefix:i.enableVendorPrefixes},plugins:t})},[i.enableVendorPrefixes,i.namespace,t]);$e.useEffect(function(){kM(t,i.stylisPlugins)||s(i.stylisPlugins)},[i.stylisPlugins]);var u=$e.useMemo(function(){return{shouldForwardProp:i.shouldForwardProp,styleSheet:a,stylis:l}},[i.shouldForwardProp,a,l]);return pe.createElement(Kf.Provider,{value:u},pe.createElement(f2.Provider,{value:l},i.children))}var jA=function(){function i(e,t){var s=this;this.inject=function(n,a){a===void 0&&(a=L0);var l=s.name+a.hash;n.hasNameForId(s.id,l)||n.insertRules(s.id,l,a(s.rules,l,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,By(this,function(){throw js(12,String(s.name))})}return i.prototype.getName=function(e){return e===void 0&&(e=L0),this.name+e.hash},i}(),m2=function(i){return i>="A"&&i<="Z"};function ox(i){for(var e="",t=0;t<i.length;t++){var s=i[t];if(t===1&&s==="-"&&i[0]==="-")return i;m2(s)?e+="-"+s.toLowerCase():e+=s}return e.startsWith("ms-")?"-"+e:e}var OA=function(i){return i==null||i===!1||i===""},MA=function(i){var e,t,s=[];for(var n in i){var a=i[n];i.hasOwnProperty(n)&&!OA(a)&&(Array.isArray(a)&&a.isCss||io(a)?s.push("".concat(ox(n),":"),a,";"):pc(a)?s.push.apply(s,Fl(Fl(["".concat(n," {")],MA(a),!1),["}"],!1)):s.push("".concat(ox(n),": ").concat((e=n,(t=a)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in UM||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return s};function ta(i,e,t,s){if(OA(i))return[];if(Vf(i))return[".".concat(i.styledComponentId)];if(io(i)){if(!io(a=i)||a.prototype&&a.prototype.isReactComponent||!e)return[i];var n=i(e);return ta(n,e,t,s)}var a;return i instanceof jA?t?(i.inject(t,s),[i.getName(s)]):[i]:pc(i)?MA(i):Array.isArray(i)?Array.prototype.concat.apply(qf,i.map(function(l){return ta(l,e,t,s)})):[i.toString()]}function PA(i){for(var e=0;e<i.length;e+=1){var t=i[e];if(io(t)&&!Vf(t))return!1}return!0}var p2=xA(to),g2=function(){function i(e,t,s){this.rules=e,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&PA(e),this.componentId=t,this.baseHash=hl(p2,t),this.baseStyle=s,zl.registerId(t)}return i.prototype.generateAndInjectStyles=function(e,t,s){var n=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))n=Ba(n,this.staticRulesId);else{var a=mc(ta(this.rules,e,t,s)),l=w0(hl(this.baseHash,a)>>>0);if(!t.hasNameForId(this.componentId,l)){var u=s(a,".".concat(l),void 0,this.componentId);t.insertRules(this.componentId,l,u)}n=Ba(n,l),this.staticRulesId=l}else{for(var h=hl(this.baseHash,s.hash),d="",m=0;m<this.rules.length;m++){var p=this.rules[m];if(typeof p=="string")d+=p;else if(p){var g=mc(ta(p,e,t,s));h=hl(h,g+m),d+=g}}if(d){var E=w0(h>>>0);t.hasNameForId(this.componentId,E)||t.insertRules(this.componentId,E,s(d,".".concat(E),void 0,this.componentId)),n=Ba(n,E)}}return n},i}(),ra=pe.createContext(void 0),y2=ra.Consumer;function v2(){var i=$e.useContext(ra);if(!i)throw js(18);return i}function NA(i){var e=pe.useContext(ra),t=$e.useMemo(function(){return function(s,n){if(!s)throw js(14);if(io(s)){var a=s(n);return a}if(Array.isArray(s)||typeof s!="object")throw js(8);return n?ri(ri({},n),s):s}(i.theme,e)},[i.theme,e]);return i.children?pe.createElement(ra.Provider,{value:t},i.children):null}var Fg={};function b2(i,e,t){var s=Vf(i),n=i,a=!Ng(i),l=e.attrs,u=l===void 0?qf:l,h=e.componentId,d=h===void 0?function(R,C){var I=typeof R!="string"?"sc":ex(R);Fg[I]=(Fg[I]||0)+1;var L="".concat(I,"-").concat(Ny(to+I+Fg[I]));return C?"".concat(C,"-").concat(L):L}(e.displayName,e.parentComponentId):h,m=e.displayName,p=m===void 0?function(R){return Ng(R)?"styled.".concat(R):"Styled(".concat(TA(R),")")}(i):m,g=e.displayName&&e.componentId?"".concat(ex(e.displayName),"-").concat(e.componentId):e.componentId||d,E=s&&n.attrs?n.attrs.concat(u).filter(Boolean):u,b=e.shouldForwardProp;if(s&&n.shouldForwardProp){var k=n.shouldForwardProp;if(e.shouldForwardProp){var S=e.shouldForwardProp;b=function(R,C){return k(R,C)&&S(R,C)}}else b=k}var x=new g2(t,g,s?n.componentStyle:void 0);function _(R,C){return function(I,L,P){var M=I.attrs,N=I.componentStyle,H=I.defaultProps,se=I.foldedComponentIds,ge=I.styledComponentId,ve=I.target,U=pe.useContext(ra),O=cf(),q=I.shouldForwardProp||O.shouldForwardProp,W=Py(L,U,H)||$l,re=function(le,me,xe){for(var Ee,Oe=ri(ri({},me),{className:void 0,theme:xe}),ot=0;ot<le.length;ot+=1){var vt=io(Ee=le[ot])?Ee(Oe):Ee;for(var ie in vt)Oe[ie]=ie==="className"?Ba(Oe[ie],vt[ie]):ie==="style"?ri(ri({},Oe[ie]),vt[ie]):vt[ie]}return me.className&&(Oe.className=Ba(Oe.className,me.className)),Oe}(M,L,W),he=re.as||ve,j={};for(var F in re)re[F]===void 0||F[0]==="$"||F==="as"||F==="theme"&&re.theme===W||(F==="forwardedAs"?j.as=re.forwardedAs:q&&!q(F,he)||(j[F]=re[F]));var K=function(le,me){var xe=cf(),Ee=le.generateAndInjectStyles(me,xe.styleSheet,xe.stylis);return Ee}(N,re),ae=Ba(se,ge);return K&&(ae+=" "+K),re.className&&(ae+=" "+re.className),j[Ng(he)&&!kA.has(he)?"class":"className"]=ae,P&&(j.ref=P),$e.createElement(he,j)}(w,R,C)}_.displayName=p;var w=pe.forwardRef(_);return w.attrs=E,w.componentStyle=x,w.displayName=p,w.shouldForwardProp=b,w.foldedComponentIds=s?Ba(n.foldedComponentIds,n.styledComponentId):"",w.styledComponentId=g,w.target=s?n.target:i,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(R){this._foldedDefaultProps=s?function(C){for(var I=[],L=1;L<arguments.length;L++)I[L-1]=arguments[L];for(var P=0,M=I;P<M.length;P++)_0(C,M[P],!0);return C}({},n.defaultProps,R):R}}),By(w,function(){return".".concat(w.styledComponentId)}),a&&Fy(w,i,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function lx(i,e){for(var t=[i[0]],s=0,n=e.length;s<n;s+=1)t.push(e[s],i[s+1]);return t}var ux=function(i){return Object.assign(i,{isCss:!0})};function Yf(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(io(i)||pc(i))return ux(ta(lx(qf,Fl([i],e,!0))));var s=i;return e.length===0&&s.length===1&&typeof s[0]=="string"?ta(s):ux(ta(lx(s,e)))}function C0(i,e,t){if(t===void 0&&(t=$l),!e)throw js(1,e);var s=function(n){for(var a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];return i(e,t,Yf.apply(void 0,Fl([n],a,!1)))};return s.attrs=function(n){return C0(i,e,ri(ri({},t),{attrs:Array.prototype.concat(t.attrs,n).filter(Boolean)}))},s.withConfig=function(n){return C0(i,e,ri(ri({},t),n))},s}var FA=function(i){return C0(b2,i)},Fe=FA;kA.forEach(function(i){Fe[i]=FA(i)});var E2=function(){function i(e,t){this.rules=e,this.componentId=t,this.isStatic=PA(e),zl.registerId(this.componentId+1)}return i.prototype.createStyles=function(e,t,s,n){var a=n(mc(ta(this.rules,t,s,n)),""),l=this.componentId+e;s.insertRules(l,l,a)},i.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},i.prototype.renderStyles=function(e,t,s,n){e>2&&zl.registerId(this.componentId+e),this.removeStyles(e,s),this.createStyles(e,t,s,n)},i}();function BA(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var s=Yf.apply(void 0,Fl([i],e,!1)),n="sc-global-".concat(Ny(JSON.stringify(s))),a=new E2(s,n),l=function(h){var d=cf(),m=pe.useContext(ra),p=pe.useRef(d.styleSheet.allocateGSInstance(n)).current;return d.styleSheet.server&&u(p,h,d.styleSheet,m,d.stylis),pe.useLayoutEffect(function(){if(!d.styleSheet.server)return u(p,h,d.styleSheet,m,d.stylis),function(){return a.removeStyles(p,d.styleSheet)}},[p,h,d.styleSheet,m,d.stylis]),null};function u(h,d,m,p,g){if(a.isStatic)a.renderStyles(h,zM,m,g);else{var E=ri(ri({},d),{theme:Py(d,p,l.defaultProps)});a.renderStyles(h,E,m,g)}}return pe.memo(l)}function k2(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var s=mc(Yf.apply(void 0,Fl([i],e,!1))),n=Ny(s);return new jA(n,s)}function S2(i){var e=pe.forwardRef(function(t,s){var n=Py(t,pe.useContext(ra),i.defaultProps);return pe.createElement(i,ri({},t,{theme:n,ref:s}))});return e.displayName="WithTheme(".concat(TA(i),")"),Fy(e,i)}var x2=function(){function i(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var s=R0(),n=mc([s&&'nonce="'.concat(s,'"'),"".concat(na,'="true"'),"".concat(of,'="').concat(to,'"')].filter(Boolean)," ");return"<style ".concat(n,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw js(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw js(2);var s=e.instance.toString();if(!s)return[];var n=((t={})[na]="",t[of]=to,t.dangerouslySetInnerHTML={__html:s},t),a=R0();return a&&(n.nonce=a),[pe.createElement("style",ri({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new zl({isServer:!0}),this.sealed=!1}return i.prototype.collectStyles=function(e){if(this.sealed)throw js(2);return pe.createElement(IA,{sheet:this.instance},e)},i.prototype.interleaveWithNodeStream=function(e){throw js(3)},i}(),T2={StyleSheet:zl,mainSheet:DA};const A2=Object.freeze(Object.defineProperty({__proto__:null,ServerStyleSheet:x2,StyleSheetConsumer:h2,StyleSheetContext:Kf,StyleSheetManager:IA,ThemeConsumer:y2,ThemeContext:ra,ThemeProvider:NA,__PRIVATE__:T2,createGlobalStyle:BA,css:Yf,default:Fe,isStyledComponent:Vf,keyframes:k2,styled:Fe,useTheme:v2,version:to,withTheme:S2},Symbol.toStringTag,{value:"Module"}));var Kn={};const w2=CC(A2);var cx;function _2(){if(cx)return Kn;cx=1,Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.default=Kn.Normalize=Kn.normalize=void 0;var i=w2,e=(0,i.css)(['html{line-height:1.15;-webkit-text-size-adjust:100%;}body{margin:0;}main{display:block;}h1{font-size:2em;margin:0.67em 0;}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace,monospace;font-size:1em;}a{background-color:transparent;}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted;}b,strong{font-weight:bolder;}code,kbd,samp{font-family:monospace,monospace;font-size:1em;}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sub{bottom:-0.25em;}sup{top:-0.5em;}img{border-style:none;}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText;}fieldset{padding:0.35em 0.75em 0.625em;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{vertical-align:baseline;}textarea{overflow:auto;}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto;}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}[type="search"]::-webkit-search-decoration{-webkit-appearance:none;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details{display:block;}summary{display:list-item;}template{display:none;}[hidden]{display:none;}']);Kn.normalize=e;var t=(0,i.createGlobalStyle)(e);Kn.Normalize=t,t.displayName="Normalize";var s=e;return Kn.default=s,Kn}var R2=_2();const L2={primary:"#4a90e2",primaryHover:"#3a7bc8",primaryDark:"#2d3a52",background:{primary:"#121212",secondary:"#1e1e1e",tertiary:"#2a2a2a",black:"#000000"},border:{primary:"#333333",secondary:"#3a3a3a",accent:"#7b68ee",divider:"#555555"},text:{primary:"#ffffff",secondary:"#e0e0e0",tertiary:"#999999",quaternary:"#666666"},comment:{resolved:"#4caf50",timestamp:"#8b9fd9"}},dx={mobile:"768px",tablet:"1024px"},Zt={mobile:`@media (max-width: ${dx.mobile})`,tablet:`@media (max-width: ${dx.tablet})`},ph={colors:L2};class C2 extends $e.Component{constructor(){super(...arguments);at(this,"state",{error:void 0,hasError:!1})}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error("error",t,s)}render(){return this.state.error?ke.jsxs("div",{children:[ke.jsx("p",{children:this.state.error.name}),ke.jsx("p",{children:this.state.error.message}),ke.jsx("p",{children:this.state.error.stack})]}):this.props.children}}const D2=Fe.main`
  display: flex;
  flex-direction: column;
  height: 100vh;
  background: ${({theme:i})=>i.colors.background.primary};
  overflow: hidden;
`;var Xl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},so=typeof window>"u"||"Deno"in globalThis;function Is(){}function I2(i,e){return typeof i=="function"?i(e):i}function D0(i){return typeof i=="number"&&i>=0&&i!==1/0}function UA(i,e){return Math.max(i+(e||0)-Date.now(),0)}function yl(i,e){return typeof i=="function"?i(e):i}function Vs(i,e){return typeof i=="function"?i(e):i}function hx(i,e){const{type:t="all",exact:s,fetchStatus:n,predicate:a,queryKey:l,stale:u}=i;if(l){if(s){if(e.queryHash!==Uy(l,e.options))return!1}else if(!gc(e.queryKey,l))return!1}if(t!=="all"){const h=e.isActive();if(t==="active"&&!h||t==="inactive"&&h)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||n&&n!==e.state.fetchStatus||a&&!a(e))}function fx(i,e){const{exact:t,status:s,predicate:n,mutationKey:a}=i;if(a){if(!e.options.mutationKey)return!1;if(t){if(no(e.options.mutationKey)!==no(a))return!1}else if(!gc(e.options.mutationKey,a))return!1}return!(s&&e.state.status!==s||n&&!n(e))}function Uy(i,e){return((e==null?void 0:e.queryKeyHashFn)||no)(i)}function no(i){return JSON.stringify(i,(e,t)=>I0(t)?Object.keys(t).sort().reduce((s,n)=>(s[n]=t[n],s),{}):t)}function gc(i,e){return i===e?!0:typeof i!=typeof e?!1:i&&e&&typeof i=="object"&&typeof e=="object"?Object.keys(e).every(t=>gc(i[t],e[t])):!1}function $A(i,e){if(i===e)return i;const t=mx(i)&&mx(e);if(t||I0(i)&&I0(e)){const s=t?i:Object.keys(i),n=s.length,a=t?e:Object.keys(e),l=a.length,u=t?[]:{};let h=0;for(let d=0;d<l;d++){const m=t?d:a[d];(!t&&s.includes(m)||t)&&i[m]===void 0&&e[m]===void 0?(u[m]=void 0,h++):(u[m]=$A(i[m],e[m]),u[m]===i[m]&&i[m]!==void 0&&h++)}return n===l&&h===n?i:u}return e}function df(i,e){if(!e||Object.keys(i).length!==Object.keys(e).length)return!1;for(const t in i)if(i[t]!==e[t])return!1;return!0}function mx(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function I0(i){if(!px(i))return!1;const e=i.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!px(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function px(i){return Object.prototype.toString.call(i)==="[object Object]"}function j2(i){return new Promise(e=>{setTimeout(e,i)})}function j0(i,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(i,e):t.structuralSharing!==!1?$A(i,e):e}function O2(i,e,t=0){const s=[...i,e];return t&&s.length>t?s.slice(1):s}function M2(i,e,t=0){const s=[e,...i];return t&&s.length>t?s.slice(0,-1):s}var $y=Symbol();function zA(i,e){return!i.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!i.queryFn||i.queryFn===$y?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}var $a,Vr,Al,u1,P2=(u1=class extends Xl{constructor(){super();Me(this,$a);Me(this,Vr);Me(this,Al);we(this,Al,e=>{if(!so&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){$(this,Vr)||this.setEventListener($(this,Al))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Vr))==null||e.call(this),we(this,Vr,void 0))}setEventListener(e){var t;we(this,Al,e),(t=$(this,Vr))==null||t.call(this),we(this,Vr,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){$(this,$a)!==e&&(we(this,$a,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof $(this,$a)=="boolean"?$(this,$a):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},$a=new WeakMap,Vr=new WeakMap,Al=new WeakMap,u1),zy=new P2,wl,Kr,_l,c1,N2=(c1=class extends Xl{constructor(){super();Me(this,wl,!0);Me(this,Kr);Me(this,_l);we(this,_l,e=>{if(!so&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){$(this,Kr)||this.setEventListener($(this,_l))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Kr))==null||e.call(this),we(this,Kr,void 0))}setEventListener(e){var t;we(this,_l,e),(t=$(this,Kr))==null||t.call(this),we(this,Kr,e(this.setOnline.bind(this)))}setOnline(e){$(this,wl)!==e&&(we(this,wl,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return $(this,wl)}},wl=new WeakMap,Kr=new WeakMap,_l=new WeakMap,c1),hf=new N2;function O0(){let i,e;const t=new Promise((n,a)=>{i=n,e=a});t.status="pending",t.catch(()=>{});function s(n){Object.assign(t,n),delete t.resolve,delete t.reject}return t.resolve=n=>{s({status:"fulfilled",value:n}),i(n)},t.reject=n=>{s({status:"rejected",reason:n}),e(n)},t}function F2(i){return Math.min(1e3*2**i,3e4)}function GA(i){return(i??"online")==="online"?hf.isOnline():!0}var HA=class extends Error{constructor(i){super("CancelledError"),this.revert=i==null?void 0:i.revert,this.silent=i==null?void 0:i.silent}};function Bg(i){return i instanceof HA}function qA(i){let e=!1,t=0,s=!1,n;const a=O0(),l=k=>{var S;s||(g(new HA(k)),(S=i.abort)==null||S.call(i))},u=()=>{e=!0},h=()=>{e=!1},d=()=>zy.isFocused()&&(i.networkMode==="always"||hf.isOnline())&&i.canRun(),m=()=>GA(i.networkMode)&&i.canRun(),p=k=>{var S;s||(s=!0,(S=i.onSuccess)==null||S.call(i,k),n==null||n(),a.resolve(k))},g=k=>{var S;s||(s=!0,(S=i.onError)==null||S.call(i,k),n==null||n(),a.reject(k))},E=()=>new Promise(k=>{var S;n=x=>{(s||d())&&k(x)},(S=i.onPause)==null||S.call(i)}).then(()=>{var k;n=void 0,s||(k=i.onContinue)==null||k.call(i)}),b=()=>{if(s)return;let k;const S=t===0?i.initialPromise:void 0;try{k=S??i.fn()}catch(x){k=Promise.reject(x)}Promise.resolve(k).then(p).catch(x=>{var I;if(s)return;const _=i.retry??(so?0:3),w=i.retryDelay??F2,R=typeof w=="function"?w(t,x):w,C=_===!0||typeof _=="number"&&t<_||typeof _=="function"&&_(t,x);if(e||!C){g(x);return}t++,(I=i.onFail)==null||I.call(i,t,x),j2(R).then(()=>d()?void 0:E()).then(()=>{e?g(x):b()})})};return{promise:a,cancel:l,continue:()=>(n==null||n(),a),cancelRetry:u,continueRetry:h,canStart:m,start:()=>(m()?b():E().then(b),a)}}var B2=i=>setTimeout(i,0);function U2(){let i=[],e=0,t=u=>{u()},s=u=>{u()},n=B2;const a=u=>{e?i.push(u):n(()=>{t(u)})},l=()=>{const u=i;i=[],u.length&&n(()=>{s(()=>{u.forEach(h=>{t(h)})})})};return{batch:u=>{let h;e++;try{h=u()}finally{e--,e||l()}return h},batchCalls:u=>(...h)=>{a(()=>{u(...h)})},schedule:a,setNotifyFunction:u=>{t=u},setBatchNotifyFunction:u=>{s=u},setScheduler:u=>{n=u}}}var ui=U2(),za,d1,VA=(d1=class{constructor(){Me(this,za)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),D0(this.gcTime)&&we(this,za,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??(so?1/0:5*60*1e3))}clearGcTimeout(){$(this,za)&&(clearTimeout($(this,za)),we(this,za,void 0))}},za=new WeakMap,d1),Rl,Ll,Ds,Ga,Li,Bc,Ha,Hs,Xn,h1,$2=(h1=class extends VA{constructor(e){super();Me(this,Hs);Me(this,Rl);Me(this,Ll);Me(this,Ds);Me(this,Ga);Me(this,Li);Me(this,Bc);Me(this,Ha);we(this,Ha,!1),we(this,Bc,e.defaultOptions),this.setOptions(e.options),this.observers=[],we(this,Ga,e.client),we(this,Ds,$(this,Ga).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,we(this,Rl,z2(this.options)),this.state=e.state??$(this,Rl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=$(this,Li))==null?void 0:e.promise}setOptions(e){this.options={...$(this,Bc),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,Ds).remove(this)}setData(e,t){const s=j0(this.state.data,e,this.options);return Ve(this,Hs,Xn).call(this,{data:s,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),s}setState(e,t){Ve(this,Hs,Xn).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var s,n;const t=(s=$(this,Li))==null?void 0:s.promise;return(n=$(this,Li))==null||n.cancel(e),t?t.then(Is).catch(Is):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Rl))}isActive(){return this.observers.some(e=>Vs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$y||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!UA(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=$(this,Li))==null||t.continue()}onOnline(){var t;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=$(this,Li))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),$(this,Ds).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||($(this,Li)&&($(this,Ha)?$(this,Li).cancel({revert:!0}):$(this,Li).cancelRetry()),this.scheduleGc()),$(this,Ds).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ve(this,Hs,Xn).call(this,{type:"invalidate"})}fetch(e,t){var h,d,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if($(this,Li))return $(this,Li).continueRetry(),$(this,Li).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,n=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(we(this,Ha,!0),s.signal)})},a=()=>{const p=zA(this.options,t),g={client:$(this,Ga),queryKey:this.queryKey,meta:this.meta};return n(g),we(this,Ha,!1),this.options.persister?this.options.persister(p,g,this):p(g)},l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:$(this,Ga),state:this.state,fetchFn:a};n(l),(h=this.options.behavior)==null||h.onFetch(l,this),we(this,Ll,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Ve(this,Hs,Xn).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const u=p=>{var g,E,b,k;Bg(p)&&p.silent||Ve(this,Hs,Xn).call(this,{type:"error",error:p}),Bg(p)||((E=(g=$(this,Ds).config).onError)==null||E.call(g,p,this),(k=(b=$(this,Ds).config).onSettled)==null||k.call(b,this.state.data,p,this)),this.scheduleGc()};return we(this,Li,qA({initialPromise:t==null?void 0:t.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var g,E,b,k;if(p===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(S){u(S);return}(E=(g=$(this,Ds).config).onSuccess)==null||E.call(g,p,this),(k=(b=$(this,Ds).config).onSettled)==null||k.call(b,p,this.state.error,this),this.scheduleGc()},onError:u,onFail:(p,g)=>{Ve(this,Hs,Xn).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{Ve(this,Hs,Xn).call(this,{type:"pause"})},onContinue:()=>{Ve(this,Hs,Xn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),$(this,Li).start()}},Rl=new WeakMap,Ll=new WeakMap,Ds=new WeakMap,Ga=new WeakMap,Li=new WeakMap,Bc=new WeakMap,Ha=new WeakMap,Hs=new WeakSet,Xn=function(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...KA(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return Bg(n)&&n.revert&&$(this,Ll)?{...$(this,Ll),fetchStatus:"idle"}:{...s,error:n,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),ui.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),$(this,Ds).notify({query:this,type:"updated",action:e})})},h1);function KA(i,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:GA(e.networkMode)?"fetching":"paused",...i===void 0&&{error:null,status:"pending"}}}function z2(i){const e=typeof i.initialData=="function"?i.initialData():i.initialData,t=e!==void 0,s=t?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var pn,f1,G2=(f1=class extends Xl{constructor(e={}){super();Me(this,pn);this.config=e,we(this,pn,new Map)}build(e,t,s){const n=t.queryKey,a=t.queryHash??Uy(n,t);let l=this.get(a);return l||(l=new $2({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(n)}),this.add(l)),l}add(e){$(this,pn).has(e.queryHash)||($(this,pn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=$(this,pn).get(e.queryHash);t&&(e.destroy(),t===e&&$(this,pn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ui.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,pn).get(e)}getAll(){return[...$(this,pn).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>hx(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>hx(e,s)):t}notify(e){ui.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ui.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ui.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},pn=new WeakMap,f1),gn,Fi,qa,yn,Br,m1,H2=(m1=class extends VA{constructor(e){super();Me(this,yn);Me(this,gn);Me(this,Fi);Me(this,qa);this.mutationId=e.mutationId,we(this,Fi,e.mutationCache),we(this,gn,[]),this.state=e.state||YA(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){$(this,gn).includes(e)||($(this,gn).push(e),this.clearGcTimeout(),$(this,Fi).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){we(this,gn,$(this,gn).filter(t=>t!==e)),this.scheduleGc(),$(this,Fi).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){$(this,gn).length||(this.state.status==="pending"?this.scheduleGc():$(this,Fi).remove(this))}continue(){var e;return((e=$(this,qa))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var n,a,l,u,h,d,m,p,g,E,b,k,S,x,_,w,R,C,I,L;we(this,qa,qA({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,M)=>{Ve(this,yn,Br).call(this,{type:"failed",failureCount:P,error:M})},onPause:()=>{Ve(this,yn,Br).call(this,{type:"pause"})},onContinue:()=>{Ve(this,yn,Br).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Fi).canRun(this)}));const t=this.state.status==="pending",s=!$(this,qa).canStart();try{if(!t){Ve(this,yn,Br).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(n=$(this,Fi).config).onMutate)==null?void 0:a.call(n,e,this));const M=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e));M!==this.state.context&&Ve(this,yn,Br).call(this,{type:"pending",context:M,variables:e,isPaused:s})}const P=await $(this,qa).start();return await((d=(h=$(this,Fi).config).onSuccess)==null?void 0:d.call(h,P,e,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,P,e,this.state.context)),await((E=(g=$(this,Fi).config).onSettled)==null?void 0:E.call(g,P,null,this.state.variables,this.state.context,this)),await((k=(b=this.options).onSettled)==null?void 0:k.call(b,P,null,e,this.state.context)),Ve(this,yn,Br).call(this,{type:"success",data:P}),P}catch(P){try{throw await((x=(S=$(this,Fi).config).onError)==null?void 0:x.call(S,P,e,this.state.context,this)),await((w=(_=this.options).onError)==null?void 0:w.call(_,P,e,this.state.context)),await((C=(R=$(this,Fi).config).onSettled)==null?void 0:C.call(R,void 0,P,this.state.variables,this.state.context,this)),await((L=(I=this.options).onSettled)==null?void 0:L.call(I,void 0,P,e,this.state.context)),P}finally{Ve(this,yn,Br).call(this,{type:"error",error:P})}}finally{$(this,Fi).runNext(this)}}},gn=new WeakMap,Fi=new WeakMap,qa=new WeakMap,yn=new WeakSet,Br=function(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ui.batch(()=>{$(this,gn).forEach(s=>{s.onMutationUpdate(e)}),$(this,Fi).notify({mutation:this,type:"updated",action:e})})},m1);function YA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ir,qs,Uc,p1,q2=(p1=class extends Xl{constructor(e={}){super();Me(this,ir);Me(this,qs);Me(this,Uc);this.config=e,we(this,ir,new Set),we(this,qs,new Map),we(this,Uc,0)}build(e,t,s){const n=new H2({mutationCache:this,mutationId:++uh(this,Uc)._,options:e.defaultMutationOptions(t),state:s});return this.add(n),n}add(e){$(this,ir).add(e);const t=gh(e);if(typeof t=="string"){const s=$(this,qs).get(t);s?s.push(e):$(this,qs).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if($(this,ir).delete(e)){const t=gh(e);if(typeof t=="string"){const s=$(this,qs).get(t);if(s)if(s.length>1){const n=s.indexOf(e);n!==-1&&s.splice(n,1)}else s[0]===e&&$(this,qs).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=gh(e);if(typeof t=="string"){const s=$(this,qs).get(t),n=s==null?void 0:s.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){var s;const t=gh(e);if(typeof t=="string"){const n=(s=$(this,qs).get(t))==null?void 0:s.find(a=>a!==e&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ui.batch(()=>{$(this,ir).forEach(e=>{this.notify({type:"removed",mutation:e})}),$(this,ir).clear(),$(this,qs).clear()})}getAll(){return Array.from($(this,ir))}find(e){const t={exact:!0,...e};return this.getAll().find(s=>fx(t,s))}findAll(e={}){return this.getAll().filter(t=>fx(e,t))}notify(e){ui.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ui.batch(()=>Promise.all(e.map(t=>t.continue().catch(Is))))}},ir=new WeakMap,qs=new WeakMap,Uc=new WeakMap,p1);function gh(i){var e;return(e=i.options.scope)==null?void 0:e.id}function gx(i){return{onFetch:(e,t)=>{var m,p,g,E,b;const s=e.options,n=(g=(p=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:p.fetchMore)==null?void 0:g.direction,a=((E=e.state.data)==null?void 0:E.pages)||[],l=((b=e.state.data)==null?void 0:b.pageParams)||[];let u={pages:[],pageParams:[]},h=0;const d=async()=>{let k=!1;const S=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?k=!0:e.signal.addEventListener("abort",()=>{k=!0}),e.signal)})},x=zA(e.options,e.fetchOptions),_=async(w,R,C)=>{if(k)return Promise.reject();if(R==null&&w.pages.length)return Promise.resolve(w);const I={client:e.client,queryKey:e.queryKey,pageParam:R,direction:C?"backward":"forward",meta:e.options.meta};S(I);const L=await x(I),{maxPages:P}=e.options,M=C?M2:O2;return{pages:M(w.pages,L,P),pageParams:M(w.pageParams,R,P)}};if(n&&a.length){const w=n==="backward",R=w?V2:yx,C={pages:a,pageParams:l},I=R(s,C);u=await _(C,I,w)}else{const w=i??a.length;do{const R=h===0?l[0]??s.initialPageParam:yx(s,u);if(h>0&&R==null)break;u=await _(u,R),h++}while(h<w)}return u};e.options.persister?e.fetchFn=()=>{var k,S;return(S=(k=e.options).persister)==null?void 0:S.call(k,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=d}}}function yx(i,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?i.getNextPageParam(e[s],e,t[s],t):void 0}function V2(i,{pages:e,pageParams:t}){var s;return e.length>0?(s=i.getPreviousPageParam)==null?void 0:s.call(i,e[0],e,t[0],t):void 0}var Kt,Yr,Wr,Cl,Dl,Xr,Il,jl,g1,K2=(g1=class{constructor(i={}){Me(this,Kt);Me(this,Yr);Me(this,Wr);Me(this,Cl);Me(this,Dl);Me(this,Xr);Me(this,Il);Me(this,jl);we(this,Kt,i.queryCache||new G2),we(this,Yr,i.mutationCache||new q2),we(this,Wr,i.defaultOptions||{}),we(this,Cl,new Map),we(this,Dl,new Map),we(this,Xr,0)}mount(){uh(this,Xr)._++,$(this,Xr)===1&&(we(this,Il,zy.subscribe(async i=>{i&&(await this.resumePausedMutations(),$(this,Kt).onFocus())})),we(this,jl,hf.subscribe(async i=>{i&&(await this.resumePausedMutations(),$(this,Kt).onOnline())})))}unmount(){var i,e;uh(this,Xr)._--,$(this,Xr)===0&&((i=$(this,Il))==null||i.call(this),we(this,Il,void 0),(e=$(this,jl))==null||e.call(this),we(this,jl,void 0))}isFetching(i){return $(this,Kt).findAll({...i,fetchStatus:"fetching"}).length}isMutating(i){return $(this,Yr).findAll({...i,status:"pending"}).length}getQueryData(i){var t;const e=this.defaultQueryOptions({queryKey:i});return(t=$(this,Kt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(i){const e=this.defaultQueryOptions(i),t=$(this,Kt).build(this,e),s=t.state.data;return s===void 0?this.fetchQuery(i):(i.revalidateIfStale&&t.isStaleByTime(yl(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(i){return $(this,Kt).findAll(i).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(i,e,t){const s=this.defaultQueryOptions({queryKey:i}),n=$(this,Kt).get(s.queryHash),a=n==null?void 0:n.state.data,l=I2(e,a);if(l!==void 0)return $(this,Kt).build(this,s).setData(l,{...t,manual:!0})}setQueriesData(i,e,t){return ui.batch(()=>$(this,Kt).findAll(i).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(i){var t;const e=this.defaultQueryOptions({queryKey:i});return(t=$(this,Kt).get(e.queryHash))==null?void 0:t.state}removeQueries(i){const e=$(this,Kt);ui.batch(()=>{e.findAll(i).forEach(t=>{e.remove(t)})})}resetQueries(i,e){const t=$(this,Kt);return ui.batch(()=>(t.findAll(i).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...i},e)))}cancelQueries(i,e={}){const t={revert:!0,...e},s=ui.batch(()=>$(this,Kt).findAll(i).map(n=>n.cancel(t)));return Promise.all(s).then(Is).catch(Is)}invalidateQueries(i,e={}){return ui.batch(()=>($(this,Kt).findAll(i).forEach(t=>{t.invalidate()}),(i==null?void 0:i.refetchType)==="none"?Promise.resolve():this.refetchQueries({...i,type:(i==null?void 0:i.refetchType)??(i==null?void 0:i.type)??"active"},e)))}refetchQueries(i,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},s=ui.batch(()=>$(this,Kt).findAll(i).filter(n=>!n.isDisabled()).map(n=>{let a=n.fetch(void 0,t);return t.throwOnError||(a=a.catch(Is)),n.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(Is)}fetchQuery(i){const e=this.defaultQueryOptions(i);e.retry===void 0&&(e.retry=!1);const t=$(this,Kt).build(this,e);return t.isStaleByTime(yl(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(Is).catch(Is)}fetchInfiniteQuery(i){return i.behavior=gx(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(Is).catch(Is)}ensureInfiniteQueryData(i){return i.behavior=gx(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return hf.isOnline()?$(this,Yr).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,Kt)}getMutationCache(){return $(this,Yr)}getDefaultOptions(){return $(this,Wr)}setDefaultOptions(i){we(this,Wr,i)}setQueryDefaults(i,e){$(this,Cl).set(no(i),{queryKey:i,defaultOptions:e})}getQueryDefaults(i){const e=[...$(this,Cl).values()],t={};return e.forEach(s=>{gc(i,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(i,e){$(this,Dl).set(no(i),{mutationKey:i,defaultOptions:e})}getMutationDefaults(i){const e=[...$(this,Dl).values()],t={};return e.forEach(s=>{gc(i,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(i){if(i._defaulted)return i;const e={...$(this,Wr).queries,...this.getQueryDefaults(i.queryKey),...i,_defaulted:!0};return e.queryHash||(e.queryHash=Uy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===$y&&(e.enabled=!1),e}defaultMutationOptions(i){return i!=null&&i._defaulted?i:{...$(this,Wr).mutations,...(i==null?void 0:i.mutationKey)&&this.getMutationDefaults(i.mutationKey),...i,_defaulted:!0}}clear(){$(this,Kt).clear(),$(this,Yr).clear()}},Kt=new WeakMap,Yr=new WeakMap,Wr=new WeakMap,Cl=new WeakMap,Dl=new WeakMap,Xr=new WeakMap,Il=new WeakMap,jl=new WeakMap,g1),Ji,ht,$c,Bi,Va,Ol,Qr,vn,zc,Ml,Pl,Ka,Ya,Zr,Nl,St,tc,M0,P0,N0,F0,B0,U0,$0,WA,y1,Y2=(y1=class extends Xl{constructor(e,t){super();Me(this,St);Me(this,Ji);Me(this,ht);Me(this,$c);Me(this,Bi);Me(this,Va);Me(this,Ol);Me(this,Qr);Me(this,vn);Me(this,zc);Me(this,Ml);Me(this,Pl);Me(this,Ka);Me(this,Ya);Me(this,Zr);Me(this,Nl,new Set);this.options=t,we(this,Ji,e),we(this,vn,null),we(this,Qr,O0()),this.options.experimental_prefetchInRender||$(this,Qr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,ht).addObserver(this),vx($(this,ht),this.options)?Ve(this,St,tc).call(this):this.updateResult(),Ve(this,St,F0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return z0($(this,ht),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return z0($(this,ht),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ve(this,St,B0).call(this),Ve(this,St,U0).call(this),$(this,ht).removeObserver(this)}setOptions(e){const t=this.options,s=$(this,ht);if(this.options=$(this,Ji).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vs(this.options.enabled,$(this,ht))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ve(this,St,$0).call(this),$(this,ht).setOptions(this.options),t._defaulted&&!df(this.options,t)&&$(this,Ji).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,ht),observer:this});const n=this.hasListeners();n&&bx($(this,ht),s,this.options,t)&&Ve(this,St,tc).call(this),this.updateResult(),n&&($(this,ht)!==s||Vs(this.options.enabled,$(this,ht))!==Vs(t.enabled,$(this,ht))||yl(this.options.staleTime,$(this,ht))!==yl(t.staleTime,$(this,ht)))&&Ve(this,St,M0).call(this);const a=Ve(this,St,P0).call(this);n&&($(this,ht)!==s||Vs(this.options.enabled,$(this,ht))!==Vs(t.enabled,$(this,ht))||a!==$(this,Zr))&&Ve(this,St,N0).call(this,a)}getOptimisticResult(e){const t=$(this,Ji).getQueryCache().build($(this,Ji),e),s=this.createResult(t,e);return X2(this,s)&&(we(this,Bi,s),we(this,Ol,this.options),we(this,Va,$(this,ht).state)),s}getCurrentResult(){return $(this,Bi)}trackResult(e,t){const s={};return Object.keys(e).forEach(n=>{Object.defineProperty(s,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),t==null||t(n),e[n])})}),s}trackProp(e){$(this,Nl).add(e)}getCurrentQuery(){return $(this,ht)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=$(this,Ji).defaultQueryOptions(e),s=$(this,Ji).getQueryCache().build($(this,Ji),t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return Ve(this,St,tc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,Bi)))}createResult(e,t){var P;const s=$(this,ht),n=this.options,a=$(this,Bi),l=$(this,Va),u=$(this,Ol),d=e!==s?e.state:$(this,$c),{state:m}=e;let p={...m},g=!1,E;if(t._optimisticResults){const M=this.hasListeners(),N=!M&&vx(e,t),H=M&&bx(e,s,t,n);(N||H)&&(p={...p,...KA(m.data,e.options)}),t._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:b,errorUpdatedAt:k,status:S}=p;if(t.select&&p.data!==void 0)if(a&&p.data===(l==null?void 0:l.data)&&t.select===$(this,zc))E=$(this,Ml);else try{we(this,zc,t.select),E=t.select(p.data),E=j0(a==null?void 0:a.data,E,t),we(this,Ml,E),we(this,vn,null)}catch(M){we(this,vn,M)}else E=p.data;if(t.placeholderData!==void 0&&E===void 0&&S==="pending"){let M;if(a!=null&&a.isPlaceholderData&&t.placeholderData===(u==null?void 0:u.placeholderData))M=a.data;else if(M=typeof t.placeholderData=="function"?t.placeholderData((P=$(this,Pl))==null?void 0:P.state.data,$(this,Pl)):t.placeholderData,t.select&&M!==void 0)try{M=t.select(M),we(this,vn,null)}catch(N){we(this,vn,N)}M!==void 0&&(S="success",E=j0(a==null?void 0:a.data,M,t),g=!0)}$(this,vn)&&(b=$(this,vn),E=$(this,Ml),k=Date.now(),S="error");const x=p.fetchStatus==="fetching",_=S==="pending",w=S==="error",R=_&&x,C=E!==void 0,L={status:S,fetchStatus:p.fetchStatus,isPending:_,isSuccess:S==="success",isError:w,isInitialLoading:R,isLoading:R,data:E,dataUpdatedAt:p.dataUpdatedAt,error:b,errorUpdatedAt:k,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!_,isLoadingError:w&&!C,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:w&&C,isStale:Gy(e,t),refetch:this.refetch,promise:$(this,Qr)};if(this.options.experimental_prefetchInRender){const M=se=>{L.status==="error"?se.reject(L.error):L.data!==void 0&&se.resolve(L.data)},N=()=>{const se=we(this,Qr,L.promise=O0());M(se)},H=$(this,Qr);switch(H.status){case"pending":e.queryHash===s.queryHash&&M(H);break;case"fulfilled":(L.status==="error"||L.data!==H.value)&&N();break;case"rejected":(L.status!=="error"||L.error!==H.reason)&&N();break}}return L}updateResult(){const e=$(this,Bi),t=this.createResult($(this,ht),this.options);if(we(this,Va,$(this,ht).state),we(this,Ol,this.options),$(this,Va).data!==void 0&&we(this,Pl,$(this,ht)),df(t,e))return;we(this,Bi,t);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!$(this,Nl).size)return!0;const l=new Set(a??$(this,Nl));return this.options.throwOnError&&l.add("error"),Object.keys($(this,Bi)).some(u=>{const h=u;return $(this,Bi)[h]!==e[h]&&l.has(h)})};Ve(this,St,WA).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ve(this,St,F0).call(this)}},Ji=new WeakMap,ht=new WeakMap,$c=new WeakMap,Bi=new WeakMap,Va=new WeakMap,Ol=new WeakMap,Qr=new WeakMap,vn=new WeakMap,zc=new WeakMap,Ml=new WeakMap,Pl=new WeakMap,Ka=new WeakMap,Ya=new WeakMap,Zr=new WeakMap,Nl=new WeakMap,St=new WeakSet,tc=function(e){Ve(this,St,$0).call(this);let t=$(this,ht).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Is)),t},M0=function(){Ve(this,St,B0).call(this);const e=yl(this.options.staleTime,$(this,ht));if(so||$(this,Bi).isStale||!D0(e))return;const s=UA($(this,Bi).dataUpdatedAt,e)+1;we(this,Ka,setTimeout(()=>{$(this,Bi).isStale||this.updateResult()},s))},P0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,ht)):this.options.refetchInterval)??!1},N0=function(e){Ve(this,St,U0).call(this),we(this,Zr,e),!(so||Vs(this.options.enabled,$(this,ht))===!1||!D0($(this,Zr))||$(this,Zr)===0)&&we(this,Ya,setInterval(()=>{(this.options.refetchIntervalInBackground||zy.isFocused())&&Ve(this,St,tc).call(this)},$(this,Zr)))},F0=function(){Ve(this,St,M0).call(this),Ve(this,St,N0).call(this,Ve(this,St,P0).call(this))},B0=function(){$(this,Ka)&&(clearTimeout($(this,Ka)),we(this,Ka,void 0))},U0=function(){$(this,Ya)&&(clearInterval($(this,Ya)),we(this,Ya,void 0))},$0=function(){const e=$(this,Ji).getQueryCache().build($(this,Ji),this.options);if(e===$(this,ht))return;const t=$(this,ht);we(this,ht,e),we(this,$c,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},WA=function(e){ui.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t($(this,Bi))}),$(this,Ji).getQueryCache().notify({query:$(this,ht),type:"observerResultsUpdated"})})},y1);function W2(i,e){return Vs(e.enabled,i)!==!1&&i.state.data===void 0&&!(i.state.status==="error"&&e.retryOnMount===!1)}function vx(i,e){return W2(i,e)||i.state.data!==void 0&&z0(i,e,e.refetchOnMount)}function z0(i,e,t){if(Vs(e.enabled,i)!==!1){const s=typeof t=="function"?t(i):t;return s==="always"||s!==!1&&Gy(i,e)}return!1}function bx(i,e,t,s){return(i!==e||Vs(s.enabled,i)===!1)&&(!t.suspense||i.state.status!=="error")&&Gy(i,t)}function Gy(i,e){return Vs(e.enabled,i)!==!1&&i.isStaleByTime(yl(e.staleTime,i))}function X2(i,e){return!df(i.getCurrentResult(),e)}var Jr,ea,es,sr,rr,$h,G0,v1,Q2=(v1=class extends Xl{constructor(t,s){super();Me(this,rr);Me(this,Jr);Me(this,ea);Me(this,es);Me(this,sr);we(this,Jr,t),this.setOptions(s),this.bindMethods(),Ve(this,rr,$h).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const s=this.options;this.options=$(this,Jr).defaultMutationOptions(t),df(this.options,s)||$(this,Jr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:$(this,es),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&no(s.mutationKey)!==no(this.options.mutationKey)?this.reset():((n=$(this,es))==null?void 0:n.state.status)==="pending"&&$(this,es).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=$(this,es))==null||t.removeObserver(this)}onMutationUpdate(t){Ve(this,rr,$h).call(this),Ve(this,rr,G0).call(this,t)}getCurrentResult(){return $(this,ea)}reset(){var t;(t=$(this,es))==null||t.removeObserver(this),we(this,es,void 0),Ve(this,rr,$h).call(this),Ve(this,rr,G0).call(this)}mutate(t,s){var n;return we(this,sr,s),(n=$(this,es))==null||n.removeObserver(this),we(this,es,$(this,Jr).getMutationCache().build($(this,Jr),this.options)),$(this,es).addObserver(this),$(this,es).execute(t)}},Jr=new WeakMap,ea=new WeakMap,es=new WeakMap,sr=new WeakMap,rr=new WeakSet,$h=function(){var s;const t=((s=$(this,es))==null?void 0:s.state)??YA();we(this,ea,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},G0=function(t){ui.batch(()=>{var s,n,a,l,u,h,d,m;if($(this,sr)&&this.hasListeners()){const p=$(this,ea).variables,g=$(this,ea).context;(t==null?void 0:t.type)==="success"?((n=(s=$(this,sr)).onSuccess)==null||n.call(s,t.data,p,g),(l=(a=$(this,sr)).onSettled)==null||l.call(a,t.data,null,p,g)):(t==null?void 0:t.type)==="error"&&((h=(u=$(this,sr)).onError)==null||h.call(u,t.error,p,g),(m=(d=$(this,sr)).onSettled)==null||m.call(d,void 0,t.error,p,g))}this.listeners.forEach(p=>{p($(this,ea))})})},v1),XA=$e.createContext(void 0),QA=i=>{const e=$e.useContext(XA);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Z2=({client:i,children:e})=>($e.useEffect(()=>(i.mount(),()=>{i.unmount()}),[i]),ke.jsx(XA.Provider,{value:i,children:e})),ZA=$e.createContext(!1),J2=()=>$e.useContext(ZA);ZA.Provider;function eP(){let i=!1;return{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i}}var tP=$e.createContext(eP()),iP=()=>$e.useContext(tP);function JA(i,e){return typeof i=="function"?i(...e):!!i}function H0(){}var sP=(i,e)=>{(i.suspense||i.throwOnError||i.experimental_prefetchInRender)&&(e.isReset()||(i.retryOnMount=!1))},nP=i=>{$e.useEffect(()=>{i.clearReset()},[i])},rP=({result:i,errorResetBoundary:e,throwOnError:t,query:s,suspense:n})=>i.isError&&!e.isReset()&&!i.isFetching&&s&&(n&&i.data===void 0||JA(t,[i.error,s])),aP=i=>{const e=i.staleTime;i.suspense&&(i.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof i.gcTime=="number"&&(i.gcTime=Math.max(i.gcTime,1e3)))},oP=(i,e)=>i.isLoading&&i.isFetching&&!e,lP=(i,e)=>(i==null?void 0:i.suspense)&&e.isPending,Ex=(i,e,t)=>e.fetchOptimistic(i).catch(()=>{t.clearReset()});function uP(i,e,t){var p,g,E,b,k;const s=QA(),n=J2(),a=iP(),l=s.defaultQueryOptions(i);(g=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||g.call(p,l),l._optimisticResults=n?"isRestoring":"optimistic",aP(l),sP(l,a),nP(a);const u=!s.getQueryCache().get(l.queryHash),[h]=$e.useState(()=>new e(s,l)),d=h.getOptimisticResult(l),m=!n&&i.subscribed!==!1;if($e.useSyncExternalStore($e.useCallback(S=>{const x=m?h.subscribe(ui.batchCalls(S)):H0;return h.updateResult(),x},[h,m]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),$e.useEffect(()=>{h.setOptions(l)},[l,h]),lP(l,d))throw Ex(l,h,a);if(rP({result:d,errorResetBoundary:a,throwOnError:l.throwOnError,query:s.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw d.error;if((b=(E=s.getDefaultOptions().queries)==null?void 0:E._experimental_afterQuery)==null||b.call(E,l,d),l.experimental_prefetchInRender&&!so&&oP(d,n)){const S=u?Ex(l,h,a):(k=s.getQueryCache().get(l.queryHash))==null?void 0:k.promise;S==null||S.catch(H0).finally(()=>{h.updateResult()})}return l.notifyOnChangeProps?d:h.trackResult(d)}function cP(i,e){return uP(i,Y2)}function ew(i,e){const t=QA(),[s]=$e.useState(()=>new Q2(t,i));$e.useEffect(()=>{s.setOptions(i)},[s,i]);const n=$e.useSyncExternalStore($e.useCallback(l=>s.subscribe(ui.batchCalls(l)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=$e.useCallback((l,u)=>{s.mutate(l,u).catch(H0)},[s]);if(n.error&&JA(s.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:a,mutateAsync:n.mutate}}function tw(i,e){return function(){return i.apply(e,arguments)}}const{toString:dP}=Object.prototype,{getPrototypeOf:Hy}=Object,Wf=(i=>e=>{const t=dP.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Zs=i=>(i=i.toLowerCase(),e=>Wf(e)===i),Xf=i=>e=>typeof e===i,{isArray:Ql}=Array,yc=Xf("undefined");function hP(i){return i!==null&&!yc(i)&&i.constructor!==null&&!yc(i.constructor)&&bs(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const iw=Zs("ArrayBuffer");function fP(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&iw(i.buffer),e}const mP=Xf("string"),bs=Xf("function"),sw=Xf("number"),Qf=i=>i!==null&&typeof i=="object",pP=i=>i===!0||i===!1,zh=i=>{if(Wf(i)!=="object")return!1;const e=Hy(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},gP=Zs("Date"),yP=Zs("File"),vP=Zs("Blob"),bP=Zs("FileList"),EP=i=>Qf(i)&&bs(i.pipe),kP=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||bs(i.append)&&((e=Wf(i))==="formdata"||e==="object"&&bs(i.toString)&&i.toString()==="[object FormData]"))},SP=Zs("URLSearchParams"),[xP,TP,AP,wP]=["ReadableStream","Request","Response","Headers"].map(Zs),_P=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vc(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let s,n;if(typeof i!="object"&&(i=[i]),Ql(i))for(s=0,n=i.length;s<n;s++)e.call(null,i[s],s,i);else{const a=t?Object.getOwnPropertyNames(i):Object.keys(i),l=a.length;let u;for(s=0;s<l;s++)u=a[s],e.call(null,i[u],u,i)}}function nw(i,e){e=e.toLowerCase();const t=Object.keys(i);let s=t.length,n;for(;s-- >0;)if(n=t[s],e===n.toLowerCase())return n;return null}const Ua=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rw=i=>!yc(i)&&i!==Ua;function q0(){const{caseless:i}=rw(this)&&this||{},e={},t=(s,n)=>{const a=i&&nw(e,n)||n;zh(e[a])&&zh(s)?e[a]=q0(e[a],s):zh(s)?e[a]=q0({},s):Ql(s)?e[a]=s.slice():e[a]=s};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&Vc(arguments[s],t);return e}const RP=(i,e,t,{allOwnKeys:s}={})=>(Vc(e,(n,a)=>{t&&bs(n)?i[a]=tw(n,t):i[a]=n},{allOwnKeys:s}),i),LP=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),CP=(i,e,t,s)=>{i.prototype=Object.create(e.prototype,s),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},DP=(i,e,t,s)=>{let n,a,l;const u={};if(e=e||{},i==null)return e;do{for(n=Object.getOwnPropertyNames(i),a=n.length;a-- >0;)l=n[a],(!s||s(l,i,e))&&!u[l]&&(e[l]=i[l],u[l]=!0);i=t!==!1&&Hy(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},IP=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const s=i.indexOf(e,t);return s!==-1&&s===t},jP=i=>{if(!i)return null;if(Ql(i))return i;let e=i.length;if(!sw(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},OP=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&Hy(Uint8Array)),MP=(i,e)=>{const s=(i&&i[Symbol.iterator]).call(i);let n;for(;(n=s.next())&&!n.done;){const a=n.value;e.call(i,a[0],a[1])}},PP=(i,e)=>{let t;const s=[];for(;(t=i.exec(e))!==null;)s.push(t);return s},NP=Zs("HTMLFormElement"),FP=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,n){return s.toUpperCase()+n}),kx=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),BP=Zs("RegExp"),aw=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),s={};Vc(t,(n,a)=>{let l;(l=e(n,a,i))!==!1&&(s[a]=l||n)}),Object.defineProperties(i,s)},UP=i=>{aw(i,(e,t)=>{if(bs(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=i[t];if(bs(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},$P=(i,e)=>{const t={},s=n=>{n.forEach(a=>{t[a]=!0})};return Ql(i)?s(i):s(String(i).split(e)),t},zP=()=>{},GP=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function HP(i){return!!(i&&bs(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const qP=i=>{const e=new Array(10),t=(s,n)=>{if(Qf(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[n]=s;const a=Ql(s)?[]:{};return Vc(s,(l,u)=>{const h=t(l,n+1);!yc(h)&&(a[u]=h)}),e[n]=void 0,a}}return s};return t(i,0)},VP=Zs("AsyncFunction"),KP=i=>i&&(Qf(i)||bs(i))&&bs(i.then)&&bs(i.catch),ow=((i,e)=>i?setImmediate:e?((t,s)=>(Ua.addEventListener("message",({source:n,data:a})=>{n===Ua&&a===t&&s.length&&s.shift()()},!1),n=>{s.push(n),Ua.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",bs(Ua.postMessage)),YP=typeof queueMicrotask<"u"?queueMicrotask.bind(Ua):typeof process<"u"&&process.nextTick||ow,oe={isArray:Ql,isArrayBuffer:iw,isBuffer:hP,isFormData:kP,isArrayBufferView:fP,isString:mP,isNumber:sw,isBoolean:pP,isObject:Qf,isPlainObject:zh,isReadableStream:xP,isRequest:TP,isResponse:AP,isHeaders:wP,isUndefined:yc,isDate:gP,isFile:yP,isBlob:vP,isRegExp:BP,isFunction:bs,isStream:EP,isURLSearchParams:SP,isTypedArray:OP,isFileList:bP,forEach:Vc,merge:q0,extend:RP,trim:_P,stripBOM:LP,inherits:CP,toFlatObject:DP,kindOf:Wf,kindOfTest:Zs,endsWith:IP,toArray:jP,forEachEntry:MP,matchAll:PP,isHTMLForm:NP,hasOwnProperty:kx,hasOwnProp:kx,reduceDescriptors:aw,freezeMethods:UP,toObjectSet:$P,toCamelCase:FP,noop:zP,toFiniteNumber:GP,findKey:nw,global:Ua,isContextDefined:rw,isSpecCompliantForm:HP,toJSONObject:qP,isAsyncFn:VP,isThenable:KP,setImmediate:ow,asap:YP};function Xe(i,e,t,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}oe.inherits(Xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const lw=Xe.prototype,uw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{uw[i]={value:i}});Object.defineProperties(Xe,uw);Object.defineProperty(lw,"isAxiosError",{value:!0});Xe.from=(i,e,t,s,n,a)=>{const l=Object.create(lw);return oe.toFlatObject(i,l,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),Xe.call(l,i.message,e,t,s,n),l.cause=i,l.name=i.name,a&&Object.assign(l,a),l};const WP=null;function V0(i){return oe.isPlainObject(i)||oe.isArray(i)}function cw(i){return oe.endsWith(i,"[]")?i.slice(0,-2):i}function Sx(i,e,t){return i?i.concat(e).map(function(n,a){return n=cw(n),!t&&a?"["+n+"]":n}).join(t?".":""):e}function XP(i){return oe.isArray(i)&&!i.some(V0)}const QP=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function Zf(i,e,t){if(!oe.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,S){return!oe.isUndefined(S[k])});const s=t.metaTokens,n=t.visitor||m,a=t.dots,l=t.indexes,h=(t.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(n))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(oe.isDate(b))return b.toISOString();if(!h&&oe.isBlob(b))throw new Xe("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(b)||oe.isTypedArray(b)?h&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function m(b,k,S){let x=b;if(b&&!S&&typeof b=="object"){if(oe.endsWith(k,"{}"))k=s?k:k.slice(0,-2),b=JSON.stringify(b);else if(oe.isArray(b)&&XP(b)||(oe.isFileList(b)||oe.endsWith(k,"[]"))&&(x=oe.toArray(b)))return k=cw(k),x.forEach(function(w,R){!(oe.isUndefined(w)||w===null)&&e.append(l===!0?Sx([k],R,a):l===null?k:k+"[]",d(w))}),!1}return V0(b)?!0:(e.append(Sx(S,k,a),d(b)),!1)}const p=[],g=Object.assign(QP,{defaultVisitor:m,convertValue:d,isVisitable:V0});function E(b,k){if(!oe.isUndefined(b)){if(p.indexOf(b)!==-1)throw Error("Circular reference detected in "+k.join("."));p.push(b),oe.forEach(b,function(x,_){(!(oe.isUndefined(x)||x===null)&&n.call(e,x,oe.isString(_)?_.trim():_,k,g))===!0&&E(x,k?k.concat(_):[_])}),p.pop()}}if(!oe.isObject(i))throw new TypeError("data must be an object");return E(i),e}function xx(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function qy(i,e){this._pairs=[],i&&Zf(i,this,e)}const dw=qy.prototype;dw.append=function(e,t){this._pairs.push([e,t])};dw.toString=function(e){const t=e?function(s){return e.call(this,s,xx)}:xx;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};function ZP(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hw(i,e,t){if(!e)return i;const s=t&&t.encode||ZP;oe.isFunction(t)&&(t={serialize:t});const n=t&&t.serialize;let a;if(n?a=n(e,t):a=oe.isURLSearchParams(e)?e.toString():new qy(e,t).toString(s),a){const l=i.indexOf("#");l!==-1&&(i=i.slice(0,l)),i+=(i.indexOf("?")===-1?"?":"&")+a}return i}class Tx{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(s){s!==null&&e(s)})}}const fw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},JP=typeof URLSearchParams<"u"?URLSearchParams:qy,eN=typeof FormData<"u"?FormData:null,tN=typeof Blob<"u"?Blob:null,iN={isBrowser:!0,classes:{URLSearchParams:JP,FormData:eN,Blob:tN},protocols:["http","https","file","blob","url","data"]},Vy=typeof window<"u"&&typeof document<"u",K0=typeof navigator=="object"&&navigator||void 0,sN=Vy&&(!K0||["ReactNative","NativeScript","NS"].indexOf(K0.product)<0),nN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rN=Vy&&window.location.href||"http://localhost",aN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vy,hasStandardBrowserEnv:sN,hasStandardBrowserWebWorkerEnv:nN,navigator:K0,origin:rN},Symbol.toStringTag,{value:"Module"})),Di={...aN,...iN};function oN(i,e){return Zf(i,new Di.classes.URLSearchParams,Object.assign({visitor:function(t,s,n,a){return Di.isNode&&oe.isBuffer(t)?(this.append(s,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function lN(i){return oe.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function uN(i){const e={},t=Object.keys(i);let s;const n=t.length;let a;for(s=0;s<n;s++)a=t[s],e[a]=i[a];return e}function mw(i){function e(t,s,n,a){let l=t[a++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),h=a>=t.length;return l=!l&&oe.isArray(n)?n.length:l,h?(oe.hasOwnProp(n,l)?n[l]=[n[l],s]:n[l]=s,!u):((!n[l]||!oe.isObject(n[l]))&&(n[l]=[]),e(t,s,n[l],a)&&oe.isArray(n[l])&&(n[l]=uN(n[l])),!u)}if(oe.isFormData(i)&&oe.isFunction(i.entries)){const t={};return oe.forEachEntry(i,(s,n)=>{e(lN(s),n,t,0)}),t}return null}function cN(i,e,t){if(oe.isString(i))try{return(e||JSON.parse)(i),oe.trim(i)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(i)}const Kc={transitional:fw,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",n=s.indexOf("application/json")>-1,a=oe.isObject(e);if(a&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return n?JSON.stringify(mw(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return oN(e,this.formSerializer).toString();if((u=oe.isFileList(e))||s.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Zf(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return a||n?(t.setContentType("application/json",!1),cN(e)):e}],transformResponse:[function(e){const t=this.transitional||Kc.transitional,s=t&&t.forcedJSONParsing,n=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(s&&!this.responseType||n)){const l=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?Xe.from(u,Xe.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Di.classes.FormData,Blob:Di.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],i=>{Kc.headers[i]={}});const dN=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hN=i=>{const e={};let t,s,n;return i&&i.split(`
`).forEach(function(l){n=l.indexOf(":"),t=l.substring(0,n).trim().toLowerCase(),s=l.substring(n+1).trim(),!(!t||e[t]&&dN[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},Ax=Symbol("internals");function Zu(i){return i&&String(i).trim().toLowerCase()}function Gh(i){return i===!1||i==null?i:oe.isArray(i)?i.map(Gh):String(i)}function fN(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(i);)e[s[1]]=s[2];return e}const mN=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Ug(i,e,t,s,n){if(oe.isFunction(s))return s.call(this,e,t);if(n&&(e=t),!!oe.isString(e)){if(oe.isString(s))return e.indexOf(s)!==-1;if(oe.isRegExp(s))return s.test(e)}}function pN(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function gN(i,e){const t=oe.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(i,s+t,{value:function(n,a,l){return this[s].call(this,e,n,a,l)},configurable:!0})})}let ss=class{constructor(e){e&&this.set(e)}set(e,t,s){const n=this;function a(u,h,d){const m=Zu(h);if(!m)throw new Error("header name must be a non-empty string");const p=oe.findKey(n,m);(!p||n[p]===void 0||d===!0||d===void 0&&n[p]!==!1)&&(n[p||h]=Gh(u))}const l=(u,h)=>oe.forEach(u,(d,m)=>a(d,m,h));if(oe.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(oe.isString(e)&&(e=e.trim())&&!mN(e))l(hN(e),t);else if(oe.isHeaders(e))for(const[u,h]of e.entries())a(h,u,s);else e!=null&&a(t,e,s);return this}get(e,t){if(e=Zu(e),e){const s=oe.findKey(this,e);if(s){const n=this[s];if(!t)return n;if(t===!0)return fN(n);if(oe.isFunction(t))return t.call(this,n,s);if(oe.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Zu(e),e){const s=oe.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||Ug(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let n=!1;function a(l){if(l=Zu(l),l){const u=oe.findKey(s,l);u&&(!t||Ug(s,s[u],u,t))&&(delete s[u],n=!0)}}return oe.isArray(e)?e.forEach(a):a(e),n}clear(e){const t=Object.keys(this);let s=t.length,n=!1;for(;s--;){const a=t[s];(!e||Ug(this,this[a],a,e,!0))&&(delete this[a],n=!0)}return n}normalize(e){const t=this,s={};return oe.forEach(this,(n,a)=>{const l=oe.findKey(s,a);if(l){t[l]=Gh(n),delete t[a];return}const u=e?pN(a):String(a).trim();u!==a&&delete t[a],t[u]=Gh(n),s[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oe.forEach(this,(s,n)=>{s!=null&&s!==!1&&(t[n]=e&&oe.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(n=>s.set(n)),s}static accessor(e){const s=(this[Ax]=this[Ax]={accessors:{}}).accessors,n=this.prototype;function a(l){const u=Zu(l);s[u]||(gN(n,l),s[u]=!0)}return oe.isArray(e)?e.forEach(a):a(e),this}};ss.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(ss.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(s){this[t]=s}}});oe.freezeMethods(ss);function $g(i,e){const t=this||Kc,s=e||t,n=ss.from(s.headers);let a=s.data;return oe.forEach(i,function(u){a=u.call(t,a,n.normalize(),e?e.status:void 0)}),n.normalize(),a}function pw(i){return!!(i&&i.__CANCEL__)}function Zl(i,e,t){Xe.call(this,i??"canceled",Xe.ERR_CANCELED,e,t),this.name="CanceledError"}oe.inherits(Zl,Xe,{__CANCEL__:!0});function gw(i,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?i(t):e(new Xe("Request failed with status code "+t.status,[Xe.ERR_BAD_REQUEST,Xe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function yN(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function vN(i,e){i=i||10;const t=new Array(i),s=new Array(i);let n=0,a=0,l;return e=e!==void 0?e:1e3,function(h){const d=Date.now(),m=s[a];l||(l=d),t[n]=h,s[n]=d;let p=a,g=0;for(;p!==n;)g+=t[p++],p=p%i;if(n=(n+1)%i,n===a&&(a=(a+1)%i),d-l<e)return;const E=m&&d-m;return E?Math.round(g*1e3/E):void 0}}function bN(i,e){let t=0,s=1e3/e,n,a;const l=(d,m=Date.now())=>{t=m,n=null,a&&(clearTimeout(a),a=null),i.apply(null,d)};return[(...d)=>{const m=Date.now(),p=m-t;p>=s?l(d,m):(n=d,a||(a=setTimeout(()=>{a=null,l(n)},s-p)))},()=>n&&l(n)]}const ff=(i,e,t=3)=>{let s=0;const n=vN(50,250);return bN(a=>{const l=a.loaded,u=a.lengthComputable?a.total:void 0,h=l-s,d=n(h),m=l<=u;s=l;const p={loaded:l,total:u,progress:u?l/u:void 0,bytes:h,rate:d||void 0,estimated:d&&u&&m?(u-l)/d:void 0,event:a,lengthComputable:u!=null,[e?"download":"upload"]:!0};i(p)},t)},wx=(i,e)=>{const t=i!=null;return[s=>e[0]({lengthComputable:t,total:i,loaded:s}),e[1]]},_x=i=>(...e)=>oe.asap(()=>i(...e)),EN=Di.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,Di.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(Di.origin),Di.navigator&&/(msie|trident)/i.test(Di.navigator.userAgent)):()=>!0,kN=Di.hasStandardBrowserEnv?{write(i,e,t,s,n,a){const l=[i+"="+encodeURIComponent(e)];oe.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),oe.isString(s)&&l.push("path="+s),oe.isString(n)&&l.push("domain="+n),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function SN(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function xN(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function yw(i,e,t){let s=!SN(e);return i&&(s||t==!1)?xN(i,e):e}const Rx=i=>i instanceof ss?{...i}:i;function ro(i,e){e=e||{};const t={};function s(d,m,p,g){return oe.isPlainObject(d)&&oe.isPlainObject(m)?oe.merge.call({caseless:g},d,m):oe.isPlainObject(m)?oe.merge({},m):oe.isArray(m)?m.slice():m}function n(d,m,p,g){if(oe.isUndefined(m)){if(!oe.isUndefined(d))return s(void 0,d,p,g)}else return s(d,m,p,g)}function a(d,m){if(!oe.isUndefined(m))return s(void 0,m)}function l(d,m){if(oe.isUndefined(m)){if(!oe.isUndefined(d))return s(void 0,d)}else return s(void 0,m)}function u(d,m,p){if(p in e)return s(d,m);if(p in i)return s(void 0,d)}const h={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(d,m,p)=>n(Rx(d),Rx(m),p,!0)};return oe.forEach(Object.keys(Object.assign({},i,e)),function(m){const p=h[m]||n,g=p(i[m],e[m],m);oe.isUndefined(g)&&p!==u||(t[m]=g)}),t}const vw=i=>{const e=ro({},i);let{data:t,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:a,headers:l,auth:u}=e;e.headers=l=ss.from(l),e.url=hw(yw(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(oe.isFormData(t)){if(Di.hasStandardBrowserEnv||Di.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((h=l.getContentType())!==!1){const[d,...m]=h?h.split(";").map(p=>p.trim()).filter(Boolean):[];l.setContentType([d||"multipart/form-data",...m].join("; "))}}if(Di.hasStandardBrowserEnv&&(s&&oe.isFunction(s)&&(s=s(e)),s||s!==!1&&EN(e.url))){const d=n&&a&&kN.read(a);d&&l.set(n,d)}return e},TN=typeof XMLHttpRequest<"u",AN=TN&&function(i){return new Promise(function(t,s){const n=vw(i);let a=n.data;const l=ss.from(n.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:d}=n,m,p,g,E,b;function k(){E&&E(),b&&b(),n.cancelToken&&n.cancelToken.unsubscribe(m),n.signal&&n.signal.removeEventListener("abort",m)}let S=new XMLHttpRequest;S.open(n.method.toUpperCase(),n.url,!0),S.timeout=n.timeout;function x(){if(!S)return;const w=ss.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),C={data:!u||u==="text"||u==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:w,config:i,request:S};gw(function(L){t(L),k()},function(L){s(L),k()},C),S=null}"onloadend"in S?S.onloadend=x:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(x)},S.onabort=function(){S&&(s(new Xe("Request aborted",Xe.ECONNABORTED,i,S)),S=null)},S.onerror=function(){s(new Xe("Network Error",Xe.ERR_NETWORK,i,S)),S=null},S.ontimeout=function(){let R=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const C=n.transitional||fw;n.timeoutErrorMessage&&(R=n.timeoutErrorMessage),s(new Xe(R,C.clarifyTimeoutError?Xe.ETIMEDOUT:Xe.ECONNABORTED,i,S)),S=null},a===void 0&&l.setContentType(null),"setRequestHeader"in S&&oe.forEach(l.toJSON(),function(R,C){S.setRequestHeader(C,R)}),oe.isUndefined(n.withCredentials)||(S.withCredentials=!!n.withCredentials),u&&u!=="json"&&(S.responseType=n.responseType),d&&([g,b]=ff(d,!0),S.addEventListener("progress",g)),h&&S.upload&&([p,E]=ff(h),S.upload.addEventListener("progress",p),S.upload.addEventListener("loadend",E)),(n.cancelToken||n.signal)&&(m=w=>{S&&(s(!w||w.type?new Zl(null,i,S):w),S.abort(),S=null)},n.cancelToken&&n.cancelToken.subscribe(m),n.signal&&(n.signal.aborted?m():n.signal.addEventListener("abort",m)));const _=yN(n.url);if(_&&Di.protocols.indexOf(_)===-1){s(new Xe("Unsupported protocol "+_+":",Xe.ERR_BAD_REQUEST,i));return}S.send(a||null)})},wN=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let s=new AbortController,n;const a=function(d){if(!n){n=!0,u();const m=d instanceof Error?d:this.reason;s.abort(m instanceof Xe?m:new Zl(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,a(new Xe(`timeout ${e} of ms exceeded`,Xe.ETIMEDOUT))},e);const u=()=>{i&&(l&&clearTimeout(l),l=null,i.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),i=null)};i.forEach(d=>d.addEventListener("abort",a));const{signal:h}=s;return h.unsubscribe=()=>oe.asap(u),h}},_N=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let s=0,n;for(;s<t;)n=s+e,yield i.slice(s,n),s=n},RN=async function*(i,e){for await(const t of LN(i))yield*_N(t,e)},LN=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},Lx=(i,e,t,s)=>{const n=RN(i,e);let a=0,l,u=h=>{l||(l=!0,s&&s(h))};return new ReadableStream({async pull(h){try{const{done:d,value:m}=await n.next();if(d){u(),h.close();return}let p=m.byteLength;if(t){let g=a+=p;t(g)}h.enqueue(new Uint8Array(m))}catch(d){throw u(d),d}},cancel(h){return u(h),n.return()}},{highWaterMark:2})},Jf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",bw=Jf&&typeof ReadableStream=="function",CN=Jf&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),Ew=(i,...e)=>{try{return!!i(...e)}catch{return!1}},DN=bw&&Ew(()=>{let i=!1;const e=new Request(Di.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),Cx=64*1024,Y0=bw&&Ew(()=>oe.isReadableStream(new Response("").body)),mf={stream:Y0&&(i=>i.body)};Jf&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!mf[e]&&(mf[e]=oe.isFunction(i[e])?t=>t[e]():(t,s)=>{throw new Xe(`Response type '${e}' is not supported`,Xe.ERR_NOT_SUPPORT,s)})})})(new Response);const IN=async i=>{if(i==null)return 0;if(oe.isBlob(i))return i.size;if(oe.isSpecCompliantForm(i))return(await new Request(Di.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(i)||oe.isArrayBuffer(i))return i.byteLength;if(oe.isURLSearchParams(i)&&(i=i+""),oe.isString(i))return(await CN(i)).byteLength},jN=async(i,e)=>{const t=oe.toFiniteNumber(i.getContentLength());return t??IN(e)},ON=Jf&&(async i=>{let{url:e,method:t,data:s,signal:n,cancelToken:a,timeout:l,onDownloadProgress:u,onUploadProgress:h,responseType:d,headers:m,withCredentials:p="same-origin",fetchOptions:g}=vw(i);d=d?(d+"").toLowerCase():"text";let E=wN([n,a&&a.toAbortSignal()],l),b;const k=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let S;try{if(h&&DN&&t!=="get"&&t!=="head"&&(S=await jN(m,s))!==0){let C=new Request(e,{method:"POST",body:s,duplex:"half"}),I;if(oe.isFormData(s)&&(I=C.headers.get("content-type"))&&m.setContentType(I),C.body){const[L,P]=wx(S,ff(_x(h)));s=Lx(C.body,Cx,L,P)}}oe.isString(p)||(p=p?"include":"omit");const x="credentials"in Request.prototype;b=new Request(e,{...g,signal:E,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:s,duplex:"half",credentials:x?p:void 0});let _=await fetch(b);const w=Y0&&(d==="stream"||d==="response");if(Y0&&(u||w&&k)){const C={};["status","statusText","headers"].forEach(M=>{C[M]=_[M]});const I=oe.toFiniteNumber(_.headers.get("content-length")),[L,P]=u&&wx(I,ff(_x(u),!0))||[];_=new Response(Lx(_.body,Cx,L,()=>{P&&P(),k&&k()}),C)}d=d||"text";let R=await mf[oe.findKey(mf,d)||"text"](_,i);return!w&&k&&k(),await new Promise((C,I)=>{gw(C,I,{data:R,headers:ss.from(_.headers),status:_.status,statusText:_.statusText,config:i,request:b})})}catch(x){throw k&&k(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new Xe("Network Error",Xe.ERR_NETWORK,i,b),{cause:x.cause||x}):Xe.from(x,x&&x.code,i,b)}}),W0={http:WP,xhr:AN,fetch:ON};oe.forEach(W0,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const Dx=i=>`- ${i}`,MN=i=>oe.isFunction(i)||i===null||i===!1,kw={getAdapter:i=>{i=oe.isArray(i)?i:[i];const{length:e}=i;let t,s;const n={};for(let a=0;a<e;a++){t=i[a];let l;if(s=t,!MN(t)&&(s=W0[(l=String(t)).toLowerCase()],s===void 0))throw new Xe(`Unknown adapter '${l}'`);if(s)break;n[l||"#"+a]=s}if(!s){const a=Object.entries(n).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(Dx).join(`
`):" "+Dx(a[0]):"as no adapter specified";throw new Xe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:W0};function zg(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Zl(null,i)}function Ix(i){return zg(i),i.headers=ss.from(i.headers),i.data=$g.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),kw.getAdapter(i.adapter||Kc.adapter)(i).then(function(s){return zg(i),s.data=$g.call(i,i.transformResponse,s),s.headers=ss.from(s.headers),s},function(s){return pw(s)||(zg(i),s&&s.response&&(s.response.data=$g.call(i,i.transformResponse,s.response),s.response.headers=ss.from(s.response.headers))),Promise.reject(s)})}const Sw="1.8.4",em={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{em[i]=function(s){return typeof s===i||"a"+(e<1?"n ":" ")+i}});const jx={};em.transitional=function(e,t,s){function n(a,l){return"[Axios v"+Sw+"] Transitional option '"+a+"'"+l+(s?". "+s:"")}return(a,l,u)=>{if(e===!1)throw new Xe(n(l," has been removed"+(t?" in "+t:"")),Xe.ERR_DEPRECATED);return t&&!jx[l]&&(jx[l]=!0,console.warn(n(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,l,u):!0}};em.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function PN(i,e,t){if(typeof i!="object")throw new Xe("options must be an object",Xe.ERR_BAD_OPTION_VALUE);const s=Object.keys(i);let n=s.length;for(;n-- >0;){const a=s[n],l=e[a];if(l){const u=i[a],h=u===void 0||l(u,a,i);if(h!==!0)throw new Xe("option "+a+" must be "+h,Xe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Xe("Unknown option "+a,Xe.ERR_BAD_OPTION)}}const Hh={assertOptions:PN,validators:em},cn=Hh.validators;let Qa=class{constructor(e){this.defaults=e,this.interceptors={request:new Tx,response:new Tx}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const a=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ro(this.defaults,t);const{transitional:s,paramsSerializer:n,headers:a}=t;s!==void 0&&Hh.assertOptions(s,{silentJSONParsing:cn.transitional(cn.boolean),forcedJSONParsing:cn.transitional(cn.boolean),clarifyTimeoutError:cn.transitional(cn.boolean)},!1),n!=null&&(oe.isFunction(n)?t.paramsSerializer={serialize:n}:Hh.assertOptions(n,{encode:cn.function,serialize:cn.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Hh.assertOptions(t,{baseUrl:cn.spelling("baseURL"),withXsrfToken:cn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=a&&oe.merge(a.common,a[t.method]);a&&oe.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),t.headers=ss.concat(l,a);const u=[];let h=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(t)===!1||(h=h&&k.synchronous,u.unshift(k.fulfilled,k.rejected))});const d=[];this.interceptors.response.forEach(function(k){d.push(k.fulfilled,k.rejected)});let m,p=0,g;if(!h){const b=[Ix.bind(this),void 0];for(b.unshift.apply(b,u),b.push.apply(b,d),g=b.length,m=Promise.resolve(t);p<g;)m=m.then(b[p++],b[p++]);return m}g=u.length;let E=t;for(p=0;p<g;){const b=u[p++],k=u[p++];try{E=b(E)}catch(S){k.call(this,S);break}}try{m=Ix.call(this,E)}catch(b){return Promise.reject(b)}for(p=0,g=d.length;p<g;)m=m.then(d[p++],d[p++]);return m}getUri(e){e=ro(this.defaults,e);const t=yw(e.baseURL,e.url,e.allowAbsoluteUrls);return hw(t,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){Qa.prototype[e]=function(t,s){return this.request(ro(s||{},{method:e,url:t,data:(s||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function t(s){return function(a,l,u){return this.request(ro(u||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Qa.prototype[e]=t(),Qa.prototype[e+"Form"]=t(!0)});let NN=class xw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const s=this;this.promise.then(n=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](n);s._listeners=null}),this.promise.then=n=>{let a;const l=new Promise(u=>{s.subscribe(u),a=u}).then(n);return l.cancel=function(){s.unsubscribe(a)},l},e(function(a,l,u){s.reason||(s.reason=new Zl(a,l,u),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new xw(function(n){e=n}),cancel:e}}};function FN(i){return function(t){return i.apply(null,t)}}function BN(i){return oe.isObject(i)&&i.isAxiosError===!0}const X0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(X0).forEach(([i,e])=>{X0[e]=i});function Tw(i){const e=new Qa(i),t=tw(Qa.prototype.request,e);return oe.extend(t,Qa.prototype,e,{allOwnKeys:!0}),oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(n){return Tw(ro(i,n))},t}const Jt=Tw(Kc);Jt.Axios=Qa;Jt.CanceledError=Zl;Jt.CancelToken=NN;Jt.isCancel=pw;Jt.VERSION=Sw;Jt.toFormData=Zf;Jt.AxiosError=Xe;Jt.Cancel=Jt.CanceledError;Jt.all=function(e){return Promise.all(e)};Jt.spread=FN;Jt.isAxiosError=BN;Jt.mergeConfig=ro;Jt.AxiosHeaders=ss;Jt.formToJSON=i=>mw(oe.isHTMLForm(i)?new FormData(i):i);Jt.getAdapter=kw.getAdapter;Jt.HttpStatusCode=X0;Jt.default=Jt;const{Axios:Tz,AxiosError:Az,CanceledError:wz,isCancel:_z,CancelToken:Rz,VERSION:Lz,all:Cz,Cancel:Dz,isAxiosError:UN,spread:Iz,toFormData:jz,AxiosHeaders:Oz,HttpStatusCode:Mz,formToJSON:Pz,getAdapter:Nz,mergeConfig:Fz}=Jt,$N=Jt.create({baseURL:"/",headers:{"Content-Type":"application/json"}});class tm extends Error{constructor(t,s,n){super(`ApplicationError: (${t}) ${s??""}`);at(this,"code");at(this,"context");this.code=t,this.context=n,Object.setPrototypeOf(this,tm.prototype)}}class oc extends tm{constructor(e,t,s){super(e,t,s),Object.setPrototypeOf(this,oc.prototype)}}var ft;(function(i){i.assertEqual=n=>n;function e(n){}i.assertIs=e;function t(n){throw new Error}i.assertNever=t,i.arrayToEnum=n=>{const a={};for(const l of n)a[l]=l;return a},i.getValidEnumValues=n=>{const a=i.objectKeys(n).filter(u=>typeof n[n[u]]!="number"),l={};for(const u of a)l[u]=n[u];return i.objectValues(l)},i.objectValues=n=>i.objectKeys(n).map(function(a){return n[a]}),i.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const a=[];for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&a.push(l);return a},i.find=(n,a)=>{for(const l of n)if(a(l))return l},i.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function s(n,a=" | "){return n.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}i.joinValues=s,i.jsonStringifyReplacer=(n,a)=>typeof a=="bigint"?a.toString():a})(ft||(ft={}));var Q0;(function(i){i.mergeShapes=(e,t)=>({...e,...t})})(Q0||(Q0={}));const _e=ft.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tr=i=>{switch(typeof i){case"undefined":return _e.undefined;case"string":return _e.string;case"number":return isNaN(i)?_e.nan:_e.number;case"boolean":return _e.boolean;case"function":return _e.function;case"bigint":return _e.bigint;case"symbol":return _e.symbol;case"object":return Array.isArray(i)?_e.array:i===null?_e.null:i.then&&typeof i.then=="function"&&i.catch&&typeof i.catch=="function"?_e.promise:typeof Map<"u"&&i instanceof Map?_e.map:typeof Set<"u"&&i instanceof Set?_e.set:typeof Date<"u"&&i instanceof Date?_e.date:_e.object;default:return _e.unknown}},be=ft.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),zN=i=>JSON.stringify(i,null,2).replace(/"([^"]+)":/g,"$1:");class ns extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(a){return a.message},s={_errors:[]},n=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(n);else if(l.code==="invalid_return_type")n(l.returnTypeError);else if(l.code==="invalid_arguments")n(l.argumentsError);else if(l.path.length===0)s._errors.push(t(l));else{let u=s,h=0;for(;h<l.path.length;){const d=l.path[h];h===l.path.length-1?(u[d]=u[d]||{_errors:[]},u[d]._errors.push(t(l))):u[d]=u[d]||{_errors:[]},u=u[d],h++}}};return n(this),s}static assert(e){if(!(e instanceof ns))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ft.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},s=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):s.push(e(n));return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}}ns.create=i=>new ns(i);const Gl=(i,e)=>{let t;switch(i.code){case be.invalid_type:i.received===_e.undefined?t="Required":t=`Expected ${i.expected}, received ${i.received}`;break;case be.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(i.expected,ft.jsonStringifyReplacer)}`;break;case be.unrecognized_keys:t=`Unrecognized key(s) in object: ${ft.joinValues(i.keys,", ")}`;break;case be.invalid_union:t="Invalid input";break;case be.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${ft.joinValues(i.options)}`;break;case be.invalid_enum_value:t=`Invalid enum value. Expected ${ft.joinValues(i.options)}, received '${i.received}'`;break;case be.invalid_arguments:t="Invalid function arguments";break;case be.invalid_return_type:t="Invalid function return type";break;case be.invalid_date:t="Invalid date";break;case be.invalid_string:typeof i.validation=="object"?"includes"in i.validation?(t=`Invalid input: must include "${i.validation.includes}"`,typeof i.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${i.validation.position}`)):"startsWith"in i.validation?t=`Invalid input: must start with "${i.validation.startsWith}"`:"endsWith"in i.validation?t=`Invalid input: must end with "${i.validation.endsWith}"`:ft.assertNever(i.validation):i.validation!=="regex"?t=`Invalid ${i.validation}`:t="Invalid";break;case be.too_small:i.type==="array"?t=`Array must contain ${i.exact?"exactly":i.inclusive?"at least":"more than"} ${i.minimum} element(s)`:i.type==="string"?t=`String must contain ${i.exact?"exactly":i.inclusive?"at least":"over"} ${i.minimum} character(s)`:i.type==="number"?t=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="date"?t=`Date must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(i.minimum))}`:t="Invalid input";break;case be.too_big:i.type==="array"?t=`Array must contain ${i.exact?"exactly":i.inclusive?"at most":"less than"} ${i.maximum} element(s)`:i.type==="string"?t=`String must contain ${i.exact?"exactly":i.inclusive?"at most":"under"} ${i.maximum} character(s)`:i.type==="number"?t=`Number must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="bigint"?t=`BigInt must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="date"?t=`Date must be ${i.exact?"exactly":i.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(i.maximum))}`:t="Invalid input";break;case be.custom:t="Invalid input";break;case be.invalid_intersection_types:t="Intersection results could not be merged";break;case be.not_multiple_of:t=`Number must be a multiple of ${i.multipleOf}`;break;case be.not_finite:t="Number must be finite";break;default:t=e.defaultError,ft.assertNever(i)}return{message:t}};let Aw=Gl;function GN(i){Aw=i}function pf(){return Aw}const gf=i=>{const{data:e,path:t,errorMaps:s,issueData:n}=i,a=[...t,...n.path||[]],l={...n,path:a};if(n.message!==void 0)return{...n,path:a,message:n.message};let u="";const h=s.filter(d=>!!d).slice().reverse();for(const d of h)u=d(l,{data:e,defaultError:u}).message;return{...n,path:a,message:u}},HN=[];function Te(i,e){const t=pf(),s=gf({issueData:e,data:i.data,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,t,t===Gl?void 0:Gl].filter(n=>!!n)});i.common.issues.push(s)}class Ii{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const s=[];for(const n of t){if(n.status==="aborted")return Ge;n.status==="dirty"&&e.dirty(),s.push(n.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,t){const s=[];for(const n of t){const a=await n.key,l=await n.value;s.push({key:a,value:l})}return Ii.mergeObjectSync(e,s)}static mergeObjectSync(e,t){const s={};for(const n of t){const{key:a,value:l}=n;if(a.status==="aborted"||l.status==="aborted")return Ge;a.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||n.alwaysSet)&&(s[a.value]=l.value)}return{status:e.value,value:s}}}const Ge=Object.freeze({status:"aborted"}),fl=i=>({status:"dirty",value:i}),$i=i=>({status:"valid",value:i}),Z0=i=>i.status==="aborted",J0=i=>i.status==="dirty",ao=i=>i.status==="valid",vc=i=>typeof Promise<"u"&&i instanceof Promise;function yf(i,e,t,s){if(typeof e=="function"?i!==e||!0:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(i)}function ww(i,e,t,s,n){if(typeof e=="function"?i!==e||!0:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(i,t),t}var je;(function(i){i.errToObj=e=>typeof e=="string"?{message:e}:e||{},i.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(je||(je={}));var ic,sc;class An{constructor(e,t,s,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=s,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ox=(i,e)=>{if(ao(e))return{success:!0,data:e.value};if(!i.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new ns(i.common.issues);return this._error=t,this._error}}};function Qe(i){if(!i)return{};const{errorMap:e,invalid_type_error:t,required_error:s,description:n}=i;if(e&&(t||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(l,u)=>{var h,d;const{message:m}=i;return l.code==="invalid_enum_value"?{message:m??u.defaultError}:typeof u.data>"u"?{message:(h=m??s)!==null&&h!==void 0?h:u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:(d=m??t)!==null&&d!==void 0?d:u.defaultError}},description:n}}class et{get description(){return this._def.description}_getType(e){return tr(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:tr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ii,ctx:{common:e.parent.common,data:e.data,parsedType:tr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(vc(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){var s;const n={common:{issues:[],async:(s=t==null?void 0:t.async)!==null&&s!==void 0?s:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tr(e)},a=this._parseSync({data:e,path:n.path,parent:n});return Ox(n,a)}"~validate"(e){var t,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tr(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return ao(a)?{value:a.value}:{issues:n.common.issues}}catch(a){!((s=(t=a==null?void 0:a.message)===null||t===void 0?void 0:t.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>ao(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,t){const s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){const s={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tr(e)},n=this._parse({data:e,path:s.path,parent:s}),a=await(vc(n)?n:Promise.resolve(n));return Ox(s,a)}refine(e,t){const s=n=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(n):t;return this._refinement((n,a)=>{const l=e(n),u=()=>a.addIssue({code:be.custom,...s(n)});return typeof Promise<"u"&&l instanceof Promise?l.then(h=>h?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(e,t){return this._refinement((s,n)=>e(s)?!0:(n.addIssue(typeof t=="function"?t(s,n):t),!1))}_refinement(e){return new Qs({schema:this,typeName:ze.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Tn.create(this,this._def)}nullable(){return ua.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xs.create(this)}promise(){return ql.create(this,this._def)}or(e){return Sc.create([this,e],this._def)}and(e){return xc.create(this,e,this._def)}transform(e){return new Qs({...Qe(this._def),schema:this,typeName:ze.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Rc({...Qe(this._def),innerType:this,defaultValue:t,typeName:ze.ZodDefault})}brand(){return new Ky({typeName:ze.ZodBranded,type:this,...Qe(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Lc({...Qe(this._def),innerType:this,catchValue:t,typeName:ze.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Yc.create(this,e)}readonly(){return Cc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qN=/^c[^\s-]{8,}$/i,VN=/^[0-9a-z]+$/,KN=/^[0-9A-HJKMNP-TV-Z]{26}$/i,YN=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,WN=/^[a-z0-9_-]{21}$/i,XN=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,QN=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ZN=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,JN="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Gg;const eF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,iF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,sF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rF=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_w="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",aF=new RegExp(`^${_w}$`);function Rw(i){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return i.precision?e=`${e}\\.\\d{${i.precision}}`:i.precision==null&&(e=`${e}(\\.\\d+)?`),e}function oF(i){return new RegExp(`^${Rw(i)}$`)}function Lw(i){let e=`${_w}T${Rw(i)}`;const t=[];return t.push(i.local?"Z?":"Z"),i.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function lF(i,e){return!!((e==="v4"||!e)&&eF.test(i)||(e==="v6"||!e)&&iF.test(i))}function uF(i,e){if(!XN.test(i))return!1;try{const[t]=i.split("."),s=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),n=JSON.parse(atob(s));return!(typeof n!="object"||n===null||!n.typ||!n.alg||e&&n.alg!==e)}catch{return!1}}function cF(i,e){return!!((e==="v4"||!e)&&tF.test(i)||(e==="v6"||!e)&&sF.test(i))}class Ys extends et{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==_e.string){const a=this._getOrReturnCtx(e);return Te(a,{code:be.invalid_type,expected:_e.string,received:a.parsedType}),Ge}const s=new Ii;let n;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),Te(n,{code:be.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),Te(n,{code:be.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const l=e.data.length>a.value,u=e.data.length<a.value;(l||u)&&(n=this._getOrReturnCtx(e,n),l?Te(n,{code:be.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&Te(n,{code:be.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")ZN.test(e.data)||(n=this._getOrReturnCtx(e,n),Te(n,{validation:"email",code:be.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")Gg||(Gg=new RegExp(JN,"u")),Gg.test(e.data)||(n=this._getOrReturnCtx(e,n),Te(n,{validation:"emoji",code:be.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")YN.test(e.data)||(n=this._getOrReturnCtx(e,n),Te(n,{validation:"uuid",code:be.invalid_string,message:a.message}),s.dirty());else if(a.kind==="nanoid")WN.test(e.data)||(n=this._getOrReturnCtx(e,n),Te(n,{validation:"nanoid",code:be.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")qN.test(e.data)||(n=this._getOrReturnCtx(e,n),Te(n,{validation:"cuid",code:be.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")VN.test(e.data)||(n=this._getOrReturnCtx(e,n),Te(n,{validation:"cuid2",code:be.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")KN.test(e.data)||(n=this._getOrReturnCtx(e,n),Te(n,{validation:"ulid",code:be.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),Te(n,{validation:"url",code:be.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Te(n,{validation:"regex",code:be.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),Te(n,{code:be.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),Te(n,{code:be.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),Te(n,{code:be.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?Lw(a).test(e.data)||(n=this._getOrReturnCtx(e,n),Te(n,{code:be.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="date"?aF.test(e.data)||(n=this._getOrReturnCtx(e,n),Te(n,{code:be.invalid_string,validation:"date",message:a.message}),s.dirty()):a.kind==="time"?oF(a).test(e.data)||(n=this._getOrReturnCtx(e,n),Te(n,{code:be.invalid_string,validation:"time",message:a.message}),s.dirty()):a.kind==="duration"?QN.test(e.data)||(n=this._getOrReturnCtx(e,n),Te(n,{validation:"duration",code:be.invalid_string,message:a.message}),s.dirty()):a.kind==="ip"?lF(e.data,a.version)||(n=this._getOrReturnCtx(e,n),Te(n,{validation:"ip",code:be.invalid_string,message:a.message}),s.dirty()):a.kind==="jwt"?uF(e.data,a.alg)||(n=this._getOrReturnCtx(e,n),Te(n,{validation:"jwt",code:be.invalid_string,message:a.message}),s.dirty()):a.kind==="cidr"?cF(e.data,a.version)||(n=this._getOrReturnCtx(e,n),Te(n,{validation:"cidr",code:be.invalid_string,message:a.message}),s.dirty()):a.kind==="base64"?nF.test(e.data)||(n=this._getOrReturnCtx(e,n),Te(n,{validation:"base64",code:be.invalid_string,message:a.message}),s.dirty()):a.kind==="base64url"?rF.test(e.data)||(n=this._getOrReturnCtx(e,n),Te(n,{validation:"base64url",code:be.invalid_string,message:a.message}),s.dirty()):ft.assertNever(a);return{status:s.value,value:e.data}}_regex(e,t,s){return this.refinement(n=>e.test(n),{validation:t,code:be.invalid_string,...je.errToObj(s)})}_addCheck(e){return new Ys({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...je.errToObj(e)})}url(e){return this._addCheck({kind:"url",...je.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...je.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...je.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...je.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...je.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...je.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...je.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...je.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...je.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...je.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...je.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...je.errToObj(e)})}datetime(e){var t,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(s=e==null?void 0:e.local)!==null&&s!==void 0?s:!1,...je.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...je.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...je.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...je.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...je.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...je.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...je.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...je.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...je.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...je.errToObj(t)})}nonempty(e){return this.min(1,je.errToObj(e))}trim(){return new Ys({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ys({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ys({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ys.create=i=>{var e;return new Ys({checks:[],typeName:ze.ZodString,coerce:(e=i==null?void 0:i.coerce)!==null&&e!==void 0?e:!1,...Qe(i)})};function dF(i,e){const t=(i.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,n=t>s?t:s,a=parseInt(i.toFixed(n).replace(".","")),l=parseInt(e.toFixed(n).replace(".",""));return a%l/Math.pow(10,n)}class aa extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==_e.number){const a=this._getOrReturnCtx(e);return Te(a,{code:be.invalid_type,expected:_e.number,received:a.parsedType}),Ge}let s;const n=new Ii;for(const a of this._def.checks)a.kind==="int"?ft.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{code:be.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),Te(s,{code:be.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),Te(s,{code:be.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?dF(e.data,a.value)!==0&&(s=this._getOrReturnCtx(e,s),Te(s,{code:be.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{code:be.not_finite,message:a.message}),n.dirty()):ft.assertNever(a);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,je.toString(t))}gt(e,t){return this.setLimit("min",e,!1,je.toString(t))}lte(e,t){return this.setLimit("max",e,!0,je.toString(t))}lt(e,t){return this.setLimit("max",e,!1,je.toString(t))}setLimit(e,t,s,n){return new aa({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:je.toString(n)}]})}_addCheck(e){return new aa({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:je.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:je.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:je.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:je.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:je.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:je.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:je.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:je.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:je.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ft.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(t===null||s.value>t)&&(t=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(t)&&Number.isFinite(e)}}aa.create=i=>new aa({checks:[],typeName:ze.ZodNumber,coerce:(i==null?void 0:i.coerce)||!1,...Qe(i)});class oa extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==_e.bigint)return this._getInvalidInput(e);let s;const n=new Ii;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),Te(s,{code:be.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),Te(s,{code:be.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),Te(s,{code:be.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):ft.assertNever(a);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Te(t,{code:be.invalid_type,expected:_e.bigint,received:t.parsedType}),Ge}gte(e,t){return this.setLimit("min",e,!0,je.toString(t))}gt(e,t){return this.setLimit("min",e,!1,je.toString(t))}lte(e,t){return this.setLimit("max",e,!0,je.toString(t))}lt(e,t){return this.setLimit("max",e,!1,je.toString(t))}setLimit(e,t,s,n){return new oa({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:je.toString(n)}]})}_addCheck(e){return new oa({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:je.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:je.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:je.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:je.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:je.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}oa.create=i=>{var e;return new oa({checks:[],typeName:ze.ZodBigInt,coerce:(e=i==null?void 0:i.coerce)!==null&&e!==void 0?e:!1,...Qe(i)})};class bc extends et{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==_e.boolean){const s=this._getOrReturnCtx(e);return Te(s,{code:be.invalid_type,expected:_e.boolean,received:s.parsedType}),Ge}return $i(e.data)}}bc.create=i=>new bc({typeName:ze.ZodBoolean,coerce:(i==null?void 0:i.coerce)||!1,...Qe(i)});class oo extends et{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==_e.date){const a=this._getOrReturnCtx(e);return Te(a,{code:be.invalid_type,expected:_e.date,received:a.parsedType}),Ge}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Te(a,{code:be.invalid_date}),Ge}const s=new Ii;let n;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),Te(n,{code:be.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),Te(n,{code:be.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):ft.assertNever(a);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new oo({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:je.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:je.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}oo.create=i=>new oo({checks:[],coerce:(i==null?void 0:i.coerce)||!1,typeName:ze.ZodDate,...Qe(i)});class vf extends et{_parse(e){if(this._getType(e)!==_e.symbol){const s=this._getOrReturnCtx(e);return Te(s,{code:be.invalid_type,expected:_e.symbol,received:s.parsedType}),Ge}return $i(e.data)}}vf.create=i=>new vf({typeName:ze.ZodSymbol,...Qe(i)});class Ec extends et{_parse(e){if(this._getType(e)!==_e.undefined){const s=this._getOrReturnCtx(e);return Te(s,{code:be.invalid_type,expected:_e.undefined,received:s.parsedType}),Ge}return $i(e.data)}}Ec.create=i=>new Ec({typeName:ze.ZodUndefined,...Qe(i)});class kc extends et{_parse(e){if(this._getType(e)!==_e.null){const s=this._getOrReturnCtx(e);return Te(s,{code:be.invalid_type,expected:_e.null,received:s.parsedType}),Ge}return $i(e.data)}}kc.create=i=>new kc({typeName:ze.ZodNull,...Qe(i)});class Hl extends et{constructor(){super(...arguments),this._any=!0}_parse(e){return $i(e.data)}}Hl.create=i=>new Hl({typeName:ze.ZodAny,...Qe(i)});class Za extends et{constructor(){super(...arguments),this._unknown=!0}_parse(e){return $i(e.data)}}Za.create=i=>new Za({typeName:ze.ZodUnknown,...Qe(i)});class ar extends et{_parse(e){const t=this._getOrReturnCtx(e);return Te(t,{code:be.invalid_type,expected:_e.never,received:t.parsedType}),Ge}}ar.create=i=>new ar({typeName:ze.ZodNever,...Qe(i)});class bf extends et{_parse(e){if(this._getType(e)!==_e.undefined){const s=this._getOrReturnCtx(e);return Te(s,{code:be.invalid_type,expected:_e.void,received:s.parsedType}),Ge}return $i(e.data)}}bf.create=i=>new bf({typeName:ze.ZodVoid,...Qe(i)});class Xs extends et{_parse(e){const{ctx:t,status:s}=this._processInputParams(e),n=this._def;if(t.parsedType!==_e.array)return Te(t,{code:be.invalid_type,expected:_e.array,received:t.parsedType}),Ge;if(n.exactLength!==null){const l=t.data.length>n.exactLength.value,u=t.data.length<n.exactLength.value;(l||u)&&(Te(t,{code:l?be.too_big:be.too_small,minimum:u?n.exactLength.value:void 0,maximum:l?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&t.data.length<n.minLength.value&&(Te(t,{code:be.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&t.data.length>n.maxLength.value&&(Te(t,{code:be.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),t.common.async)return Promise.all([...t.data].map((l,u)=>n.type._parseAsync(new An(t,l,t.path,u)))).then(l=>Ii.mergeArray(s,l));const a=[...t.data].map((l,u)=>n.type._parseSync(new An(t,l,t.path,u)));return Ii.mergeArray(s,a)}get element(){return this._def.type}min(e,t){return new Xs({...this._def,minLength:{value:e,message:je.toString(t)}})}max(e,t){return new Xs({...this._def,maxLength:{value:e,message:je.toString(t)}})}length(e,t){return new Xs({...this._def,exactLength:{value:e,message:je.toString(t)}})}nonempty(e){return this.min(1,e)}}Xs.create=(i,e)=>new Xs({type:i,minLength:null,maxLength:null,exactLength:null,typeName:ze.ZodArray,...Qe(e)});function cl(i){if(i instanceof zt){const e={};for(const t in i.shape){const s=i.shape[t];e[t]=Tn.create(cl(s))}return new zt({...i._def,shape:()=>e})}else return i instanceof Xs?new Xs({...i._def,type:cl(i.element)}):i instanceof Tn?Tn.create(cl(i.unwrap())):i instanceof ua?ua.create(cl(i.unwrap())):i instanceof wn?wn.create(i.items.map(e=>cl(e))):i}class zt extends et{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=ft.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==_e.object){const d=this._getOrReturnCtx(e);return Te(d,{code:be.invalid_type,expected:_e.object,received:d.parsedType}),Ge}const{status:s,ctx:n}=this._processInputParams(e),{shape:a,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof ar&&this._def.unknownKeys==="strip"))for(const d in n.data)l.includes(d)||u.push(d);const h=[];for(const d of l){const m=a[d],p=n.data[d];h.push({key:{status:"valid",value:d},value:m._parse(new An(n,p,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof ar){const d=this._def.unknownKeys;if(d==="passthrough")for(const m of u)h.push({key:{status:"valid",value:m},value:{status:"valid",value:n.data[m]}});else if(d==="strict")u.length>0&&(Te(n,{code:be.unrecognized_keys,keys:u}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const m of u){const p=n.data[m];h.push({key:{status:"valid",value:m},value:d._parse(new An(n,p,n.path,m)),alwaysSet:m in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const m of h){const p=await m.key,g=await m.value;d.push({key:p,value:g,alwaysSet:m.alwaysSet})}return d}).then(d=>Ii.mergeObjectSync(s,d)):Ii.mergeObjectSync(s,h)}get shape(){return this._def.shape()}strict(e){return je.errToObj,new zt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,s)=>{var n,a,l,u;const h=(l=(a=(n=this._def).errorMap)===null||a===void 0?void 0:a.call(n,t,s).message)!==null&&l!==void 0?l:s.defaultError;return t.code==="unrecognized_keys"?{message:(u=je.errToObj(e).message)!==null&&u!==void 0?u:h}:{message:h}}}:{}})}strip(){return new zt({...this._def,unknownKeys:"strip"})}passthrough(){return new zt({...this._def,unknownKeys:"passthrough"})}extend(e){return new zt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new zt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ze.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new zt({...this._def,catchall:e})}pick(e){const t={};return ft.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(t[s]=this.shape[s])}),new zt({...this._def,shape:()=>t})}omit(e){const t={};return ft.objectKeys(this.shape).forEach(s=>{e[s]||(t[s]=this.shape[s])}),new zt({...this._def,shape:()=>t})}deepPartial(){return cl(this)}partial(e){const t={};return ft.objectKeys(this.shape).forEach(s=>{const n=this.shape[s];e&&!e[s]?t[s]=n:t[s]=n.optional()}),new zt({...this._def,shape:()=>t})}required(e){const t={};return ft.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])t[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof Tn;)a=a._def.innerType;t[s]=a}}),new zt({...this._def,shape:()=>t})}keyof(){return Cw(ft.objectKeys(this.shape))}}zt.create=(i,e)=>new zt({shape:()=>i,unknownKeys:"strip",catchall:ar.create(),typeName:ze.ZodObject,...Qe(e)});zt.strictCreate=(i,e)=>new zt({shape:()=>i,unknownKeys:"strict",catchall:ar.create(),typeName:ze.ZodObject,...Qe(e)});zt.lazycreate=(i,e)=>new zt({shape:i,unknownKeys:"strip",catchall:ar.create(),typeName:ze.ZodObject,...Qe(e)});class Sc extends et{_parse(e){const{ctx:t}=this._processInputParams(e),s=this._def.options;function n(a){for(const u of a)if(u.result.status==="valid")return u.result;for(const u of a)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;const l=a.map(u=>new ns(u.ctx.common.issues));return Te(t,{code:be.invalid_union,unionErrors:l}),Ge}if(t.common.async)return Promise.all(s.map(async a=>{const l={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:l}),ctx:l}})).then(n);{let a;const l=[];for(const h of s){const d={...t,common:{...t.common,issues:[]},parent:null},m=h._parseSync({data:t.data,path:t.path,parent:d});if(m.status==="valid")return m;m.status==="dirty"&&!a&&(a={result:m,ctx:d}),d.common.issues.length&&l.push(d.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;const u=l.map(h=>new ns(h));return Te(t,{code:be.invalid_union,unionErrors:u}),Ge}}get options(){return this._def.options}}Sc.create=(i,e)=>new Sc({options:i,typeName:ze.ZodUnion,...Qe(e)});const Qn=i=>i instanceof Ac?Qn(i.schema):i instanceof Qs?Qn(i.innerType()):i instanceof wc?[i.value]:i instanceof la?i.options:i instanceof _c?ft.objectValues(i.enum):i instanceof Rc?Qn(i._def.innerType):i instanceof Ec?[void 0]:i instanceof kc?[null]:i instanceof Tn?[void 0,...Qn(i.unwrap())]:i instanceof ua?[null,...Qn(i.unwrap())]:i instanceof Ky||i instanceof Cc?Qn(i.unwrap()):i instanceof Lc?Qn(i._def.innerType):[];class im extends et{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==_e.object)return Te(t,{code:be.invalid_type,expected:_e.object,received:t.parsedType}),Ge;const s=this.discriminator,n=t.data[s],a=this.optionsMap.get(n);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(Te(t,{code:be.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),Ge)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,s){const n=new Map;for(const a of t){const l=Qn(a.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of l){if(n.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);n.set(u,a)}}return new im({typeName:ze.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...Qe(s)})}}function ey(i,e){const t=tr(i),s=tr(e);if(i===e)return{valid:!0,data:i};if(t===_e.object&&s===_e.object){const n=ft.objectKeys(e),a=ft.objectKeys(i).filter(u=>n.indexOf(u)!==-1),l={...i,...e};for(const u of a){const h=ey(i[u],e[u]);if(!h.valid)return{valid:!1};l[u]=h.data}return{valid:!0,data:l}}else if(t===_e.array&&s===_e.array){if(i.length!==e.length)return{valid:!1};const n=[];for(let a=0;a<i.length;a++){const l=i[a],u=e[a],h=ey(l,u);if(!h.valid)return{valid:!1};n.push(h.data)}return{valid:!0,data:n}}else return t===_e.date&&s===_e.date&&+i==+e?{valid:!0,data:i}:{valid:!1}}class xc extends et{_parse(e){const{status:t,ctx:s}=this._processInputParams(e),n=(a,l)=>{if(Z0(a)||Z0(l))return Ge;const u=ey(a.value,l.value);return u.valid?((J0(a)||J0(l))&&t.dirty(),{status:t.value,value:u.data}):(Te(s,{code:be.invalid_intersection_types}),Ge)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,l])=>n(a,l)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}xc.create=(i,e,t)=>new xc({left:i,right:e,typeName:ze.ZodIntersection,...Qe(t)});class wn extends et{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==_e.array)return Te(s,{code:be.invalid_type,expected:_e.array,received:s.parsedType}),Ge;if(s.data.length<this._def.items.length)return Te(s,{code:be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ge;!this._def.rest&&s.data.length>this._def.items.length&&(Te(s,{code:be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...s.data].map((l,u)=>{const h=this._def.items[u]||this._def.rest;return h?h._parse(new An(s,l,s.path,u)):null}).filter(l=>!!l);return s.common.async?Promise.all(a).then(l=>Ii.mergeArray(t,l)):Ii.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new wn({...this._def,rest:e})}}wn.create=(i,e)=>{if(!Array.isArray(i))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wn({items:i,typeName:ze.ZodTuple,rest:null,...Qe(e)})};class Tc extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==_e.object)return Te(s,{code:be.invalid_type,expected:_e.object,received:s.parsedType}),Ge;const n=[],a=this._def.keyType,l=this._def.valueType;for(const u in s.data)n.push({key:a._parse(new An(s,u,s.path,u)),value:l._parse(new An(s,s.data[u],s.path,u)),alwaysSet:u in s.data});return s.common.async?Ii.mergeObjectAsync(t,n):Ii.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,s){return t instanceof et?new Tc({keyType:e,valueType:t,typeName:ze.ZodRecord,...Qe(s)}):new Tc({keyType:Ys.create(),valueType:e,typeName:ze.ZodRecord,...Qe(t)})}}class Ef extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==_e.map)return Te(s,{code:be.invalid_type,expected:_e.map,received:s.parsedType}),Ge;const n=this._def.keyType,a=this._def.valueType,l=[...s.data.entries()].map(([u,h],d)=>({key:n._parse(new An(s,u,s.path,[d,"key"])),value:a._parse(new An(s,h,s.path,[d,"value"]))}));if(s.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const h of l){const d=await h.key,m=await h.value;if(d.status==="aborted"||m.status==="aborted")return Ge;(d.status==="dirty"||m.status==="dirty")&&t.dirty(),u.set(d.value,m.value)}return{status:t.value,value:u}})}else{const u=new Map;for(const h of l){const d=h.key,m=h.value;if(d.status==="aborted"||m.status==="aborted")return Ge;(d.status==="dirty"||m.status==="dirty")&&t.dirty(),u.set(d.value,m.value)}return{status:t.value,value:u}}}}Ef.create=(i,e,t)=>new Ef({valueType:e,keyType:i,typeName:ze.ZodMap,...Qe(t)});class lo extends et{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==_e.set)return Te(s,{code:be.invalid_type,expected:_e.set,received:s.parsedType}),Ge;const n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&(Te(s,{code:be.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&(Te(s,{code:be.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const a=this._def.valueType;function l(h){const d=new Set;for(const m of h){if(m.status==="aborted")return Ge;m.status==="dirty"&&t.dirty(),d.add(m.value)}return{status:t.value,value:d}}const u=[...s.data.values()].map((h,d)=>a._parse(new An(s,h,s.path,d)));return s.common.async?Promise.all(u).then(h=>l(h)):l(u)}min(e,t){return new lo({...this._def,minSize:{value:e,message:je.toString(t)}})}max(e,t){return new lo({...this._def,maxSize:{value:e,message:je.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}lo.create=(i,e)=>new lo({valueType:i,minSize:null,maxSize:null,typeName:ze.ZodSet,...Qe(e)});class vl extends et{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==_e.function)return Te(t,{code:be.invalid_type,expected:_e.function,received:t.parsedType}),Ge;function s(u,h){return gf({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,pf(),Gl].filter(d=>!!d),issueData:{code:be.invalid_arguments,argumentsError:h}})}function n(u,h){return gf({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,pf(),Gl].filter(d=>!!d),issueData:{code:be.invalid_return_type,returnTypeError:h}})}const a={errorMap:t.common.contextualErrorMap},l=t.data;if(this._def.returns instanceof ql){const u=this;return $i(async function(...h){const d=new ns([]),m=await u._def.args.parseAsync(h,a).catch(E=>{throw d.addIssue(s(h,E)),d}),p=await Reflect.apply(l,this,m);return await u._def.returns._def.type.parseAsync(p,a).catch(E=>{throw d.addIssue(n(p,E)),d})})}else{const u=this;return $i(function(...h){const d=u._def.args.safeParse(h,a);if(!d.success)throw new ns([s(h,d.error)]);const m=Reflect.apply(l,this,d.data),p=u._def.returns.safeParse(m,a);if(!p.success)throw new ns([n(m,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new vl({...this._def,args:wn.create(e).rest(Za.create())})}returns(e){return new vl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,s){return new vl({args:e||wn.create([]).rest(Za.create()),returns:t||Za.create(),typeName:ze.ZodFunction,...Qe(s)})}}class Ac extends et{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Ac.create=(i,e)=>new Ac({getter:i,typeName:ze.ZodLazy,...Qe(e)});class wc extends et{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Te(t,{received:t.data,code:be.invalid_literal,expected:this._def.value}),Ge}return{status:"valid",value:e.data}}get value(){return this._def.value}}wc.create=(i,e)=>new wc({value:i,typeName:ze.ZodLiteral,...Qe(e)});function Cw(i,e){return new la({values:i,typeName:ze.ZodEnum,...Qe(e)})}class la extends et{constructor(){super(...arguments),ic.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),s=this._def.values;return Te(t,{expected:ft.joinValues(s),received:t.parsedType,code:be.invalid_type}),Ge}if(yf(this,ic)||ww(this,ic,new Set(this._def.values)),!yf(this,ic).has(e.data)){const t=this._getOrReturnCtx(e),s=this._def.values;return Te(t,{received:t.data,code:be.invalid_enum_value,options:s}),Ge}return $i(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return la.create(e,{...this._def,...t})}exclude(e,t=this._def){return la.create(this.options.filter(s=>!e.includes(s)),{...this._def,...t})}}ic=new WeakMap;la.create=Cw;class _c extends et{constructor(){super(...arguments),sc.set(this,void 0)}_parse(e){const t=ft.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==_e.string&&s.parsedType!==_e.number){const n=ft.objectValues(t);return Te(s,{expected:ft.joinValues(n),received:s.parsedType,code:be.invalid_type}),Ge}if(yf(this,sc)||ww(this,sc,new Set(ft.getValidEnumValues(this._def.values))),!yf(this,sc).has(e.data)){const n=ft.objectValues(t);return Te(s,{received:s.data,code:be.invalid_enum_value,options:n}),Ge}return $i(e.data)}get enum(){return this._def.values}}sc=new WeakMap;_c.create=(i,e)=>new _c({values:i,typeName:ze.ZodNativeEnum,...Qe(e)});class ql extends et{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==_e.promise&&t.common.async===!1)return Te(t,{code:be.invalid_type,expected:_e.promise,received:t.parsedType}),Ge;const s=t.parsedType===_e.promise?t.data:Promise.resolve(t.data);return $i(s.then(n=>this._def.type.parseAsync(n,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ql.create=(i,e)=>new ql({type:i,typeName:ze.ZodPromise,...Qe(e)});class Qs extends et{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:s}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:l=>{Te(s,l),l.fatal?t.abort():t.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),n.type==="preprocess"){const l=n.transform(s.data,a);if(s.common.async)return Promise.resolve(l).then(async u=>{if(t.value==="aborted")return Ge;const h=await this._def.schema._parseAsync({data:u,path:s.path,parent:s});return h.status==="aborted"?Ge:h.status==="dirty"||t.value==="dirty"?fl(h.value):h});{if(t.value==="aborted")return Ge;const u=this._def.schema._parseSync({data:l,path:s.path,parent:s});return u.status==="aborted"?Ge:u.status==="dirty"||t.value==="dirty"?fl(u.value):u}}if(n.type==="refinement"){const l=u=>{const h=n.refinement(u,a);if(s.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(s.common.async===!1){const u=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return u.status==="aborted"?Ge:(u.status==="dirty"&&t.dirty(),l(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(u=>u.status==="aborted"?Ge:(u.status==="dirty"&&t.dirty(),l(u.value).then(()=>({status:t.value,value:u.value}))))}if(n.type==="transform")if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!ao(l))return l;const u=n.transform(l.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>ao(l)?Promise.resolve(n.transform(l.value,a)).then(u=>({status:t.value,value:u})):l);ft.assertNever(n)}}Qs.create=(i,e,t)=>new Qs({schema:i,typeName:ze.ZodEffects,effect:e,...Qe(t)});Qs.createWithPreprocess=(i,e,t)=>new Qs({schema:e,effect:{type:"preprocess",transform:i},typeName:ze.ZodEffects,...Qe(t)});class Tn extends et{_parse(e){return this._getType(e)===_e.undefined?$i(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Tn.create=(i,e)=>new Tn({innerType:i,typeName:ze.ZodOptional,...Qe(e)});class ua extends et{_parse(e){return this._getType(e)===_e.null?$i(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ua.create=(i,e)=>new ua({innerType:i,typeName:ze.ZodNullable,...Qe(e)});class Rc extends et{_parse(e){const{ctx:t}=this._processInputParams(e);let s=t.data;return t.parsedType===_e.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Rc.create=(i,e)=>new Rc({innerType:i,typeName:ze.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Qe(e)});class Lc extends et{_parse(e){const{ctx:t}=this._processInputParams(e),s={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return vc(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ns(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new ns(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Lc.create=(i,e)=>new Lc({innerType:i,typeName:ze.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Qe(e)});class kf extends et{_parse(e){if(this._getType(e)!==_e.nan){const s=this._getOrReturnCtx(e);return Te(s,{code:be.invalid_type,expected:_e.nan,received:s.parsedType}),Ge}return{status:"valid",value:e.data}}}kf.create=i=>new kf({typeName:ze.ZodNaN,...Qe(i)});const hF=Symbol("zod_brand");class Ky extends et{_parse(e){const{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}}class Yc extends et{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?Ge:a.status==="dirty"?(t.dirty(),fl(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?Ge:n.status==="dirty"?(t.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(e,t){return new Yc({in:e,out:t,typeName:ze.ZodPipeline})}}class Cc extends et{_parse(e){const t=this._def.innerType._parse(e),s=n=>(ao(n)&&(n.value=Object.freeze(n.value)),n);return vc(t)?t.then(n=>s(n)):s(t)}unwrap(){return this._def.innerType}}Cc.create=(i,e)=>new Cc({innerType:i,typeName:ze.ZodReadonly,...Qe(e)});function Mx(i,e){const t=typeof i=="function"?i(e):typeof i=="string"?{message:i}:i;return typeof t=="string"?{message:t}:t}function Dw(i,e={},t){return i?Hl.create().superRefine((s,n)=>{var a,l;const u=i(s);if(u instanceof Promise)return u.then(h=>{var d,m;if(!h){const p=Mx(e,s),g=(m=(d=p.fatal)!==null&&d!==void 0?d:t)!==null&&m!==void 0?m:!0;n.addIssue({code:"custom",...p,fatal:g})}});if(!u){const h=Mx(e,s),d=(l=(a=h.fatal)!==null&&a!==void 0?a:t)!==null&&l!==void 0?l:!0;n.addIssue({code:"custom",...h,fatal:d})}}):Hl.create()}const fF={object:zt.lazycreate};var ze;(function(i){i.ZodString="ZodString",i.ZodNumber="ZodNumber",i.ZodNaN="ZodNaN",i.ZodBigInt="ZodBigInt",i.ZodBoolean="ZodBoolean",i.ZodDate="ZodDate",i.ZodSymbol="ZodSymbol",i.ZodUndefined="ZodUndefined",i.ZodNull="ZodNull",i.ZodAny="ZodAny",i.ZodUnknown="ZodUnknown",i.ZodNever="ZodNever",i.ZodVoid="ZodVoid",i.ZodArray="ZodArray",i.ZodObject="ZodObject",i.ZodUnion="ZodUnion",i.ZodDiscriminatedUnion="ZodDiscriminatedUnion",i.ZodIntersection="ZodIntersection",i.ZodTuple="ZodTuple",i.ZodRecord="ZodRecord",i.ZodMap="ZodMap",i.ZodSet="ZodSet",i.ZodFunction="ZodFunction",i.ZodLazy="ZodLazy",i.ZodLiteral="ZodLiteral",i.ZodEnum="ZodEnum",i.ZodEffects="ZodEffects",i.ZodNativeEnum="ZodNativeEnum",i.ZodOptional="ZodOptional",i.ZodNullable="ZodNullable",i.ZodDefault="ZodDefault",i.ZodCatch="ZodCatch",i.ZodPromise="ZodPromise",i.ZodBranded="ZodBranded",i.ZodPipeline="ZodPipeline",i.ZodReadonly="ZodReadonly"})(ze||(ze={}));const mF=(i,e={message:`Input not instance of ${i.name}`})=>Dw(t=>t instanceof i,e),Iw=Ys.create,jw=aa.create,pF=kf.create,gF=oa.create,Ow=bc.create,yF=oo.create,vF=vf.create,bF=Ec.create,EF=kc.create,kF=Hl.create,SF=Za.create,xF=ar.create,TF=bf.create,AF=Xs.create,wF=zt.create,_F=zt.strictCreate,RF=Sc.create,LF=im.create,CF=xc.create,DF=wn.create,IF=Tc.create,jF=Ef.create,OF=lo.create,MF=vl.create,PF=Ac.create,NF=wc.create,FF=la.create,BF=_c.create,UF=ql.create,Px=Qs.create,$F=Tn.create,zF=ua.create,GF=Qs.createWithPreprocess,HF=Yc.create,qF=()=>Iw().optional(),VF=()=>jw().optional(),KF=()=>Ow().optional(),YF={string:i=>Ys.create({...i,coerce:!0}),number:i=>aa.create({...i,coerce:!0}),boolean:i=>bc.create({...i,coerce:!0}),bigint:i=>oa.create({...i,coerce:!0}),date:i=>oo.create({...i,coerce:!0})},WF=Ge;var Ur=Object.freeze({__proto__:null,defaultErrorMap:Gl,setErrorMap:GN,getErrorMap:pf,makeIssue:gf,EMPTY_PATH:HN,addIssueToContext:Te,ParseStatus:Ii,INVALID:Ge,DIRTY:fl,OK:$i,isAborted:Z0,isDirty:J0,isValid:ao,isAsync:vc,get util(){return ft},get objectUtil(){return Q0},ZodParsedType:_e,getParsedType:tr,ZodType:et,datetimeRegex:Lw,ZodString:Ys,ZodNumber:aa,ZodBigInt:oa,ZodBoolean:bc,ZodDate:oo,ZodSymbol:vf,ZodUndefined:Ec,ZodNull:kc,ZodAny:Hl,ZodUnknown:Za,ZodNever:ar,ZodVoid:bf,ZodArray:Xs,ZodObject:zt,ZodUnion:Sc,ZodDiscriminatedUnion:im,ZodIntersection:xc,ZodTuple:wn,ZodRecord:Tc,ZodMap:Ef,ZodSet:lo,ZodFunction:vl,ZodLazy:Ac,ZodLiteral:wc,ZodEnum:la,ZodNativeEnum:_c,ZodPromise:ql,ZodEffects:Qs,ZodTransformer:Qs,ZodOptional:Tn,ZodNullable:ua,ZodDefault:Rc,ZodCatch:Lc,ZodNaN:kf,BRAND:hF,ZodBranded:Ky,ZodPipeline:Yc,ZodReadonly:Cc,custom:Dw,Schema:et,ZodSchema:et,late:fF,get ZodFirstPartyTypeKind(){return ze},coerce:YF,any:kF,array:AF,bigint:gF,boolean:Ow,date:yF,discriminatedUnion:LF,effect:Px,enum:FF,function:MF,instanceof:mF,intersection:CF,lazy:PF,literal:NF,map:jF,nan:pF,nativeEnum:BF,never:xF,null:EF,nullable:zF,number:jw,object:wF,oboolean:KF,onumber:VF,optional:$F,ostring:qF,pipeline:HF,preprocess:GF,promise:UF,record:IF,set:OF,strictObject:_F,string:Iw,symbol:vF,transformer:Px,tuple:DF,undefined:bF,union:RF,unknown:SF,void:TF,NEVER:WF,ZodIssueCode:be,quotelessJson:zN,ZodError:ns});function XF(i){return i instanceof ns}async function Yy({url:i,method:e="get",config:t={},schema:s}){try{const n=await $N.request({url:i,method:e,...t});return s?s.parse(n.data):n.data}catch(n){throw UN(n)&&n.response?new oc("NETWORK_REQUEST_ERROR",void 0,{response:n.response}):XF(n)?new oc("VALIDATION_ERROR",void 0,{errors:n.issues}):new oc("NETWORK_ERROR",void 0,{nativeError:n})}}const Wc=Ur.object({id:Ur.string(),time:Ur.number(),author:Ur.string(),text:Ur.string(),timestamp:Ur.number(),resolved:Ur.boolean()}),QF=Ur.array(Wc);Wc.omit({id:!0});Wc.partial().required({id:!0});const ZF=async i=>Yy({url:"/comments",method:"post",schema:Wc,config:{data:i}}),JF=async()=>Yy({url:"/comments",schema:QF}),e3=async(i,e)=>Yy({url:`/comments/${i}`,method:"put",schema:Wc,config:{data:e}}),t3=async()=>JF(),i3=async i=>ZF(i),s3=async(i,e)=>e3(i,e),n3=5*60*1e3,Wy=new K2({defaultOptions:{queries:{networkMode:"always",staleTime:n3,retry:!1},mutations:{networkMode:"always"}}}),Xy={comments:()=>["COMMENTS"]};function r3(){return{queryKey:Xy.comments(),queryFn:()=>t3(),staleTime:1/0}}function Mw(){const i=Yt.c(6);let e;i[0]===Symbol.for("react.memo_cache_sentinel")?(e=r3(),i[0]=e):e=i[0];const{data:t,isLoading:s,error:n}=cP(e);let a;e:{if(!t){let h;i[1]===Symbol.for("react.memo_cache_sentinel")?(h=[],i[1]=h):h=i[1],a=h;break e}a=t}const l=a;let u;return i[2]!==l||i[3]!==n||i[4]!==s?(u={data:l,isLoading:s,error:n},i[2]=l,i[3]=n,i[4]=s,i[5]=u):u=i[5],u}function a3(i){return Wy.setQueryData(Xy.comments(),e=>e?[...e,i]:[i])}function o3(i){return Wy.setQueryData(Xy.comments(),e=>{if(e)return e.map(t=>t.id===i.id?i:t)})}function l3(){const i=Yt.c(3);let e;i[0]===Symbol.for("react.memo_cache_sentinel")?(e={mutationFn:i3,onSuccess:a3},i[0]=e):e=i[0];const t=ew(e);let s;return i[1]!==t.mutateAsync?(s={create:t.mutateAsync},i[1]=t.mutateAsync,i[2]=s):s=i[2],s}function u3(){const i=Yt.c(3);let e;i[0]===Symbol.for("react.memo_cache_sentinel")?(e={mutationFn:c3,onSuccess:o3},i[0]=e):e=i[0];const t=ew(e);let s;return i[1]!==t.mutateAsync?(s={update:t.mutateAsync},i[1]=t.mutateAsync,i[2]=s):s=i[2],s}function c3(i){return s3(i.id,i)}const Nx=i=>{let e;const t=new Set,s=(d,m)=>{const p=typeof d=="function"?d(e):d;if(!Object.is(p,e)){const g=e;e=m??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(E=>E(e,g))}},n=()=>e,u={setState:s,getState:n,getInitialState:()=>h,subscribe:d=>(t.add(d),()=>t.delete(d))},h=e=i(s,n,u);return u},d3=i=>i?Nx(i):Nx,h3=i=>i;function f3(i,e=h3){const t=pe.useSyncExternalStore(i.subscribe,pe.useCallback(()=>e(i.getState()),[i,e]),pe.useCallback(()=>e(i.getInitialState()),[i,e]));return pe.useDebugValue(t),t}const m3=i=>{const e=d3(i),t=s=>f3(e,s);return Object.assign(t,e),t},p3=i=>m3;class Ja extends tm{constructor(e,t,s){super(e,t,s),Object.setPrototypeOf(this,Ja.prototype)}}function g3(i){return 1/i}function y3({currentTime:i,duration:e,fps:t,direction:s}){const n=g3(t);return Math.max(0,Math.min(i+n*s,e))}const Fx={isPlaying:!1,currentTime:0,duration:0,volume:1,isMuted:!1,isBuffering:!1,fps:30,videoElement:null},fa=p3()((i,e)=>({...Fx,actions:{play:async()=>{const{videoElement:t}=e();if(!t)throw new Ja("PLAYER_LOADING_ERROR","Video element not found");try{await t.play()}catch(s){throw new Ja("PLAYER_LOADING_ERROR","Failed to play video",{error:s})}i({isPlaying:!0})},pause:()=>{const{videoElement:t}=e();t&&(t.pause(),i({isPlaying:!1}))},togglePlay:async()=>{const{isPlaying:t,actions:s}=e();if(t){s.pause();return}await s.play()},stepFrame:t=>{const{videoElement:s,isPlaying:n,fps:a,currentTime:l,duration:u}=e();if(!s||n)return;const h=y3({currentTime:l,duration:u,fps:a,direction:t});s.currentTime=h,i({currentTime:h})},seek:t=>{const{videoElement:s,duration:n}=e();if(!s)return;const a=Math.max(0,Math.min(t,n));s.currentTime=a,i({currentTime:a})},jump:t=>{const{videoElement:s,currentTime:n,duration:a}=e();if(!s)return;const l=Math.max(0,Math.min(n+t,a));s.currentTime=l,i({currentTime:l})},toggleMute:()=>{const{videoElement:t,isMuted:s}=e();t&&(t.muted=!s,i({isMuted:!s}))},setIsPlaying:t=>{i({isPlaying:t})},setCurrentTime:t=>{i({currentTime:t})},setDuration:t=>{i({duration:t})},setIsBuffering:t=>{i({isBuffering:t})},setFps:t=>{i({fps:t})},setVideoElement:t=>{i({videoElement:t})},reset:()=>{i(Fx)}}})),v3=()=>fa(x3),b3=()=>fa(T3),Pw=()=>fa(A3),E3=()=>fa(w3),k3=()=>fa(_3),Nw=()=>fa(R3),S3=i=>{const e=Yt.c(2),t=i;let s;return e[0]!==t?(s=n=>Math.floor(n.currentTime/t)*t,e[0]=t,e[1]=s):s=e[1],fa(s)},Xc=()=>fa(L3);function x3(i){return i.isPlaying}function T3(i){return i.duration}function A3(i){return i.isBuffering}function w3(i){return i.fps}function _3(i){return i.videoElement}function R3(i){return i.currentTime}function L3(i){return i.actions}const C3=i=>{const e=Yt.c(8),{comments:t,currentVideoTime:s,enabled:n}=i,a=n===void 0?!0:n,l=$e.useRef(null);let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=new Map,e[0]=u):u=e[0];const h=$e.useRef(u),d=$e.useRef(null);let m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m=(k,S)=>{if(S){h.current.set(k,S);return}h.current.delete(k)},e[1]=m):m=e[1];const p=m;let g,E;e[2]!==t||e[3]!==s||e[4]!==a?(g=()=>{if(!a||!t||t.length===0||!l.current)return;const k=t.find(S=>Math.abs(S.time-s)<1);if(k&&k.id!==d.current){const S=h.current.get(k.id);S&&l.current&&(S.scrollIntoView({behavior:"smooth",block:"center"}),d.current=k.id);return}if(!k){d.current=null;return}},E=[t,s,a],e[2]=t,e[3]=s,e[4]=a,e[5]=g,e[6]=E):(g=e[5],E=e[6]),$e.useEffect(g,E);let b;return e[7]===Symbol.for("react.memo_cache_sentinel")?(b={scrollContainerRef:l,registerComment:p},e[7]=b):b=e[7],b},Dc=i=>{if(!isFinite(i)||i<0)return"00:00:00.00";const e=Math.floor(i/3600),t=Math.floor(i%3600/60),s=Math.floor(i%60),n=Math.floor(i%1*100),a=(l,u=2)=>l.toString().padStart(u,"0");return`${a(e)}:${a(t)}:${a(s)}.${a(n)}`};function ty(i,e,t,s){const n=Yt.c(11),a=$e.useRef(e);let l,u;n[0]!==e?(l=()=>{a.current=e},u=[e],n[0]=e,n[1]=l,n[2]=u):(l=n[1],u=n[2]),$e.useEffect(l,u);let h;n[3]!==(t==null?void 0:t.current)||n[4]!==i||n[5]!==s?(h=()=>{const m=(t==null?void 0:t.current)??window;if(!(m&&m.addEventListener))return;const p=g=>{a.current(g)};return m.addEventListener(i,p,s),()=>{m.removeEventListener(i,p,s)}},n[3]=t==null?void 0:t.current,n[4]=i,n[5]=s,n[6]=h):h=n[6];let d;n[7]!==t||n[8]!==i||n[9]!==s?(d=[i,t,s],n[7]=t,n[8]=i,n[9]=s,n[10]=d):d=n[10],$e.useEffect(h,d)}function D3(i){const e=Yt.c(2),[t,s]=$e.useState(!1);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{s(!0)},e[0]=n):n=e[0];const a=n;let l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{s(!1)},e[1]=l):l=e[1];const u=l;return ty("mouseenter",a,i),ty("mouseleave",u,i),t}const qh=(i,e,t)=>{const s=Yt.c(4),n=!0;let a;s[0]!==e||s[1]!==n||s[2]!==i?(a=u=>{const h=u.target;h.tagName==="INPUT"||h.tagName==="TEXTAREA"||h.isContentEditable||u.key===i&&(u.preventDefault(),e())},s[0]=e,s[1]=n,s[2]=i,s[3]=a):a=s[3],ty("keydown",a)},I3=i=>{const e=Yt.c(2);let t;e[0]!==i?(t=()=>{i.current&&i.current.focus()},e[0]=i,e[1]=t):t=e[1],qh("c",t)};function j3(){const{create:i}=l3(),[e,t]=$e.useState(""),[s,n]=$e.useState(!1),a=$e.useRef(null),l=Nw();I3(a);const u=async()=>{if(!(!e.trim()||s)){n(!0);try{await i({text:e.trim(),time:l,author:"Current User",timestamp:Date.now(),resolved:!1}),t(""),fc.success("Comment added successfully")}catch{fc.error("Failed to add comment. Please try again.")}finally{n(!1)}}},h=async d=>{d.key==="Enter"&&(d.metaKey||d.ctrlKey)&&(d.preventDefault(),await u())};return ke.jsxs(O3,{children:[ke.jsxs(M3,{children:[ke.jsx(P3,{children:"C"}),ke.jsx(N3,{ref:a,value:e,onChange:d=>t(d.target.value),onKeyDown:h,placeholder:`Add a comment at ${Dc(l)}`,rows:3,disabled:s})]}),ke.jsx(F3,{onClick:u,disabled:!e.trim()||s,children:s?"Submitting...":"Submit"})]})}const O3=Fe.div`
  position: sticky;
  bottom: 0;
  background: ${({theme:i})=>i.colors.background.secondary};
  border-top: 1px solid ${({theme:i})=>i.colors.border.primary};
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;

  ${Zt.mobile} {
    padding: 12px;
    gap: 8px;
  }
`,M3=Fe.div`
  display: flex;
  gap: 12px;
  align-items: flex-start;

  ${Zt.mobile} {
    gap: 8px;
  }
`,P3=Fe.div`
  width: 32px;
  height: 32px;
  min-width: 32px;
  border-radius: 50%;
  background: ${({theme:i})=>i.colors.primary};
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 14px;
  margin-top: 4px;
`,N3=Fe.textarea`
  flex: 1;
  background: ${({theme:i})=>i.colors.background.tertiary};
  border: 1px solid ${({theme:i})=>i.colors.border.secondary};
  border-radius: 8px;
  color: ${({theme:i})=>i.colors.text.primary};
  padding: 12px;
  font-size: 14px;
  font-family: inherit;
  resize: none;
  transition: border-color 0.2s;

  &::placeholder {
    color: ${({theme:i})=>i.colors.text.quaternary};
  }

  &:focus {
    outline: none;
    border-color: ${({theme:i})=>i.colors.primary};
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  ${Zt.mobile} {
    padding: 10px;
    font-size: 13px;
  }
`,F3=Fe.button`
  align-self: flex-end;
  background: ${({theme:i})=>i.colors.primary};
  border: none;
  color: ${({theme:i})=>i.colors.text.primary};
  padding: 10px 24px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;

  &:hover:not(:disabled) {
    background: ${({theme:i})=>i.colors.primaryHover};
    transform: translateY(-1px);
  }

  &:active:not(:disabled) {
    transform: translateY(0);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  ${Zt.mobile} {
    padding: 8px 20px;
    font-size: 13px;
  }
`;var Fw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Bx=pe.createContext&&pe.createContext(Fw),B3=["attr","size","title"];function U3(i,e){if(i==null)return{};var t=$3(i,e),s,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)s=a[n],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(t[s]=i[s])}return t}function $3(i,e){if(i==null)return{};var t={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function Sf(){return Sf=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Sf.apply(this,arguments)}function Ux(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,s)}return t}function xf(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ux(Object(t),!0).forEach(function(s){z3(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Ux(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function z3(i,e,t){return e=G3(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function G3(i){var e=H3(i,"string");return typeof e=="symbol"?e:e+""}function H3(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Bw(i){return i&&i.map((e,t)=>pe.createElement(e.tag,xf({key:t},e.attr),Bw(e.child)))}function ho(i){return e=>pe.createElement(q3,Sf({attr:xf({},i.attr)},e),Bw(i.child))}function q3(i){var e=t=>{var{attr:s,size:n,title:a}=i,l=U3(i,B3),u=n||t.size||"1em",h;return t.className&&(h=t.className),i.className&&(h=(h?h+" ":"")+i.className),pe.createElement("svg",Sf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,l,{className:h,style:xf(xf({color:i.color||t.color},t.style),i.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&pe.createElement("title",null,a),i.children)};return Bx!==void 0?pe.createElement(Bx.Consumer,null,t=>e(t)):e(Fw)}function V3(i){return ho({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m4 18 8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"},child:[]}]})(i)}function K3(i){return ho({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 18V6l-8.5 6 8.5 6zm.5-6 8.5 6V6l-8.5 6z"},child:[]}]})(i)}function Y3(i){return ho({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 13c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6v4l5-5-5-5v4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8h-2z"},child:[]},{tag:"path",attr:{d:"M12.03 15.38c-.44 0-.58-.31-.6-.56h-.84c.03.85.79 1.25 1.44 1.25.93 0 1.44-.63 1.44-1.43 0-1.33-.97-1.44-1.3-1.44-.2 0-.43.05-.64.16l.11-.92h1.7v-.71h-2.39l-.25 2.17.67.17c.13-.13.28-.23.57-.23.4 0 .69.23.69.75-.01.05.02.79-.6.79z"},child:[]}]})(i)}function W3(i){return ho({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"},child:[]}]})(i)}function X3(i){return ho({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M8 5v14l11-7z"},child:[]}]})(i)}function Q3(i){return ho({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"},child:[]},{tag:"path",attr:{d:"m10.69 13.9.25-2.17h2.39v.71h-1.7l-.11.92c.03-.02.07-.03.11-.05s.09-.04.15-.05.12-.03.18-.04.13-.02.2-.02c.21 0 .39.03.55.1s.3.16.41.28.2.27.25.45.09.38.09.6c0 .19-.03.37-.09.54s-.15.32-.27.45-.27.24-.45.31-.39.12-.64.12c-.18 0-.36-.03-.53-.08s-.32-.14-.46-.24-.24-.24-.32-.39-.13-.33-.13-.53h.84c.02.18.08.32.19.41s.25.15.42.15a.49.49 0 0 0 .45-.23c.04-.07.08-.15.11-.25s.03-.2.03-.31-.01-.21-.04-.31-.07-.17-.13-.24-.13-.12-.21-.15-.19-.05-.3-.05c-.08 0-.15.01-.2.02s-.11.03-.15.05-.08.05-.12.07-.07.06-.1.09l-.67-.16z"},child:[]}]})(i)}function Z3(i){return ho({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},child:[]}]})(i)}const J3=({commentTime:i,currentVideoTime:e})=>Math.abs(i-e)<1,e4=i=>{const t=Date.now()-i,s=Math.floor(t/(1e3*60*60*24));return s===0?"Today":s===1?"1 day ago":`${s} days ago`};function t4({comment:i,isActive:e,ref:t}){const{update:s}=u3(),{seek:n,pause:a}=Xc(),l=()=>{a(),n(i.time)},u=async()=>{try{await s({id:i.id,resolved:!i.resolved}),fc.success(i.resolved?"Comment reopened":"Comment marked as resolved")}catch{fc.error("Failed to update comment. Please try again.")}};return ke.jsxs(i4,{ref:t,$isActive:e,$resolved:i.resolved,children:[ke.jsxs(s4,{children:[ke.jsx(n4,{children:i.author[0].toUpperCase()}),ke.jsxs(r4,{children:[ke.jsx(a4,{children:i.author}),ke.jsx(o4,{children:e4(i.timestamp??i.time)})]})]}),ke.jsx(l4,{onClick:l,title:"Click to jump to this time",children:Dc(i.time)}),ke.jsx(u4,{$resolved:i.resolved,children:i.text}),ke.jsx(c4,{onClick:u,$resolved:i.resolved,children:i.resolved?ke.jsxs(ke.Fragment,{children:[ke.jsx(d4,{children:ke.jsx(Z3,{})}),"Resolved"]}):"Mark as resolved"})]})}const i4=Fe.div`
  background: ${i=>i.$isActive?i.theme.colors.primaryDark:i.theme.colors.background.tertiary};
  border-radius: 8px;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  transition: all 0.2s ease;

  border: 2px solid;
  ${i=>i.$isActive?`
        border-color: ${i.theme.colors.primary};
        border-style: solid;
      `:`
        border-color: ${i.theme.colors.border.accent};
        border-style: dashed;
      `}

  ${Zt.mobile} {
    padding: 10px;
    gap: 6px;
  }
`,s4=Fe.div`
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 8px;

  ${Zt.mobile} {
    gap: 8px;
    margin-bottom: 6px;
  }
`,n4=Fe.div`
  width: 36px;
  height: 36px;
  min-width: 36px;
  border-radius: 50%;
  background: ${({theme:i})=>i.colors.primary};
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 16px;

  ${Zt.mobile} {
    width: 32px;
    height: 32px;
    min-width: 32px;
    font-size: 14px;
  }
`,r4=Fe.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex: 1;
  gap: 12px;
`,a4=Fe.div`
  font-size: 15px;
  font-weight: 600;
  color: ${({theme:i})=>i.colors.text.primary};

  ${Zt.mobile} {
    font-size: 14px;
  }
`,o4=Fe.div`
  font-size: 13px;
  color: ${({theme:i})=>i.colors.text.tertiary};
  white-space: nowrap;

  ${Zt.mobile} {
    font-size: 12px;
  }
`,l4=Fe.div`
  font-size: 13px;
  color: ${({theme:i})=>i.colors.comment.timestamp};
  font-weight: 500;
  font-family: 'Monaco', 'Courier New', monospace;
  cursor: pointer;
  margin-bottom: 8px;
  transition: color 0.2s;

  &:hover {
    color: ${({theme:i})=>i.colors.primary};
  }
`,u4=Fe.div`
  font-size: 14px;
  line-height: 1.6;
  color: ${({theme:i})=>i.colors.text.secondary};
  margin-bottom: 8px;
  text-decoration: ${i=>i.$resolved?"line-through":"none"};
  opacity: ${i=>i.$resolved?.7:1};

  ${Zt.mobile} {
    font-size: 13px;
    margin-bottom: 6px;
  }
`,c4=Fe.button`
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 13px;
  color: ${i=>i.$resolved?i.theme.colors.comment.resolved:i.theme.colors.text.tertiary};
  font-weight: 500;
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 0;
  transition: color 0.2s;

  &:hover {
    color: ${i=>i.$resolved?i.theme.colors.comment.resolved:i.theme.colors.text.primary};
  }
`,d4=Fe.span`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 18px;
  height: 18px;
  background: ${({theme:i})=>i.colors.comment.resolved};
  color: ${({theme:i})=>i.colors.text.primary};
  border-radius: 50%;
  font-size: 14px;
  line-height: 1;
`,h4=i=>{const e=Yt.c(5),{count:t}=i;let s;e[0]!==t?(s=ke.jsxs(m4,{children:["Comments (",t,")"]}),e[0]=t,e[1]=s):s=e[1];let n;e[2]===Symbol.for("react.memo_cache_sentinel")?(n=ke.jsx(p4,{}),e[2]=n):n=e[2];let a;return e[3]!==s?(a=ke.jsxs(f4,{children:[s,n]}),e[3]=s,e[4]=a):a=e[4],a},f4=Fe.div`
  padding: 16px;
  border-bottom: 1px solid ${({theme:i})=>i.colors.border.primary};
  display: flex;
  justify-content: space-between;
  align-items: center;
`,m4=Fe.h3`
  margin: 0;
  font-size: 14px;
  font-weight: 600;
`,p4=Fe.div`
  display: flex;
  gap: 8px;
`;function g4(){const i=Yt.c(21),{data:e,isLoading:t,error:s}=Mw(),n=S3(2);let a;i[0]!==e||i[1]!==n?(a={comments:e,currentVideoTime:n,enabled:!0},i[0]=e,i[1]=n,i[2]=a):a=i[2];const{scrollContainerRef:l,registerComment:u}=C3(a);let h,d;if(i[3]!==s?(h=()=>{s&&fc.error("Failed to load comments. Please try again.")},d=[s],i[3]=s,i[4]=h,i[5]=d):(h=i[4],d=i[5]),$e.useEffect(h,d),t){let k;return i[6]===Symbol.for("react.memo_cache_sentinel")?(k=ke.jsx(Hg,{children:ke.jsx($x,{children:"Loading comments..."})}),i[6]=k):k=i[6],k}if(e.length===0){let k;return i[7]===Symbol.for("react.memo_cache_sentinel")?(k=ke.jsx(Hg,{children:ke.jsx($x,{children:"No comments yet"})}),i[7]=k):k=i[7],k}let m;i[8]!==e.length?(m=ke.jsx(h4,{count:e.length}),i[8]=e.length,i[9]=m):m=i[9];let p;i[10]!==e||i[11]!==n||i[12]!==u?(p=e==null?void 0:e.map(k=>ke.jsx(t4,{comment:k,isActive:J3({commentTime:k.time,currentVideoTime:n}),ref:S=>u(k.id,S)},k.id)),i[10]=e,i[11]=n,i[12]=u,i[13]=p):p=i[13];let g;i[14]!==l||i[15]!==p?(g=ke.jsx(y4,{ref:l,children:p}),i[14]=l,i[15]=p,i[16]=g):g=i[16];let E;i[17]===Symbol.for("react.memo_cache_sentinel")?(E=ke.jsx(j3,{}),i[17]=E):E=i[17];let b;return i[18]!==m||i[19]!==g?(b=ke.jsxs(Hg,{children:[m,g,E]}),i[18]=m,i[19]=g,i[20]=b):b=i[20],b}const Hg=Fe.div`
  width: 360px;
  background: ${({theme:i})=>i.colors.background.secondary};
  color: ${({theme:i})=>i.colors.text.primary};
  display: flex;
  flex-direction: column;
  border-left: 1px solid ${({theme:i})=>i.colors.border.primary};
  height: 100%;
  overflow: hidden;

  ${Zt.tablet} {
    width: 100%;
    border-left: none;
    border-top: 1px solid ${({theme:i})=>i.colors.border.primary};
    flex: 1;
    min-height: 0;
  }
`,$x=Fe.div`
  padding: 24px;
  color: ${({theme:i})=>i.colors.text.tertiary};
  text-align: center;
`,y4=Fe.div`
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 8px;
  padding-bottom: 0;
  display: flex;
  flex-direction: column;
  gap: 8px;
  min-height: 0;
`,v4=i=>{const e=Yt.c(6),{projectName:t,versionName:s}=i,n=t===void 0?"Project Alpha":t,a=s===void 0?"v2 Draft":s;let l,u;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=ke.jsx(k4,{children:"Review Tool"}),u=ke.jsx(S4,{}),e[0]=l,e[1]=u):(l=e[0],u=e[1]);let h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h=ke.jsx(T4,{children:"Projects"}),e[2]=h):h=e[2];let d;return e[3]!==n||e[4]!==a?(d=ke.jsx(b4,{children:ke.jsxs(E4,{children:[l,u,ke.jsxs(x4,{children:[h,ke.jsxs(A4,{children:[n," / ",a]})]})]})}),e[3]=n,e[4]=a,e[5]=d):d=e[5],d},b4=Fe.header`
  background: ${({theme:i})=>i.colors.background.secondary};
  border-bottom: 1px solid ${({theme:i})=>i.colors.border.primary};
  padding: 8px 24px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  color: ${({theme:i})=>i.colors.text.primary};
  min-height: 48px;

  ${Zt.mobile} {
    padding: 8px 12px;
    min-height: 44px;
  }
`,E4=Fe.div`
  display: flex;
  align-items: center;
  gap: 16px;

  ${Zt.mobile} {
    gap: 8px;
  }
`,k4=Fe.h1`
  margin: 0;
  font-size: 15px;
  font-weight: 600;

  ${Zt.mobile} {
    font-size: 14px;
  }
`,S4=Fe.div`
  width: 1px;
  height: 20px;
  background: ${({theme:i})=>i.colors.border.divider};

  ${Zt.mobile} {
    display: none;
  }
`,x4=Fe.div`
  display: flex;
  align-items: center;
  gap: 8px;

  ${Zt.mobile} {
    gap: 4px;
  }
`,T4=Fe.span`
  font-size: 12px;
  color: ${({theme:i})=>i.colors.text.tertiary};

  ${Zt.mobile} {
    display: none;
  }
`,A4=Fe.span`
  font-size: 13px;
  font-weight: 500;

  ${Zt.mobile} {
    font-size: 12px;
  }
`,Ae=Number.isFinite||function(i){return typeof i=="number"&&isFinite(i)},w4=Number.isSafeInteger||function(i){return typeof i=="number"&&Math.abs(i)<=_4},_4=Number.MAX_SAFE_INTEGER||9007199254740991;let Ie=function(i){return i.NETWORK_ERROR="networkError",i.MEDIA_ERROR="mediaError",i.KEY_SYSTEM_ERROR="keySystemError",i.MUX_ERROR="muxError",i.OTHER_ERROR="otherError",i}({}),Q=function(i){return i.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",i.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",i.KEY_SYSTEM_NO_SESSION="keySystemNoSession",i.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",i.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",i.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",i.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",i.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",i.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",i.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",i.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",i.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",i.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",i.MANIFEST_LOAD_ERROR="manifestLoadError",i.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",i.MANIFEST_PARSING_ERROR="manifestParsingError",i.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",i.LEVEL_EMPTY_ERROR="levelEmptyError",i.LEVEL_LOAD_ERROR="levelLoadError",i.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",i.LEVEL_PARSING_ERROR="levelParsingError",i.LEVEL_SWITCH_ERROR="levelSwitchError",i.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",i.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",i.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",i.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",i.FRAG_LOAD_ERROR="fragLoadError",i.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",i.FRAG_DECRYPT_ERROR="fragDecryptError",i.FRAG_PARSING_ERROR="fragParsingError",i.FRAG_GAP="fragGap",i.REMUX_ALLOC_ERROR="remuxAllocError",i.KEY_LOAD_ERROR="keyLoadError",i.KEY_LOAD_TIMEOUT="keyLoadTimeOut",i.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",i.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",i.BUFFER_APPEND_ERROR="bufferAppendError",i.BUFFER_APPENDING_ERROR="bufferAppendingError",i.BUFFER_STALLED_ERROR="bufferStalledError",i.BUFFER_FULL_ERROR="bufferFullError",i.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",i.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",i.ASSET_LIST_LOAD_ERROR="assetListLoadError",i.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",i.ASSET_LIST_PARSING_ERROR="assetListParsingError",i.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",i.INTERNAL_EXCEPTION="internalException",i.INTERNAL_ABORTED="aborted",i.ATTACH_MEDIA_ERROR="attachMediaError",i.UNKNOWN="unknown",i}({}),A=function(i){return i.MEDIA_ATTACHING="hlsMediaAttaching",i.MEDIA_ATTACHED="hlsMediaAttached",i.MEDIA_DETACHING="hlsMediaDetaching",i.MEDIA_DETACHED="hlsMediaDetached",i.MEDIA_ENDED="hlsMediaEnded",i.STALL_RESOLVED="hlsStallResolved",i.BUFFER_RESET="hlsBufferReset",i.BUFFER_CODECS="hlsBufferCodecs",i.BUFFER_CREATED="hlsBufferCreated",i.BUFFER_APPENDING="hlsBufferAppending",i.BUFFER_APPENDED="hlsBufferAppended",i.BUFFER_EOS="hlsBufferEos",i.BUFFERED_TO_END="hlsBufferedToEnd",i.BUFFER_FLUSHING="hlsBufferFlushing",i.BUFFER_FLUSHED="hlsBufferFlushed",i.MANIFEST_LOADING="hlsManifestLoading",i.MANIFEST_LOADED="hlsManifestLoaded",i.MANIFEST_PARSED="hlsManifestParsed",i.LEVEL_SWITCHING="hlsLevelSwitching",i.LEVEL_SWITCHED="hlsLevelSwitched",i.LEVEL_LOADING="hlsLevelLoading",i.LEVEL_LOADED="hlsLevelLoaded",i.LEVEL_UPDATED="hlsLevelUpdated",i.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",i.LEVELS_UPDATED="hlsLevelsUpdated",i.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",i.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",i.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",i.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",i.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",i.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",i.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",i.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",i.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",i.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",i.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",i.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",i.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",i.CUES_PARSED="hlsCuesParsed",i.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",i.INIT_PTS_FOUND="hlsInitPtsFound",i.FRAG_LOADING="hlsFragLoading",i.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",i.FRAG_LOADED="hlsFragLoaded",i.FRAG_DECRYPTED="hlsFragDecrypted",i.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",i.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",i.FRAG_PARSING_METADATA="hlsFragParsingMetadata",i.FRAG_PARSED="hlsFragParsed",i.FRAG_BUFFERED="hlsFragBuffered",i.FRAG_CHANGED="hlsFragChanged",i.FPS_DROP="hlsFpsDrop",i.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",i.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",i.ERROR="hlsError",i.DESTROYING="hlsDestroying",i.KEY_LOADING="hlsKeyLoading",i.KEY_LOADED="hlsKeyLoaded",i.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",i.BACK_BUFFER_REACHED="hlsBackBufferReached",i.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",i.ASSET_LIST_LOADING="hlsAssetListLoading",i.ASSET_LIST_LOADED="hlsAssetListLoaded",i.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",i.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",i.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",i.INTERSTITIAL_STARTED="hlsInterstitialStarted",i.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",i.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",i.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",i.INTERSTITIAL_ENDED="hlsInterstitialEnded",i.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",i.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",i.EVENT_CUE_ENTER="hlsEventCueEnter",i}({});var st={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Re={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};class sl{constructor(e,t=0,s=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=s}sample(e,t){const s=Math.pow(this.alpha_,e);this.estimate_=t*(1-s)+s*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class R4{constructor(e,t,s,n=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=s,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new sl(e),this.fast_=new sl(t),this.defaultTTFB_=n,this.ttfb_=new sl(e)}update(e,t){const{slow_:s,fast_:n,ttfb_:a}=this;s.halfLife!==e&&(this.slow_=new sl(e,s.getEstimate(),s.getTotalWeight())),n.halfLife!==t&&(this.fast_=new sl(t,n.getEstimate(),n.getTotalWeight())),a.halfLife!==e&&(this.ttfb_=new sl(e,a.getEstimate(),a.getTotalWeight()))}sample(e,t){e=Math.max(e,this.minDelayMs_);const s=8*t,n=e/1e3,a=s/n;this.fast_.sample(n,a),this.slow_.sample(n,a)}sampleTTFB(e){const t=e/1e3,s=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(s,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function L4(i,e,t){return(e=D4(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Dt(){return Dt=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Dt.apply(null,arguments)}function zx(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,s)}return t}function wt(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zx(Object(t),!0).forEach(function(s){L4(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):zx(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function C4(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function D4(i){var e=C4(i,"string");return typeof e=="symbol"?e:e+""}class Ps{constructor(e,t){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const s=`[${e}]:`;this.trace=$r,this.debug=t.debug.bind(null,s),this.log=t.log.bind(null,s),this.warn=t.warn.bind(null,s),this.info=t.info.bind(null,s),this.error=t.error.bind(null,s)}}const $r=function(){},I4={trace:$r,debug:$r,log:$r,warn:$r,info:$r,error:$r};function iy(){return Dt({},I4)}function j4(i,e){const t=self.console[i];return t?t.bind(self.console,`${e?"["+e+"] ":""}[${i}] >`):$r}function Gx(i,e,t){return e[i]?e[i].bind(e):j4(i,t)}const sy=iy();function O4(i,e,t){const s=iy();if(typeof console=="object"&&i===!0||typeof i=="object"){const n=["debug","log","info","warn","error"];n.forEach(a=>{s[a]=Gx(a,i,t)});try{s.log(`Debug logs enabled for "${e}" in hls.js version 1.6.15`)}catch{return iy()}n.forEach(a=>{sy[a]=Gx(a,i)})}else Dt(sy,s);return s}const _t=sy;function ca(i=!0){return typeof self>"u"?void 0:(i||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function M4(i){return typeof self<"u"&&i===self.ManagedMediaSource}function Uw(i,e){const t=Object.keys(i),s=Object.keys(e),n=t.length,a=s.length;return!n||!a||n===a&&!t.some(l=>s.indexOf(l)===-1)}function Es(i,e=!1){if(typeof TextDecoder<"u"){const d=new TextDecoder("utf-8").decode(i);if(e){const m=d.indexOf("\0");return m!==-1?d.substring(0,m):d}return d.replace(/\0/g,"")}const t=i.length;let s,n,a,l="",u=0;for(;u<t;){if(s=i[u++],s===0&&e)return l;if(s===0||s===3)continue;switch(s>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:l+=String.fromCharCode(s);break;case 12:case 13:n=i[u++],l+=String.fromCharCode((s&31)<<6|n&63);break;case 14:n=i[u++],a=i[u++],l+=String.fromCharCode((s&15)<<12|(n&63)<<6|(a&63)<<0);break}}return l}function xi(i){let e="";for(let t=0;t<i.length;t++){let s=i[t].toString(16);s.length<2&&(s="0"+s),e+=s}return e}function $w(i){return Uint8Array.from(i.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}function P4(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var qg={exports:{}},Hx;function N4(){return Hx||(Hx=1,function(i,e){(function(t){var s=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,l=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,u={buildAbsoluteURL:function(h,d,m){if(m=m||{},h=h.trim(),d=d.trim(),!d){if(!m.alwaysNormalize)return h;var p=u.parseURL(h);if(!p)throw new Error("Error trying to parse base URL.");return p.path=u.normalizePath(p.path),u.buildURLFromParts(p)}var g=u.parseURL(d);if(!g)throw new Error("Error trying to parse relative URL.");if(g.scheme)return m.alwaysNormalize?(g.path=u.normalizePath(g.path),u.buildURLFromParts(g)):d;var E=u.parseURL(h);if(!E)throw new Error("Error trying to parse base URL.");if(!E.netLoc&&E.path&&E.path[0]!=="/"){var b=n.exec(E.path);E.netLoc=b[1],E.path=b[2]}E.netLoc&&!E.path&&(E.path="/");var k={scheme:E.scheme,netLoc:g.netLoc,path:null,params:g.params,query:g.query,fragment:g.fragment};if(!g.netLoc&&(k.netLoc=E.netLoc,g.path[0]!=="/"))if(!g.path)k.path=E.path,g.params||(k.params=E.params,g.query||(k.query=E.query));else{var S=E.path,x=S.substring(0,S.lastIndexOf("/")+1)+g.path;k.path=u.normalizePath(x)}return k.path===null&&(k.path=m.alwaysNormalize?u.normalizePath(g.path):g.path),u.buildURLFromParts(k)},parseURL:function(h){var d=s.exec(h);return d?{scheme:d[1]||"",netLoc:d[2]||"",path:d[3]||"",params:d[4]||"",query:d[5]||"",fragment:d[6]||""}:null},normalizePath:function(h){for(h=h.split("").reverse().join("").replace(a,"");h.length!==(h=h.replace(l,"")).length;);return h.split("").reverse().join("")},buildURLFromParts:function(h){return h.scheme+h.netLoc+h.path+h.params+h.query+h.fragment}};i.exports=u})()}(qg)),qg.exports}var Qy=N4();class Zy{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var jt={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class zw{constructor(e){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,typeof e=="string"&&(e={url:e}),this.base=e,B4(this,"stats")}setByteRange(e,t){const s=e.split("@",2);let n;s.length===1?n=(t==null?void 0:t.byteRangeEndOffset)||0:n=parseInt(s[1]),this._byteRange=[n,parseInt(s[0])+n]}get baseurl(){return this.base.url}get byteRange(){return this._byteRange===null?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return this._streams===null&&(this._streams={[jt.AUDIO]:null,[jt.VIDEO]:null,[jt.AUDIOVIDEO]:null}),this._streams}set elementaryStreams(e){this._streams=e}get hasStats(){return this._stats!==null}get hasStreams(){return this._streams!==null}get stats(){return this._stats===null&&(this._stats=new Zy),this._stats}set stats(e){this._stats=e}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Qy.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[jt.AUDIO]=null,e[jt.VIDEO]=null,e[jt.AUDIOVIDEO]=null}}function Qt(i){return i.sn!=="initSegment"}class Vg extends zw{constructor(e,t){super(t),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get byteLength(){if(this.hasStats){const e=this.stats.total;if(e)return e}if(this.byteRange.length){const e=this.byteRange[0],t=this.byteRange[1];if(Ae(e)&&Ae(t))return t-e}return null}get bitrate(){return this.byteLength?this.byteLength*8/this.duration:this._bitrate?this._bitrate:null}set bitrate(e){this._bitrate=e}get decryptdata(){var e;const{levelkeys:t}=this;if(!t||t.NONE)return null;if(t.identity)this._decryptdata||(this._decryptdata=t.identity.getDecryptData(this.sn));else if(!((e=this._decryptdata)!=null&&e.keyId)){const s=Object.keys(t);if(s.length===1){const n=this._decryptdata=t[s[0]]||null;n&&(this._decryptdata=n.getDecryptData(this.sn,t))}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null)return null;const e=Ae(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){var t;const s=Object.keys(this.levelkeys),n=s.length;if(n>1||n===1&&(t=this.levelkeys[s[0]])!=null&&t.encrypted)return!0}return!1}get programDateTime(){return this._programDateTime===null&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(e){if(!Ae(e)){this._programDateTime=this.rawProgramDateTime=null;return}this._programDateTime=e}get ref(){return Qt(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(e){this.setStart(this.start+e)}setStart(e){this.start=e,this._ref&&(this._ref.start=e)}setDuration(e){this.duration=e,this._ref&&(this._ref.duration=e)}setKeyFormat(e){const t=this.levelkeys;if(t){var s;const n=t[e];n&&!((s=this._decryptdata)!=null&&s.keyId)&&(this._decryptdata=n.getDecryptData(this.sn,t))}}abortRequests(){var e,t;(e=this.loader)==null||e.abort(),(t=this.keyLoader)==null||t.abort()}setElementaryStreamInfo(e,t,s,n,a,l=!1){const{elementaryStreams:u}=this,h=u[e];if(!h){u[e]={startPTS:t,endPTS:s,startDTS:n,endDTS:a,partial:l};return}h.startPTS=Math.min(h.startPTS,t),h.endPTS=Math.max(h.endPTS,s),h.startDTS=Math.min(h.startDTS,n),h.endDTS=Math.max(h.endDTS,a)}}class F4 extends zw{constructor(e,t,s,n,a){super(s),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=t,this.index=n;const l=e.enumeratedString("BYTERANGE");l&&this.setByteRange(l,a),a&&(this.fragOffset=a.fragOffset+a.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}function Gw(i,e){const t=Object.getPrototypeOf(i);if(t){const s=Object.getOwnPropertyDescriptor(t,e);return s||Gw(t,e)}}function B4(i,e){const t=Gw(i,e);t&&(t.enumerable=!0,Object.defineProperty(i,e,t))}const qx=Math.pow(2,32)-1,U4=[].push,Hw={video:1,audio:2,id3:3,text:4};function oi(i){return String.fromCharCode.apply(null,i)}function qw(i,e){const t=i[e]<<8|i[e+1];return t<0?65536+t:t}function He(i,e){const t=Vw(i,e);return t<0?4294967296+t:t}function Vx(i,e){let t=He(i,e);return t*=Math.pow(2,32),t+=He(i,e+4),t}function Vw(i,e){return i[e]<<24|i[e+1]<<16|i[e+2]<<8|i[e+3]}function $4(i){const e=i.byteLength;for(let t=0;t<e;){const s=He(i,t);if(s>8&&i[t+4]===109&&i[t+5]===111&&i[t+6]===111&&i[t+7]===102)return!0;t=s>1?t+s:e}return!1}function it(i,e){const t=[];if(!e.length)return t;const s=i.byteLength;for(let n=0;n<s;){const a=He(i,n),l=oi(i.subarray(n+4,n+8)),u=a>1?n+a:s;if(l===e[0])if(e.length===1)t.push(i.subarray(n+8,u));else{const h=it(i.subarray(n+8,u),e.slice(1));h.length&&U4.apply(t,h)}n=u}return t}function z4(i){const e=[],t=i[0];let s=8;const n=He(i,s);s+=4;let a=0,l=0;t===0?(a=He(i,s),l=He(i,s+4),s+=8):(a=Vx(i,s),l=Vx(i,s+8),s+=16),s+=2;let u=i.length+l;const h=qw(i,s);s+=2;for(let d=0;d<h;d++){let m=s;const p=He(i,m);m+=4;const g=p&2147483647;if((p&2147483648)>>>31===1)return _t.warn("SIDX has hierarchical references (not supported)"),null;const b=He(i,m);m+=4,e.push({referenceSize:g,subsegmentDuration:b,info:{duration:b/n,start:u,end:u+g-1}}),u+=g,m+=4,s=m}return{earliestPresentationTime:a,timescale:n,version:t,referencesCount:h,references:e}}function Kw(i){const e=[],t=it(i,["moov","trak"]);for(let n=0;n<t.length;n++){const a=t[n],l=it(a,["tkhd"])[0];if(l){let u=l[0];const h=He(l,u===0?12:20),d=it(a,["mdia","mdhd"])[0];if(d){u=d[0];const m=He(d,u===0?12:20),p=it(a,["mdia","hdlr"])[0];if(p){const g=oi(p.subarray(8,12)),E={soun:jt.AUDIO,vide:jt.VIDEO}[g],b=it(a,["mdia","minf","stbl","stsd"])[0],k=G4(b);E?(e[h]={timescale:m,type:E,stsd:k},e[E]=wt({timescale:m,id:h},k)):e[h]={timescale:m,type:g,stsd:k}}}}}return it(i,["moov","mvex","trex"]).forEach(n=>{const a=He(n,4),l=e[a];l&&(l.default={duration:He(n,12),flags:He(n,20)})}),e}function G4(i){const e=i.subarray(8),t=e.subarray(86),s=oi(e.subarray(4,8));let n=s,a;const l=s==="enca"||s==="encv";if(l){const d=it(e,[s])[0].subarray(s==="enca"?28:78);it(d,["sinf"]).forEach(p=>{const g=it(p,["schm"])[0];if(g){const E=oi(g.subarray(4,8));if(E==="cbcs"||E==="cenc"){const b=it(p,["frma"])[0];b&&(n=oi(b))}}})}const u=n;switch(n){case"avc1":case"avc2":case"avc3":case"avc4":{const h=it(t,["avcC"])[0];h&&h.length>3&&(n+="."+vh(h[1])+vh(h[2])+vh(h[3]),a=yh(u==="avc1"?"dva1":"dvav",t));break}case"mp4a":{const h=it(e,[s])[0],d=it(h.subarray(28),["esds"])[0];if(d&&d.length>7){let m=4;if(d[m++]!==3)break;m=Kg(d,m),m+=2;const p=d[m++];if(p&128&&(m+=2),p&64&&(m+=d[m++]),d[m++]!==4)break;m=Kg(d,m);const g=d[m++];if(g===64)n+="."+vh(g);else break;if(m+=12,d[m++]!==5)break;m=Kg(d,m);const E=d[m++];let b=(E&248)>>3;b===31&&(b+=1+((E&7)<<3)+((d[m]&224)>>5)),n+="."+b}break}case"hvc1":case"hev1":{const h=it(t,["hvcC"])[0];if(h&&h.length>12){const d=h[1],m=["","A","B","C"][d>>6],p=d&31,g=He(h,2),E=(d&32)>>5?"H":"L",b=h[12],k=h.subarray(6,12);n+="."+m+p,n+="."+H4(g).toString(16).toUpperCase(),n+="."+E+b;let S="";for(let x=k.length;x--;){const _=k[x];(_||S)&&(S="."+_.toString(16).toUpperCase()+S)}n+=S}a=yh(u=="hev1"?"dvhe":"dvh1",t);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":{n=yh(n,t)||n;break}case"vp09":{const h=it(t,["vpcC"])[0];if(h&&h.length>6){const d=h[4],m=h[5],p=h[6]>>4&15;n+="."+fn(d)+"."+fn(m)+"."+fn(p)}break}case"av01":{const h=it(t,["av1C"])[0];if(h&&h.length>2){const d=h[1]>>>5,m=h[1]&31,p=h[2]>>>7?"H":"M",g=(h[2]&64)>>6,E=(h[2]&32)>>5,b=d===2&&g?E?12:10:g?10:8,k=(h[2]&16)>>4,S=(h[2]&8)>>3,x=(h[2]&4)>>2,_=h[2]&3;n+="."+d+"."+fn(m)+p+"."+fn(b)+"."+k+"."+S+x+_+"."+fn(1)+"."+fn(1)+"."+fn(1)+"."+0,a=yh("dav1",t)}break}}return{codec:n,encrypted:l,supplemental:a}}function yh(i,e){const t=it(e,["dvvC"]),s=t.length?t[0]:it(e,["dvcC"])[0];if(s){const n=s[2]>>1&127,a=s[2]<<5&32|s[3]>>3&31;return i+"."+fn(n)+"."+fn(a)}}function H4(i){let e=0;for(let t=0;t<32;t++)e|=(i>>t&1)<<31-t;return e>>>0}function Kg(i,e){const t=e+5;for(;i[e++]&128&&e<t;);return e}function vh(i){return("0"+i.toString(16).toUpperCase()).slice(-2)}function fn(i){return(i<10?"0":"")+i}function q4(i,e){if(!i||!e)return;const t=e.keyId;t&&e.isCommonEncryption&&Yw(i,(s,n)=>{const a=s.subarray(8,24);a.some(l=>l!==0)||(_t.log(`[eme] Patching keyId in 'enc${n?"a":"v"}>sinf>>tenc' box: ${xi(a)} -> ${xi(t)}`),s.set(t,8))})}function V4(i){const e=[];return Yw(i,t=>e.push(t.subarray(8,24))),e}function Yw(i,e){it(i,["moov","trak"]).forEach(s=>{const n=it(s,["mdia","minf","stbl","stsd"])[0];if(!n)return;const a=n.subarray(8);let l=it(a,["enca"]);const u=l.length>0;u||(l=it(a,["encv"])),l.forEach(h=>{const d=u?h.subarray(28):h.subarray(78);it(d,["sinf"]).forEach(p=>{const g=Ww(p);g&&e(g,u)})})})}function Ww(i){const e=it(i,["schm"])[0];if(e){const t=oi(e.subarray(4,8));if(t==="cbcs"||t==="cenc"){const s=it(i,["schi","tenc"])[0];if(s)return s}}}function K4(i,e,t){const s={},n=it(i,["moof","traf"]);for(let a=0;a<n.length;a++){const l=n[a],u=it(l,["tfhd"])[0],h=He(u,4),d=e[h];if(!d)continue;s[h]||(s[h]={start:NaN,duration:0,sampleCount:0,timescale:d.timescale,type:d.type});const m=s[h],p=it(l,["tfdt"])[0];if(p){const w=p[0];let R=He(p,4);w===1&&(R===qx?t.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"):(R*=qx+1,R+=He(p,8))),Ae(R)&&(!Ae(m.start)||R<m.start)&&(m.start=R)}const g=d.default,E=He(u,0)|(g==null?void 0:g.flags);let b=(g==null?void 0:g.duration)||0;E&8&&(E&2?b=He(u,12):b=He(u,8));const k=it(l,["trun"]);let S=m.start||0,x=0,_=b;for(let w=0;w<k.length;w++){const R=k[w],C=He(R,4),I=m.sampleCount;m.sampleCount+=C;const L=R[3]&1,P=R[3]&4,M=R[2]&1,N=R[2]&2,H=R[2]&4,se=R[2]&8;let ge=8,ve=C;for(L&&(ge+=4),P&&C&&(!(R[ge+1]&1)&&m.keyFrameIndex===void 0&&(m.keyFrameIndex=I),ge+=4,M?(_=He(R,ge),ge+=4):_=b,N&&(ge+=4),se&&(ge+=4),S+=_,x+=_,ve--);ve--;)M?(_=He(R,ge),ge+=4):_=b,N&&(ge+=4),H&&(R[ge+1]&1||m.keyFrameIndex===void 0&&(m.keyFrameIndex=m.sampleCount-(ve+1),m.keyFrameStart=S),ge+=4),se&&(ge+=4),S+=_,x+=_;!x&&b&&(x+=b*C)}m.duration+=x}if(!Object.keys(s).some(a=>s[a].duration)){let a=1/0,l=0;const u=it(i,["sidx"]);for(let h=0;h<u.length;h++){const d=z4(u[h]);if(d!=null&&d.references){a=Math.min(a,d.earliestPresentationTime/d.timescale);const m=d.references.reduce((p,g)=>p+g.info.duration||0,0);l=Math.max(l,m+d.earliestPresentationTime/d.timescale)}}l&&Ae(l)&&Object.keys(s).forEach(h=>{s[h].duration||(s[h].duration=l*s[h].timescale-s[h].start)})}return s}function Y4(i){const e={valid:null,remainder:null},t=it(i,["moof"]);if(t.length<2)return e.remainder=i,e;const s=t[t.length-1];return e.valid=i.slice(0,s.byteOffset-8),e.remainder=i.slice(s.byteOffset-8),e}function Ms(i,e){const t=new Uint8Array(i.length+e.length);return t.set(i),t.set(e,i.length),t}function Kx(i,e){const t=[],s=e.samples,n=e.timescale,a=e.id;let l=!1;return it(s,["moof"]).map(h=>{const d=h.byteOffset-8;it(h,["traf"]).map(p=>{const g=it(p,["tfdt"]).map(E=>{const b=E[0];let k=He(E,4);return b===1&&(k*=Math.pow(2,32),k+=He(E,8)),k/n})[0];return g!==void 0&&(i=g),it(p,["tfhd"]).map(E=>{const b=He(E,4),k=He(E,0)&16777215,S=(k&1)!==0,x=(k&2)!==0,_=(k&8)!==0;let w=0;const R=(k&16)!==0;let C=0;const I=(k&32)!==0;let L=8;b===a&&(S&&(L+=8),x&&(L+=4),_&&(w=He(E,L),L+=4),R&&(C=He(E,L),L+=4),I&&(L+=4),e.type==="video"&&(l=sm(e.codec)),it(p,["trun"]).map(P=>{const M=P[0],N=He(P,0)&16777215,H=(N&1)!==0;let se=0;const ge=(N&4)!==0,ve=(N&256)!==0;let U=0;const O=(N&512)!==0;let q=0;const W=(N&1024)!==0,re=(N&2048)!==0;let he=0;const j=He(P,4);let F=8;H&&(se=He(P,F),F+=4),ge&&(F+=4);let K=se+d;for(let ae=0;ae<j;ae++){if(ve?(U=He(P,F),F+=4):U=w,O?(q=He(P,F),F+=4):q=C,W&&(F+=4),re&&(M===0?he=He(P,F):he=Vw(P,F),F+=4),e.type===jt.VIDEO){let le=0;for(;le<q;){const me=He(s,K);if(K+=4,W4(l,s[K])){const xe=s.subarray(K,K+me);Jy(xe,l?2:1,i+he/n,t)}K+=me,le+=me+4}}i+=U/n}}))})})}),t}function sm(i){if(!i)return!1;const e=i.substring(0,4);return e==="hvc1"||e==="hev1"||e==="dvh1"||e==="dvhe"}function W4(i,e){if(i){const t=e>>1&63;return t===39||t===40}else return(e&31)===6}function Jy(i,e,t,s){const n=Xw(i);let a=0;a+=e;let l=0,u=0,h=0;for(;a<n.length;){l=0;do{if(a>=n.length)break;h=n[a++],l+=h}while(h===255);u=0;do{if(a>=n.length)break;h=n[a++],u+=h}while(h===255);const d=n.length-a;let m=a;if(u<d)a+=u;else if(u>d){_t.error(`Malformed SEI payload. ${u} is too small, only ${d} bytes left to parse.`);break}if(l===4){if(n[m++]===181){const g=qw(n,m);if(m+=2,g===49){const E=He(n,m);if(m+=4,E===1195456820){const b=n[m++];if(b===3){const k=n[m++],S=31&k,x=64&k,_=x?2+S*3:0,w=new Uint8Array(_);if(x){w[0]=k;for(let R=1;R<_;R++)w[R]=n[m++]}s.push({type:b,payloadType:l,pts:t,bytes:w})}}}}}else if(l===5&&u>16){const p=[];for(let b=0;b<16;b++){const k=n[m++].toString(16);p.push(k.length==1?"0"+k:k),(b===3||b===5||b===7||b===9)&&p.push("-")}const g=u-16,E=new Uint8Array(g);for(let b=0;b<g;b++)E[b]=n[m++];s.push({payloadType:l,pts:t,uuid:p.join(""),userData:Es(E),userDataBytes:E})}}}function Xw(i){const e=i.byteLength,t=[];let s=1;for(;s<e-2;)i[s]===0&&i[s+1]===0&&i[s+2]===3?(t.push(s+2),s+=2):s++;if(t.length===0)return i;const n=e-t.length,a=new Uint8Array(n);let l=0;for(s=0;s<n;l++,s++)l===t[0]&&(l++,t.shift()),a[s]=i[l];return a}function X4(i){const e=i[0];let t="",s="",n=0,a=0,l=0,u=0,h=0,d=0;if(e===0){for(;oi(i.subarray(d,d+1))!=="\0";)t+=oi(i.subarray(d,d+1)),d+=1;for(t+=oi(i.subarray(d,d+1)),d+=1;oi(i.subarray(d,d+1))!=="\0";)s+=oi(i.subarray(d,d+1)),d+=1;s+=oi(i.subarray(d,d+1)),d+=1,n=He(i,12),a=He(i,16),u=He(i,20),h=He(i,24),d=28}else if(e===1){d+=4,n=He(i,d),d+=4;const p=He(i,d);d+=4;const g=He(i,d);for(d+=4,l=2**32*p+g,w4(l)||(l=Number.MAX_SAFE_INTEGER,_t.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),u=He(i,d),d+=4,h=He(i,d),d+=4;oi(i.subarray(d,d+1))!=="\0";)t+=oi(i.subarray(d,d+1)),d+=1;for(t+=oi(i.subarray(d,d+1)),d+=1;oi(i.subarray(d,d+1))!=="\0";)s+=oi(i.subarray(d,d+1)),d+=1;s+=oi(i.subarray(d,d+1)),d+=1}const m=i.subarray(d,i.byteLength);return{schemeIdUri:t,value:s,timeScale:n,presentationTime:l,presentationTimeDelta:a,eventDuration:u,id:h,payload:m}}function Q4(i,...e){const t=e.length;let s=8,n=t;for(;n--;)s+=e[n].byteLength;const a=new Uint8Array(s);for(a[0]=s>>24&255,a[1]=s>>16&255,a[2]=s>>8&255,a[3]=s&255,a.set(i,4),n=0,s=8;n<t;n++)a.set(e[n],s),s+=e[n].byteLength;return a}function Z4(i,e,t){if(i.byteLength!==16)throw new RangeError("Invalid system id");let s,n;s=0,n=new Uint8Array;let a;s>0?(a=new Uint8Array(4),e.length>0&&new DataView(a.buffer).setUint32(0,e.length,!1)):a=new Uint8Array;const l=new Uint8Array(4);return t.byteLength>0&&new DataView(l.buffer).setUint32(0,t.byteLength,!1),Q4([112,115,115,104],new Uint8Array([s,0,0,0]),i,a,n,l,t)}function J4(i){const e=[];if(i instanceof ArrayBuffer){const t=i.byteLength;let s=0;for(;s+32<t;){const n=new DataView(i,s),a=eB(n);e.push(a),s+=a.size}}return e}function eB(i){const e=i.getUint32(0),t=i.byteOffset,s=i.byteLength;if(s<e)return{offset:t,size:s};if(i.getUint32(4)!==1886614376)return{offset:t,size:e};const a=i.getUint32(8)>>>24;if(a!==0&&a!==1)return{offset:t,size:e};const l=i.buffer,u=xi(new Uint8Array(l,t+12,16));let h=null,d=null,m=0;if(a===0)m=28;else{const g=i.getUint32(28);if(!g||s<32+g*16)return{offset:t,size:e};h=[];for(let E=0;E<g;E++)h.push(new Uint8Array(l,t+32+E*16,16));m=32+g*16}if(!m)return{offset:t,size:e};const p=i.getUint32(m);return e-32<p?{offset:t,size:e}:(d=new Uint8Array(l,t+m+4,p),{version:a,systemId:u,kids:h,data:d,offset:t,size:e})}const Qw=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),Vl={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function ev(i,e){const t=Vl[e];return!!t&&!!t[i.slice(0,4)]}function Ic(i,e,t=!0){return!i.split(",").some(s=>!tv(s,e,t))}function tv(i,e,t=!0){var s;const n=ca(t);return(s=n==null?void 0:n.isTypeSupported(jc(i,e)))!=null?s:!1}function jc(i,e){return`${e}/mp4;codecs=${i}`}function Yx(i){if(i){const e=i.substring(0,4);return Vl.video[e]}return 2}function Tf(i){const e=Qw();return i.split(",").reduce((t,s)=>{const a=e&&sm(s)?9:Vl.video[s];return a?(a*2+t)/(t?3:2):(Vl.audio[s]+t)/(t?2:1)},0)}const Yg={};function tB(i,e=!0){if(Yg[i])return Yg[i];const t={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[i];for(let n=0;n<t.length;n++){var s;if(tv(t[n],"audio",e))return Yg[i]=t[n],t[n];if(t[n]==="mp3"&&(s=ca(e))!=null&&s.isTypeSupported("audio/mpeg"))return""}return i}const iB=/flac|opus|mp4a\.40\.34/i;function Af(i,e=!0){return i.replace(iB,t=>tB(t.toLowerCase(),e))}function sB(i,e){const t=[];if(i){const s=i.split(",");for(let n=0;n<s.length;n++)ev(s[n],"video")||t.push(s[n])}return e&&t.push(e),t.join(",")}function Vh(i,e){if(i&&(i.length>4||["ac-3","ec-3","alac","fLaC","Opus"].indexOf(i)!==-1)&&(Wx(i,"audio")||Wx(i,"video")))return i;if(e){const t=e.split(",");if(t.length>1){if(i){for(let s=t.length;s--;)if(t[s].substring(0,4)===i.substring(0,4))return t[s]}return t[0]}}return e||i}function Wx(i,e){return ev(i,e)&&tv(i,e)}function nB(i){const e=i.split(",");for(let t=0;t<e.length;t++){const s=e[t].split(".");s.length>2&&s[0]==="avc1"&&(e[t]=`avc1.${parseInt(s[1]).toString(16)}${("000"+parseInt(s[2]).toString(16)).slice(-4)}`)}return e.join(",")}function rB(i){if(i.startsWith("av01.")){const e=i.split("."),t=["0","111","01","01","01","0"];for(let s=e.length;s>4&&s<10;s++)e[s]=t[s-4];return e.join(".")}return i}function Xx(i){const e=ca(i)||{isTypeSupported:()=>!1};return{mpeg:e.isTypeSupported("audio/mpeg"),mp3:e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function ny(i){return i.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const aB={supported:!0,powerEfficient:!0,smooth:!0},oB={supported:!1,smooth:!1,powerEfficient:!1},Zw={supported:!0,configurations:[],decodingInfoResults:[aB]};function Jw(i,e){return{supported:!1,configurations:e,decodingInfoResults:[oB],error:i}}function lB(i,e,t,s,n,a){const l=i.videoCodec,u=i.audioCodec?i.audioGroups:null,h=a==null?void 0:a.audioCodec,d=a==null?void 0:a.channels,m=d?parseInt(d):h?1/0:2;let p=null;if(u!=null&&u.length)try{u.length===1&&u[0]?p=e.groups[u[0]].channels:p=u.reduce((g,E)=>{if(E){const b=e.groups[E];if(!b)throw new Error(`Audio track group ${E} not found`);Object.keys(b.channels).forEach(k=>{g[k]=(g[k]||0)+b.channels[k]})}return g},{2:0})}catch{return!0}return l!==void 0&&(l.split(",").some(g=>sm(g))||i.width>1920&&i.height>1088||i.height>1920&&i.width>1088||i.frameRate>Math.max(s,30)||i.videoRange!=="SDR"&&i.videoRange!==t||i.bitrate>Math.max(n,8e6))||!!p&&Ae(m)&&Object.keys(p).some(g=>parseInt(g)>m)}function e_(i,e,t,s={}){const n=i.videoCodec;if(!n&&!i.audioCodec||!t)return Promise.resolve(Zw);const a=[],l=uB(i),u=l.length,h=cB(i,e,u>0),d=h.length;for(let m=u||1*d||1;m--;){const p={type:"media-source"};if(u&&(p.video=l[m%u]),d){p.audio=h[m%d];const g=p.audio.bitrate;p.video&&g&&(p.video.bitrate-=g)}a.push(p)}if(n){const m=navigator.userAgent;if(n.split(",").some(p=>sm(p))&&Qw())return Promise.resolve(Jw(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent string: (${m})`),a))}return Promise.all(a.map(m=>{const p=hB(m);return s[p]||(s[p]=t.decodingInfo(m))})).then(m=>({supported:!m.some(p=>!p.supported),configurations:a,decodingInfoResults:m})).catch(m=>({supported:!1,configurations:a,decodingInfoResults:[],error:m}))}function uB(i){var e;const t=(e=i.videoCodec)==null?void 0:e.split(","),s=t_(i),n=i.width||640,a=i.height||480,l=i.frameRate||30,u=i.videoRange.toLowerCase();return t?t.map(h=>{const d={contentType:jc(rB(h),"video"),width:n,height:a,bitrate:s,framerate:l};return u!=="sdr"&&(d.transferFunction=u),d}):[]}function cB(i,e,t){var s;const n=(s=i.audioCodec)==null?void 0:s.split(","),a=t_(i);return n&&i.audioGroups?i.audioGroups.reduce((l,u)=>{var h;const d=u?(h=e.groups[u])==null?void 0:h.tracks:null;return d?d.reduce((m,p)=>{if(p.groupId===u){const g=parseFloat(p.channels||"");n.forEach(E=>{const b={contentType:jc(E,"audio"),bitrate:t?dB(E,a):a};g&&(b.channels=""+g),m.push(b)})}return m},l):l},[]):[]}function dB(i,e){if(e<=1)return 1;let t=128e3;return i==="ec-3"?t=768e3:i==="ac-3"&&(t=64e4),Math.min(e/2,t)}function t_(i){return Math.ceil(Math.max(i.bitrate*.9,i.averageBitrate)/1e3)*1e3||1}function hB(i){let e="";const{audio:t,video:s}=i;if(s){const n=ny(s.contentType);e+=`${n}_r${s.height}x${s.width}f${Math.ceil(s.framerate)}${s.transferFunction||"sd"}_${Math.ceil(s.bitrate/1e5)}`}if(t){const n=ny(t.contentType);e+=`${s?"_":""}${n}_c${t.channels}`}return e}const ry=["NONE","TYPE-0","TYPE-1",null];function fB(i){return ry.indexOf(i)>-1}const wf=["SDR","PQ","HLG"];function mB(i){return!!i&&wf.indexOf(i)>-1}var Kh={No:"",Yes:"YES",v2:"v2"};function Qx(i){const{canSkipUntil:e,canSkipDateRanges:t,age:s}=i,n=s<e/2;return e&&n?t?Kh.v2:Kh.Yes:Kh.No}class Zx{constructor(e,t,s){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=s}addDirectives(e){const t=new self.URL(e);return this.msn!==void 0&&t.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}class Oc{constructor(e){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(s=>!!s).map(s=>s.substring(0,4)).join(","),"supplemental"in e){var t;this.supplemental=e.supplemental;const s=(t=e.supplemental)==null?void 0:t.videoCodec;s&&s!==e.videoCodec&&(this.codecSet+=`,${s.substring(0,4)}`)}this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return Jx(this._audioGroups,e)}hasSubtitleGroup(e){return Jx(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,t){if(t){if(e==="audio"){let s=this._audioGroups;s||(s=this._audioGroups=[]),s.indexOf(t)===-1&&s.push(t)}else if(e==="text"){let s=this._subtitleGroups;s||(s=this._subtitleGroups=[]),s.indexOf(t)===-1&&s.push(t)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function Jx(i,e){return!e||!i?!1:i.indexOf(e)!==-1}function pB(){if(typeof matchMedia=="function"){const i=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(i.media!==e.media)return i.matches===!0}return!1}function gB(i,e){let t=!1,s=[];if(i&&(t=i!=="SDR",s=[i]),e){s=e.allowedVideoRanges||wf.slice(0);const n=s.join("")!=="SDR"&&!e.videoCodec;t=e.preferHDR!==void 0?e.preferHDR:n&&pB(),t||(s=["SDR"])}return{preferHDR:t,allowedVideoRanges:s}}const yB=i=>{const e=new WeakSet;return(t,s)=>{if(i&&(s=i(t,s)),typeof s=="object"&&s!==null){if(e.has(s))return;e.add(s)}return s}},Ot=(i,e)=>JSON.stringify(i,yB(e));function vB(i,e,t,s,n){const a=Object.keys(i),l=s==null?void 0:s.channels,u=s==null?void 0:s.audioCodec,h=n==null?void 0:n.videoCodec,d=l&&parseInt(l)===2;let m=!1,p=!1,g=1/0,E=1/0,b=1/0,k=1/0,S=0,x=[];const{preferHDR:_,allowedVideoRanges:w}=gB(e,n);for(let P=a.length;P--;){const M=i[a[P]];m||(m=M.channels[2]>0),g=Math.min(g,M.minHeight),E=Math.min(E,M.minFramerate),b=Math.min(b,M.minBitrate),w.filter(H=>M.videoRanges[H]>0).length>0&&(p=!0)}g=Ae(g)?g:0,E=Ae(E)?E:0;const R=Math.max(1080,g),C=Math.max(30,E);b=Ae(b)?b:t,t=Math.max(b,t),p||(e=void 0);const I=a.length>1;return{codecSet:a.reduce((P,M)=>{const N=i[M];if(M===P)return P;if(x=p?w.filter(H=>N.videoRanges[H]>0):[],I){if(N.minBitrate>t)return dn(M,`min bitrate of ${N.minBitrate} > current estimate of ${t}`),P;if(!N.hasDefaultAudio)return dn(M,"no renditions with default or auto-select sound found"),P;if(u&&M.indexOf(u.substring(0,4))%5!==0)return dn(M,`audio codec preference "${u}" not found`),P;if(l&&!d){if(!N.channels[l])return dn(M,`no renditions with ${l} channel sound found (channels options: ${Object.keys(N.channels)})`),P}else if((!u||d)&&m&&N.channels[2]===0)return dn(M,"no renditions with stereo sound found"),P;if(N.minHeight>R)return dn(M,`min resolution of ${N.minHeight} > maximum of ${R}`),P;if(N.minFramerate>C)return dn(M,`min framerate of ${N.minFramerate} > maximum of ${C}`),P;if(!x.some(H=>N.videoRanges[H]>0))return dn(M,`no variants with VIDEO-RANGE of ${Ot(x)} found`),P;if(h&&M.indexOf(h.substring(0,4))%5!==0)return dn(M,`video codec preference "${h}" not found`),P;if(N.maxScore<S)return dn(M,`max score of ${N.maxScore} < selected max of ${S}`),P}return P&&(Tf(M)>=Tf(P)||N.fragmentError>i[P].fragmentError)?P:(k=N.minIndex,S=N.maxScore,M)},void 0),videoRanges:x,preferHDR:_,minFramerate:E,minBitrate:b,minIndex:k}}function dn(i,e){_t.log(`[abr] start candidates with "${i}" ignored because ${e}`)}function i_(i){return i.reduce((e,t)=>{let s=e.groups[t.groupId];s||(s=e.groups[t.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),s.tracks.push(t);const n=t.channels||"2";return s.channels[n]=(s.channels[n]||0)+1,s.hasDefault=s.hasDefault||t.default,s.hasAutoSelect=s.hasAutoSelect||t.autoselect,s.hasDefault&&(e.hasDefaultAudio=!0),s.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function bB(i,e,t,s){return i.slice(t,s+1).reduce((n,a,l)=>{if(!a.codecSet)return n;const u=a.audioGroups;let h=n[a.codecSet];h||(n[a.codecSet]=h={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:l,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!u,fragmentError:0}),h.minBitrate=Math.min(h.minBitrate,a.bitrate);const d=Math.min(a.height,a.width);return h.minHeight=Math.min(h.minHeight,d),h.minFramerate=Math.min(h.minFramerate,a.frameRate),h.minIndex=Math.min(h.minIndex,l),h.maxScore=Math.max(h.maxScore,a.score),h.fragmentError+=a.fragmentError,h.videoRanges[a.videoRange]=(h.videoRanges[a.videoRange]||0)+1,u&&u.forEach(m=>{if(!m)return;const p=e.groups[m];p&&(h.hasDefaultAudio=h.hasDefaultAudio||e.hasDefaultAudio?p.hasDefault:p.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(p.channels).forEach(g=>{h.channels[g]=(h.channels[g]||0)+p.channels[g]}))}),n},{})}function eT(i){if(!i)return i;const{lang:e,assocLang:t,characteristics:s,channels:n,audioCodec:a}=i;return{lang:e,assocLang:t,characteristics:s,channels:n,audioCodec:a}}function Sn(i,e,t){if("attrs"in i){const s=e.indexOf(i);if(s!==-1)return s}for(let s=0;s<e.length;s++){const n=e[s];if(eo(i,n,t))return s}return-1}function eo(i,e,t){const{groupId:s,name:n,lang:a,assocLang:l,default:u}=i,h=i.forced;return(s===void 0||e.groupId===s)&&(n===void 0||e.name===n)&&(a===void 0||EB(a,e.lang))&&(a===void 0||e.assocLang===l)&&(u===void 0||e.default===u)&&(h===void 0||e.forced===h)&&(!("characteristics"in i)||kB(i.characteristics||"",e.characteristics))&&(t===void 0||t(i,e))}function EB(i,e="--"){return i.length===e.length?i===e:i.startsWith(e)||e.startsWith(i)}function kB(i,e=""){const t=i.split(","),s=e.split(",");return t.length===s.length&&!t.some(n=>s.indexOf(n)===-1)}function Na(i,e){const{audioCodec:t,channels:s}=i;return(t===void 0||(e.audioCodec||"").substring(0,4)===t.substring(0,4))&&(s===void 0||s===(e.channels||"2"))}function SB(i,e,t,s,n){const a=e[s],u=e.reduce((g,E,b)=>{const k=E.uri;return(g[k]||(g[k]=[])).push(b),g},{})[a.uri];u.length>1&&(s=Math.max.apply(Math,u));const h=a.videoRange,d=a.frameRate,m=a.codecSet.substring(0,4),p=tT(e,s,g=>{if(g.videoRange!==h||g.frameRate!==d||g.codecSet.substring(0,4)!==m)return!1;const E=g.audioGroups,b=t.filter(k=>!E||E.indexOf(k.groupId)!==-1);return Sn(i,b,n)>-1});return p>-1?p:tT(e,s,g=>{const E=g.audioGroups,b=t.filter(k=>!E||E.indexOf(k.groupId)!==-1);return Sn(i,b,n)>-1})}function tT(i,e,t){for(let s=e;s>-1;s--)if(t(i[s]))return s;for(let s=e+1;s<i.length;s++)if(t(i[s]))return s;return-1}function _f(i,e){var t;return!!i&&i!==((t=e.loadLevelObj)==null?void 0:t.uri)}class xB extends Ps{constructor(e){super("abr",e.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.supportedCache={},this.bwEstimator=void 0,this._abandonRulesCheck=t=>{var s;const{fragCurrent:n,partCurrent:a,hls:l}=this,{autoLevelEnabled:u,media:h}=l;if(!n||!h)return;const d=performance.now(),m=a?a.stats:n.stats,p=a?a.duration:n.duration,g=d-m.loading.start,E=l.minAutoLevel,b=n.level,k=this._nextAutoLevel;if(m.aborted||m.loaded&&m.loaded===m.total||b<=E){this.clearTimer(),this._nextAutoLevel=-1;return}if(!u)return;const S=k>-1&&k!==b,x=!!t||S;if(!x&&(h.paused||!h.playbackRate||!h.readyState))return;const _=l.mainForwardBufferInfo;if(!x&&_===null)return;const w=this.bwEstimator.getEstimateTTFB(),R=Math.abs(h.playbackRate);if(g<=Math.max(w,1e3*(p/(R*2))))return;const C=_?_.len/R:0,I=m.loading.first?m.loading.first-m.loading.start:-1,L=m.loaded&&I>-1,P=this.getBwEstimate(),M=l.levels,N=M[b],H=Math.max(m.loaded,Math.round(p*(n.bitrate||N.averageBitrate)/8));let se=L?g-I:g;se<1&&L&&(se=Math.min(g,m.loaded*8/P));const ge=L?m.loaded*1e3/se:0,ve=w/1e3,U=ge?(H-m.loaded)/ge:H*8/P+ve;if(U<=C)return;const O=ge?ge*8:P,q=((s=(t==null?void 0:t.details)||this.hls.latestLevelDetails)==null?void 0:s.live)===!0,W=this.hls.config.abrBandWidthUpFactor;let re=Number.POSITIVE_INFINITY,he;for(he=b-1;he>E;he--){const ae=M[he].maxBitrate,le=!M[he].details||q;if(re=this.getTimeToLoadFrag(ve,O,p*ae,le),re<Math.min(C,p+ve))break}if(re>=U||re>p*10)return;L?this.bwEstimator.sample(g-Math.min(w,I),m.loaded):this.bwEstimator.sampleTTFB(g);const j=M[he].maxBitrate;this.getBwEstimate()*W>j&&this.resetEstimator(j);const F=this.findBestLevel(j,E,he,0,C,1,1);F>-1&&(he=F),this.warn(`Fragment ${n.sn}${a?" part "+a.index:""} of level ${b} is loading too slowly;
      Fragment duration: ${n.duration.toFixed(3)}
      Time to underbuffer: ${C.toFixed(3)} s
      Estimated load time for current fragment: ${U.toFixed(3)} s
      Estimated load time for down switch fragment: ${re.toFixed(3)} s
      TTFB estimate: ${I|0} ms
      Current BW estimate: ${Ae(P)?P|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${he} @ ${j|0} bps`),l.nextLoadLevel=l.nextAutoLevel=he,this.clearTimer();const K=()=>{if(this.clearTimer(),this.fragCurrent===n&&this.hls.loadLevel===he&&he>0){const ae=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${he>0?"and switching down":""}
      Fragment duration: ${n.duration.toFixed(3)} s
      Time to underbuffer: ${ae.toFixed(3)} s`),n.abortRequests(),this.fragCurrent=this.partCurrent=null,he>E){let le=this.findBestLevel(this.hls.levels[E].bitrate,E,he,0,ae,1,1);le===-1&&(le=E),this.hls.nextLoadLevel=this.hls.nextAutoLevel=le,this.resetEstimator(this.hls.levels[le].bitrate)}}};S||U>re*2?K():this.timer=self.setInterval(K,re*1e3),l.trigger(A.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,part:a,stats:m})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(this.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new R4(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.FRAG_LOADING,this.onFragLoading,this),e.on(A.FRAG_LOADED,this.onFragLoaded,this),e.on(A.FRAG_BUFFERED,this.onFragBuffered,this),e.on(A.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(A.LEVEL_LOADED,this.onLevelLoaded,this),e.on(A.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(A.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(A.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.FRAG_LOADING,this.onFragLoading,this),e.off(A.FRAG_LOADED,this.onFragLoaded,this),e.off(A.FRAG_BUFFERED,this.onFragBuffered,this),e.off(A.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(A.LEVEL_LOADED,this.onLevelLoaded,this),e.off(A.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(A.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(A.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=this.supportedCache=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,t){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.supportedCache={},this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,t){const s=t.frag;if(!this.ignoreFragment(s)){if(!s.bitrateTest){var n;this.fragCurrent=s,this.partCurrent=(n=t.part)!=null?n:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,t){this.clearTimer()}onError(e,t){if(!t.fatal)switch(t.details){case Q.BUFFER_ADD_CODEC_ERROR:case Q.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case Q.FRAG_LOAD_TIMEOUT:{const s=t.frag,{fragCurrent:n,partCurrent:a}=this;if(s&&n&&s.sn===n.sn&&s.level===n.level){const l=performance.now(),u=a?a.stats:s.stats,h=l-u.loading.start,d=u.loading.first?u.loading.first-u.loading.start:-1;if(u.loaded&&d>-1){const p=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(h-Math.min(p,d),u.loaded)}else this.bwEstimator.sampleTTFB(h)}break}}}getTimeToLoadFrag(e,t,s,n){const a=e+s/t,l=n?e+this.lastLevelLoadSec:0;return a+l}onLevelLoaded(e,t){const s=this.hls.config,{loading:n}=t.stats,a=n.end-n.first;Ae(a)&&(this.lastLevelLoadSec=a/1e3),t.details.live?this.bwEstimator.update(s.abrEwmaSlowLive,s.abrEwmaFastLive):this.bwEstimator.update(s.abrEwmaSlowVoD,s.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(t.levelInfo)}onFragLoaded(e,{frag:t,part:s}){const n=s?s.stats:t.stats;if(t.type===Re.MAIN&&this.bwEstimator.sampleTTFB(n.loading.first-n.loading.start),!this.ignoreFragment(t)){if(this.clearTimer(),t.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const a=s?s.duration:t.duration,l=this.hls.levels[t.level],u=(l.loaded?l.loaded.bytes:0)+n.loaded,h=(l.loaded?l.loaded.duration:0)+a;l.loaded={bytes:u,duration:h},l.realBitrate=Math.round(8*u/h)}if(t.bitrateTest){const a={stats:n,frag:t,part:s,id:t.type};this.onFragBuffered(A.FRAG_BUFFERED,a),t.bitrateTest=!1}else this.lastLoadedFragLevel=t.level}}onFragBuffered(e,t){const{frag:s,part:n}=t,a=n!=null&&n.stats.loaded?n.stats:s.stats;if(a.aborted||this.ignoreFragment(s))return;const l=a.parsing.end-a.loading.start-Math.min(a.loading.first-a.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(l,a.loaded),a.bwEstimate=this.getBwEstimate(),s.bitrateTest?this.bitrateTestDelay=l/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Re.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:t}=this.hls,s=this.getBwEstimate(),n=this.hls.config.maxStarvationDelay,a=this.findBestLevel(s,t,e,0,n,1,1);if(a>-1)return a;const l=this.hls.firstLevel,u=Math.min(Math.max(l,t),e);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${l} clamped to ${u}`),u}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,s=this.bwEstimator.canEstimate(),n=this.lastLoadedFragLevel>-1;if(e!==-1&&(!s||!n||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const a=s&&n?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const l=this.hls.levels;if(l.length>Math.max(e,a)&&l[e].loadError<=l[a].loadError)return e}return this._nextAutoLevel=a,this.nextAutoLevelKey=this.getAutoLevelKey(),a}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:t,hls:s}=this;if(s.levels.length<=1)return s.loadLevel;const{maxAutoLevel:n,config:a,minAutoLevel:l}=s,u=t?t.duration:e?e.duration:0,h=this.getBwEstimate(),d=this.getStarvationDelay();let m=a.abrBandWidthFactor,p=a.abrBandWidthUpFactor;if(d){const S=this.findBestLevel(h,l,n,d,0,m,p);if(S>=0)return this.rebufferNotice=-1,S}let g=u?Math.min(u,a.maxStarvationDelay):a.maxStarvationDelay;if(!d){const S=this.bitrateTestDelay;S&&(g=(u?Math.min(u,a.maxLoadingDelay):a.maxLoadingDelay)-S,this.info(`bitrate test took ${Math.round(1e3*S)}ms, set first fragment max fetchDuration to ${Math.round(1e3*g)} ms`),m=p=1)}const E=this.findBestLevel(h,l,n,d,g,m,p);if(this.rebufferNotice!==E&&(this.rebufferNotice=E,this.info(`${d?"rebuffering expected":"buffer is empty"}, optimal quality level ${E}`)),E>-1)return E;const b=s.levels[l],k=s.loadLevelObj;return k&&(b==null?void 0:b.bitrate)<k.bitrate?l:s.loadLevel}getStarvationDelay(){const e=this.hls,t=e.media;if(!t)return 1/0;const s=t&&t.playbackRate!==0?Math.abs(t.playbackRate):1,n=e.mainForwardBufferInfo;return(n?n.len:0)/s}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,t,s,n,a,l,u){var h;const d=n+a,m=this.lastLoadedFragLevel,p=m===-1?this.hls.firstLevel:m,{fragCurrent:g,partCurrent:E}=this,{levels:b,allAudioTracks:k,loadLevel:S,config:x}=this.hls;if(b.length===1)return 0;const _=b[p],w=!!((h=this.hls.latestLevelDetails)!=null&&h.live),R=S===-1||m===-1;let C,I="SDR",L=(_==null?void 0:_.frameRate)||0;const{audioPreference:P,videoPreference:M}=x,N=this.audioTracksByGroup||(this.audioTracksByGroup=i_(k));let H=-1;if(R){if(this.firstSelection!==-1)return this.firstSelection;const O=this.codecTiers||(this.codecTiers=bB(b,N,t,s)),q=vB(O,I,e,P,M),{codecSet:W,videoRanges:re,minFramerate:he,minBitrate:j,minIndex:F,preferHDR:K}=q;H=F,C=W,I=K?re[re.length-1]:re[0],L=he,e=Math.max(e,j),this.log(`picked start tier ${Ot(q)}`)}else C=_==null?void 0:_.codecSet,I=_==null?void 0:_.videoRange;const se=E?E.duration:g?g.duration:0,ge=this.bwEstimator.getEstimateTTFB()/1e3,ve=[];for(let O=s;O>=t;O--){var U;const q=b[O],W=O>p;if(!q)continue;if(x.useMediaCapabilities&&!q.supportedResult&&!q.supportedPromise){const le=navigator.mediaCapabilities;typeof(le==null?void 0:le.decodingInfo)=="function"&&lB(q,N,I,L,e,P)?(q.supportedPromise=e_(q,N,le,this.supportedCache),q.supportedPromise.then(me=>{if(!this.hls)return;q.supportedResult=me;const xe=this.hls.levels,Ee=xe.indexOf(q);me.error?this.warn(`MediaCapabilities decodingInfo error: "${me.error}" for level ${Ee} ${Ot(me)}`):me.supported?me.decodingInfoResults.some(Oe=>Oe.smooth===!1||Oe.powerEfficient===!1)&&this.log(`MediaCapabilities decodingInfo for level ${Ee} not smooth or powerEfficient: ${Ot(me)}`):(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${Ee} ${Ot(me)}`),Ee>-1&&xe.length>1&&(this.log(`Removing unsupported level ${Ee}`),this.hls.removeLevel(Ee),this.hls.loadLevel===-1&&(this.hls.nextLoadLevel=0)))}).catch(me=>{this.warn(`Error handling MediaCapabilities decodingInfo: ${me}`)})):q.supportedResult=Zw}if((C&&q.codecSet!==C||I&&q.videoRange!==I||W&&L>q.frameRate||!W&&L>0&&L<q.frameRate||(U=q.supportedResult)!=null&&(U=U.decodingInfoResults)!=null&&U.some(le=>le.smooth===!1))&&(!R||O!==H)){ve.push(O);continue}const re=q.details,he=(E?re==null?void 0:re.partTarget:re==null?void 0:re.averagetargetduration)||se;let j;W?j=u*e:j=l*e;const F=se&&n>=se*2&&a===0?q.averageBitrate:q.maxBitrate,K=this.getTimeToLoadFrag(ge,j,F*he,re===void 0);if(j>=F&&(O===m||q.loadError===0&&q.fragmentError===0)&&(K<=ge||!Ae(K)||w&&!this.bitrateTestDelay||K<d)){const le=this.forcedAutoLevel;return O!==S&&(le===-1||le!==S)&&(ve.length&&this.trace(`Skipped level(s) ${ve.join(",")} of ${s} max with CODECS and VIDEO-RANGE:"${b[ve[0]].codecs}" ${b[ve[0]].videoRange}; not compatible with "${C}" ${I}`),this.info(`switch candidate:${p}->${O} adjustedbw(${Math.round(j)})-bitrate=${Math.round(j-F)} ttfb:${ge.toFixed(1)} avgDuration:${he.toFixed(1)} maxFetchDuration:${d.toFixed(1)} fetchDuration:${K.toFixed(1)} firstSelection:${R} codecSet:${q.codecSet} videoRange:${q.videoRange} hls.loadLevel:${S}`)),R&&(this.firstSelection=O),O}}return-1}set nextAutoLevel(e){const t=this.deriveNextAutoLevel(e);this._nextAutoLevel!==t&&(this.nextAutoLevelKey="",this._nextAutoLevel=t)}deriveNextAutoLevel(e){const{maxAutoLevel:t,minAutoLevel:s}=this.hls;return Math.min(Math.max(e,s),t)}}const s_={search:function(i,e){let t=0,s=i.length-1,n=null,a=null;for(;t<=s;){n=(t+s)/2|0,a=i[n];const l=e(a);if(l>0)t=n+1;else if(l<0)s=n-1;else return a}return null}};function TB(i,e,t){if(e===null||!Array.isArray(i)||!i.length||!Ae(e))return null;const s=i[0].programDateTime;if(e<(s||0))return null;const n=i[i.length-1].endProgramDateTime;if(e>=(n||0))return null;for(let a=0;a<i.length;++a){const l=i[a];if(wB(e,t,l))return l}return null}function uo(i,e,t=0,s=0,n=.005){let a=null;if(i){a=e[1+i.sn-e[0].sn]||null;const u=i.endDTS-t;u>0&&u<15e-7&&(t+=15e-7),a&&i.level!==a.level&&a.end<=i.end&&(a=e[2+i.sn-e[0].sn]||null)}else t===0&&e[0].start===0&&(a=e[0]);if(a&&((!i||i.level===a.level)&&iT(t,s,a)===0||AB(a,i,Math.min(n,s))))return a;const l=s_.search(e,iT.bind(null,t,s));return l&&(l!==i||!a)?l:a}function AB(i,e,t){if(e&&e.start===0&&e.level<i.level&&(e.endPTS||0)>0){const s=e.tagList.reduce((n,a)=>(a[0]==="INF"&&(n+=parseFloat(a[1])),n),t);return i.start<=s}return!1}function iT(i=0,e=0,t){if(t.start<=i&&t.start+t.duration>i)return 0;const s=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-s<=i?1:t.start-s>i&&t.start?-1:0}function wB(i,e,t){const s=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0))*1e3;return(t.endProgramDateTime||0)-s>i}function n_(i,e,t){if(i&&i.startCC<=e&&i.endCC>=e){let s=i.fragments;const{fragmentHint:n}=i;n&&(s=s.concat(n));let a;return s_.search(s,l=>l.cc<e?1:l.cc>e?-1:(a=l,l.end<=t?1:l.start>t?-1:0)),a||null}return null}function Rf(i){switch(i.details){case Q.FRAG_LOAD_TIMEOUT:case Q.KEY_LOAD_TIMEOUT:case Q.LEVEL_LOAD_TIMEOUT:case Q.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function r_(i){return i.details.startsWith("key")}function a_(i){return r_(i)&&!!i.frag&&!i.frag.decryptdata}function sT(i,e){const t=Rf(e);return i.default[`${t?"timeout":"error"}Retry`]}function iv(i,e){const t=i.backoff==="linear"?1:Math.pow(2,e);return Math.min(t*i.retryDelayMs,i.maxRetryDelayMs)}function nT(i){return wt(wt({},i),{errorRetry:null,timeoutRetry:null})}function Lf(i,e,t,s){if(!i)return!1;const n=s==null?void 0:s.code,a=e<i.maxNumRetry&&(_B(n)||!!t);return i.shouldRetry?i.shouldRetry(i,e,t,s,a):a}function _B(i){return ay(i)||!!i&&(i<400||i>499)}function ay(i){return i===0&&navigator.onLine===!1}var Si={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},ms={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,MoveAllAlternatesMatchingKey:4};class RB extends Ps{constructor(e){super("error-controller",e.logger),this.hls=void 0,this.playlistError=0,this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(A.ERROR,this.onError,this),e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(A.ERROR,this.onError,this),e.off(A.ERROR,this.onErrorOut,this),e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===Re.MAIN?e.level:this.getVariantIndex()}getVariantIndex(){var e;const t=this.hls,s=t.currentLevel;return(e=t.loadLevelObj)!=null&&e.details||s===-1?t.loadLevel:s}variantHasKey(e,t){if(e){var s;if((s=e.details)!=null&&s.hasKey(t))return!0;const n=e.audioGroups;if(n)return this.hls.allAudioTracks.filter(l=>n.indexOf(l.groupId)>=0).some(l=>{var u;return(u=l.details)==null?void 0:u.hasKey(t)})}return!1}onManifestLoading(){this.playlistError=0}onLevelUpdated(){this.playlistError=0}onError(e,t){var s;if(t.fatal)return;const n=this.hls,a=t.context;switch(t.details){case Q.FRAG_LOAD_ERROR:case Q.FRAG_LOAD_TIMEOUT:case Q.KEY_LOAD_ERROR:case Q.KEY_LOAD_TIMEOUT:t.errorAction=this.getFragRetryOrSwitchAction(t);return;case Q.FRAG_PARSING_ERROR:if((s=t.frag)!=null&&s.gap){t.errorAction=bl();return}case Q.FRAG_GAP:case Q.FRAG_DECRYPT_ERROR:{t.errorAction=this.getFragRetryOrSwitchAction(t),t.errorAction.action=Si.SendAlternateToPenaltyBox;return}case Q.LEVEL_EMPTY_ERROR:case Q.LEVEL_PARSING_ERROR:{var l;const h=t.parent===Re.MAIN?t.level:n.loadLevel;t.details===Q.LEVEL_EMPTY_ERROR&&((l=t.context)!=null&&(l=l.levelDetails)!=null&&l.live)?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,h):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,h))}return;case Q.LEVEL_LOAD_ERROR:case Q.LEVEL_LOAD_TIMEOUT:typeof(a==null?void 0:a.level)=="number"&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,a.level));return;case Q.AUDIO_TRACK_LOAD_ERROR:case Q.AUDIO_TRACK_LOAD_TIMEOUT:case Q.SUBTITLE_LOAD_ERROR:case Q.SUBTITLE_TRACK_LOAD_TIMEOUT:if(a){const h=n.loadLevelObj;if(h&&(a.type===st.AUDIO_TRACK&&h.hasAudioGroup(a.groupId)||a.type===st.SUBTITLE_TRACK&&h.hasSubtitleGroup(a.groupId))){t.errorAction=this.getPlaylistRetryOrSwitchAction(t,n.loadLevel),t.errorAction.action=Si.SendAlternateToPenaltyBox,t.errorAction.flags=ms.MoveAllAlternatesMatchingHost;return}}return;case Q.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:t.errorAction={action:Si.SendAlternateToPenaltyBox,flags:ms.MoveAllAlternatesMatchingHDCP};return;case Q.KEY_SYSTEM_SESSION_UPDATE_FAILED:case Q.KEY_SYSTEM_STATUS_INTERNAL_ERROR:case Q.KEY_SYSTEM_NO_SESSION:t.errorAction={action:Si.SendAlternateToPenaltyBox,flags:ms.MoveAllAlternatesMatchingKey};return;case Q.BUFFER_ADD_CODEC_ERROR:case Q.REMUX_ALLOC_ERROR:case Q.BUFFER_APPEND_ERROR:if(!t.errorAction){var u;t.errorAction=this.getLevelSwitchAction(t,(u=t.level)!=null?u:n.loadLevel)}return;case Q.INTERNAL_EXCEPTION:case Q.BUFFER_APPENDING_ERROR:case Q.BUFFER_FULL_ERROR:case Q.LEVEL_SWITCH_ERROR:case Q.BUFFER_STALLED_ERROR:case Q.BUFFER_SEEK_OVER_HOLE:case Q.BUFFER_NUDGE_ON_STALL:t.errorAction=bl();return}t.type===Ie.KEY_SYSTEM_ERROR&&(t.levelRetry=!1,t.errorAction=bl())}getPlaylistRetryOrSwitchAction(e,t){const s=this.hls,n=sT(s.config.playlistLoadPolicy,e),a=this.playlistError++;if(Lf(n,a,Rf(e),e.response))return{action:Si.RetryRequest,flags:ms.None,retryConfig:n,retryCount:a};const u=this.getLevelSwitchAction(e,t);return n&&(u.retryConfig=n,u.retryCount=a),u}getFragRetryOrSwitchAction(e){const t=this.hls,s=this.getVariantLevelIndex(e.frag),n=t.levels[s],{fragLoadPolicy:a,keyLoadPolicy:l}=t.config,u=sT(r_(e)?l:a,e),h=t.levels.reduce((m,p)=>m+p.fragmentError,0);if(n&&(e.details!==Q.FRAG_GAP&&n.fragmentError++,!a_(e)&&Lf(u,h,Rf(e),e.response)))return{action:Si.RetryRequest,flags:ms.None,retryConfig:u,retryCount:h};const d=this.getLevelSwitchAction(e,s);return u&&(d.retryConfig=u,d.retryCount=h),d}getLevelSwitchAction(e,t){const s=this.hls;t==null&&(t=s.loadLevel);const n=this.hls.levels[t];if(n){var a,l;const d=e.details;n.loadError++,d===Q.BUFFER_APPEND_ERROR&&n.fragmentError++;let m=-1;const{levels:p,loadLevel:g,minAutoLevel:E,maxAutoLevel:b}=s;!s.autoLevelEnabled&&!s.config.preserveManualLevelOnError&&(s.loadLevel=-1);const k=(a=e.frag)==null?void 0:a.type,x=(k===Re.AUDIO&&d===Q.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(d===Q.BUFFER_ADD_CODEC_ERROR||d===Q.BUFFER_APPEND_ERROR))&&p.some(({audioCodec:I})=>n.audioCodec!==I),w=e.sourceBufferName==="video"&&(d===Q.BUFFER_ADD_CODEC_ERROR||d===Q.BUFFER_APPEND_ERROR)&&p.some(({codecSet:I,audioCodec:L})=>n.codecSet!==I&&n.audioCodec===L),{type:R,groupId:C}=(l=e.context)!=null?l:{};for(let I=p.length;I--;){const L=(I+g)%p.length;if(L!==g&&L>=E&&L<=b&&p[L].loadError===0){var u,h;const P=p[L];if(d===Q.FRAG_GAP&&k===Re.MAIN&&e.frag){const M=p[L].details;if(M){const N=uo(e.frag,M.fragments,e.frag.start);if(N!=null&&N.gap)continue}}else{if(R===st.AUDIO_TRACK&&P.hasAudioGroup(C)||R===st.SUBTITLE_TRACK&&P.hasSubtitleGroup(C))continue;if(k===Re.AUDIO&&(u=n.audioGroups)!=null&&u.some(M=>P.hasAudioGroup(M))||k===Re.SUBTITLE&&(h=n.subtitleGroups)!=null&&h.some(M=>P.hasSubtitleGroup(M))||x&&n.audioCodec===P.audioCodec||w&&n.codecSet===P.codecSet||!x&&n.codecSet!==P.codecSet)continue}m=L;break}}if(m>-1&&s.loadLevel!==m)return e.levelRetry=!0,this.playlistError=0,{action:Si.SendAlternateToPenaltyBox,flags:ms.None,nextAutoLevel:m}}return{action:Si.SendAlternateToPenaltyBox,flags:ms.MoveAllAlternatesMatchingHost}}onErrorOut(e,t){var s;switch((s=t.errorAction)==null?void 0:s.action){case Si.DoNothing:break;case Si.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(t),!t.errorAction.resolved&&t.details!==Q.FRAG_GAP?t.fatal=!0:/MediaSource readyState: ended/.test(t.error.message)&&(this.warn(`MediaSource ended after "${t.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(t.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const t=this.hls,s=e.errorAction;if(!s)return;const{flags:n}=s,a=s.nextAutoLevel;switch(n){case ms.None:this.switchLevel(e,a);break;case ms.MoveAllAlternatesMatchingHDCP:{const h=this.getVariantLevelIndex(e.frag),d=t.levels[h],m=d==null?void 0:d.attrs["HDCP-LEVEL"];if(s.hdcpLevel=m,m==="NONE")this.warn("HDCP policy resticted output with HDCP-LEVEL=NONE");else if(m){t.maxHdcpLevel=ry[ry.indexOf(m)-1],s.resolved=!0,this.warn(`Restricting playback to HDCP-LEVEL of "${t.maxHdcpLevel}" or lower`);break}}case ms.MoveAllAlternatesMatchingKey:{const h=e.decryptdata;if(h){const d=this.hls.levels,m=d.length;for(let g=m;g--;)if(this.variantHasKey(d[g],h)){var l,u;this.log(`Banned key found in level ${g} (${d[g].bitrate}bps) or audio group "${(l=d[g].audioGroups)==null?void 0:l.join(",")}" (${(u=e.frag)==null?void 0:u.type} fragment) ${xi(h.keyId||[])}`),d[g].fragmentError++,d[g].loadError++,this.log(`Removing level ${g} with key error (${e.error})`),this.hls.removeLevel(g)}const p=e.frag;if(this.hls.levels.length<m)s.resolved=!0;else if(p&&p.type!==Re.MAIN){const g=p.decryptdata;g&&!h.matches(g)&&(s.resolved=!0)}}break}}s.resolved||this.switchLevel(e,a)}switchLevel(e,t){if(t!==void 0&&e.errorAction&&(this.warn(`switching to level ${t} after ${e.details}`),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,e.details===Q.BUFFER_ADD_CODEC_ERROR&&e.mimeType&&e.sourceBufferName!=="audiovideo")){const s=ny(e.mimeType),n=this.hls.levels;for(let a=n.length;a--;)n[a][`${e.sourceBufferName}Codec`]===s&&(this.log(`Removing level ${a} for ${e.details} ("${s}" not supported)`),this.hls.removeLevel(a))}}}function bl(i){const e={action:Si.DoNothing,flags:ms.None};return i&&(e.resolved=!0),e}var li={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class LB{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e&&(e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.BUFFER_APPENDED,this.onBufferAppended,this),e.on(A.FRAG_BUFFERED,this.onFragBuffered,this),e.on(A.FRAG_LOADED,this.onFragLoaded,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.BUFFER_APPENDED,this.onBufferAppended,this),e.off(A.FRAG_BUFFERED,this.onFragBuffered,this),e.off(A.FRAG_LOADED,this.onFragLoaded,this))}destroy(){this._unregisterListeners(),this.hls=this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,t){const s=this.activePartLists[t];if(s)for(let n=s.length;n--;){const a=s[n];if(!a)break;if(a.start<=e&&e<=a.end&&a.loaded)return a}return this.getBufferedFrag(e,t)}getBufferedFrag(e,t){return this.getFragAtPos(e,t,!0)}getFragAtPos(e,t,s){const{fragments:n}=this,a=Object.keys(n);for(let l=a.length;l--;){const u=n[a[l]];if((u==null?void 0:u.body.type)===t&&(!s||u.buffered)){const h=u.body;if(h.start<=e&&e<=h.end)return h}}return null}detectEvictedFragments(e,t,s,n,a){this.timeRanges&&(this.timeRanges[e]=t);const l=(n==null?void 0:n.fragment.sn)||-1;Object.keys(this.fragments).forEach(u=>{const h=this.fragments[u];if(!h||l>=h.body.sn)return;if(!h.buffered&&(!h.loaded||a)){h.body.type===s&&this.removeFragment(h.body);return}const d=h.range[e];if(d){if(d.time.length===0){this.removeFragment(h.body);return}d.time.some(m=>{const p=!this.isTimeBuffered(m.startPTS,m.endPTS,t);return p&&this.removeFragment(h.body),p})}})}detectPartialFragments(e){const t=this.timeRanges;if(!t||e.frag.sn==="initSegment")return;const s=e.frag,n=nl(s),a=this.fragments[n];if(!a||a.buffered&&s.gap)return;const l=!s.relurl;Object.keys(t).forEach(u=>{const h=s.elementaryStreams[u];if(!h)return;const d=t[u],m=l||h.partial===!0;a.range[u]=this.getBufferedTimes(s,e.part,m,d)}),a.loaded=null,Object.keys(a.range).length?(this.bufferedEnd(a,s),bh(a)||this.removeParts(s.sn-1,s.type)):this.removeFragment(a.body)}bufferedEnd(e,t){e.buffered=!0,(e.body.endList=t.endList||e.body.endList)&&(this.endListFragments[e.body.type]=e)}removeParts(e,t){const s=this.activePartLists[t];s&&(this.activePartLists[t]=rT(s,n=>n.fragment.sn>=e))}fragBuffered(e,t){const s=nl(e);let n=this.fragments[s];!n&&t&&(n=this.fragments[s]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),n&&(n.loaded=null,this.bufferedEnd(n,e))}getBufferedTimes(e,t,s,n){const a={time:[],partial:s},l=e.start,u=e.end,h=e.minEndPTS||u,d=e.maxStartPTS||l;for(let m=0;m<n.length;m++){const p=n.start(m)-this.bufferPadding,g=n.end(m)+this.bufferPadding;if(d>=p&&h<=g){a.time.push({startPTS:Math.max(l,n.start(m)),endPTS:Math.min(u,n.end(m))});break}else if(l<g&&u>p){const E=Math.max(l,n.start(m)),b=Math.min(u,n.end(m));b>E&&(a.partial=!0,a.time.push({startPTS:E,endPTS:b}))}else if(u<=p)break}return a}getPartialFragment(e){let t=null,s,n,a,l=0;const{bufferPadding:u,fragments:h}=this;return Object.keys(h).forEach(d=>{const m=h[d];m&&bh(m)&&(n=m.body.start-u,a=m.body.end+u,e>=n&&e<=a&&(s=Math.min(e-n,a-e),l<=s&&(t=m.body,l=s)))}),t}isEndListAppended(e){const t=this.endListFragments[e];return t!==void 0&&(t.buffered||bh(t))}getState(e){const t=nl(e),s=this.fragments[t];return s?s.buffered?bh(s)?li.PARTIAL:li.OK:li.APPENDING:li.NOT_LOADED}isTimeBuffered(e,t,s){let n,a;for(let l=0;l<s.length;l++){if(n=s.start(l)-this.bufferPadding,a=s.end(l)+this.bufferPadding,e>=n&&t<=a)return!0;if(t<=n)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(e,t){if(t.frag.sn==="initSegment"||t.frag.bitrateTest)return;const s=t.frag,n=t.part?null:t,a=nl(s);this.fragments[a]={body:s,appendedPTS:null,loaded:n,buffered:!1,range:Object.create(null)}}onBufferAppended(e,t){const{frag:s,part:n,timeRanges:a,type:l}=t;if(s.sn==="initSegment")return;const u=s.type;if(n){let d=this.activePartLists[u];d||(this.activePartLists[u]=d=[]),d.push(n)}this.timeRanges=a;const h=a[l];this.detectEvictedFragments(l,h,u,n)}onFragBuffered(e,t){this.detectPartialFragments(t)}hasFragment(e){const t=nl(e);return!!this.fragments[t]}hasFragments(e){const{fragments:t}=this,s=Object.keys(t);if(!e)return s.length>0;for(let n=s.length;n--;){const a=t[s[n]];if((a==null?void 0:a.body.type)===e)return!0}return!1}hasParts(e){var t;return!!((t=this.activePartLists[e])!=null&&t.length)}removeFragmentsInRange(e,t,s,n,a){n&&!this.hasGaps||Object.keys(this.fragments).forEach(l=>{const u=this.fragments[l];if(!u)return;const h=u.body;h.type!==s||n&&!h.gap||h.start<t&&h.end>e&&(u.buffered||a)&&this.removeFragment(h)})}removeFragment(e){const t=nl(e);e.clearElementaryStreamInfo();const s=this.activePartLists[e.type];if(s){const n=e.sn;this.activePartLists[e.type]=rT(s,a=>a.fragment.sn!==n)}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){var e;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const t=(e=this.hls)==null||(e=e.latestLevelDetails)==null?void 0:e.partList;t&&t.forEach(s=>s.clearElementaryStreamInfo())}}function bh(i){var e,t,s;return i.buffered&&!!(i.body.gap||(e=i.range.video)!=null&&e.partial||(t=i.range.audio)!=null&&t.partial||(s=i.range.audiovideo)!=null&&s.partial)}function nl(i){return`${i.type}_${i.level}_${i.sn}`}function rT(i,e){return i.filter(t=>{const s=e(t);return s||t.clearElementaryStreamInfo(),s})}var da={cbc:0,ctr:1};class CB{constructor(e,t,s){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=e,this.aesIV=t,this.aesMode=s}decrypt(e,t){switch(this.aesMode){case da.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e);case da.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},t,e);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}function DB(i){const e=i.byteLength,t=e&&new DataView(i.buffer).getUint8(e-1);return t?i.slice(0,e-t):i}class IB{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const t=new DataView(e),s=new Uint32Array(4);for(let n=0;n<4;n++)s[n]=t.getUint32(n*4);return s}initTable(){const e=this.sBox,t=this.invSBox,s=this.subMix,n=s[0],a=s[1],l=s[2],u=s[3],h=this.invSubMix,d=h[0],m=h[1],p=h[2],g=h[3],E=new Uint32Array(256);let b=0,k=0,S=0;for(S=0;S<256;S++)S<128?E[S]=S<<1:E[S]=S<<1^283;for(S=0;S<256;S++){let x=k^k<<1^k<<2^k<<3^k<<4;x=x>>>8^x&255^99,e[b]=x,t[x]=b;const _=E[b],w=E[_],R=E[w];let C=E[x]*257^x*16843008;n[b]=C<<24|C>>>8,a[b]=C<<16|C>>>16,l[b]=C<<8|C>>>24,u[b]=C,C=R*16843009^w*65537^_*257^b*16843008,d[x]=C<<24|C>>>8,m[x]=C<<16|C>>>16,p[x]=C<<8|C>>>24,g[x]=C,b?(b=_^E[E[E[R^_]]],k^=E[E[k]]):b=k=1}}expandKey(e){const t=this.uint8ArrayToUint32Array_(e);let s=!0,n=0;for(;n<t.length&&s;)s=t[n]===this.key[n],n++;if(s)return;this.key=t;const a=this.keySize=t.length;if(a!==4&&a!==6&&a!==8)throw new Error("Invalid aes key size="+a);const l=this.ksRows=(a+6+1)*4;let u,h;const d=this.keySchedule=new Uint32Array(l),m=this.invKeySchedule=new Uint32Array(l),p=this.sBox,g=this.rcon,E=this.invSubMix,b=E[0],k=E[1],S=E[2],x=E[3];let _,w;for(u=0;u<l;u++){if(u<a){_=d[u]=t[u];continue}w=_,u%a===0?(w=w<<8|w>>>24,w=p[w>>>24]<<24|p[w>>>16&255]<<16|p[w>>>8&255]<<8|p[w&255],w^=g[u/a|0]<<24):a>6&&u%a===4&&(w=p[w>>>24]<<24|p[w>>>16&255]<<16|p[w>>>8&255]<<8|p[w&255]),d[u]=_=(d[u-a]^w)>>>0}for(h=0;h<l;h++)u=l-h,h&3?w=d[u]:w=d[u-4],h<4||u<=4?m[h]=w:m[h]=b[p[w>>>24]]^k[p[w>>>16&255]]^S[p[w>>>8&255]]^x[p[w&255]],m[h]=m[h]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,t,s){const n=this.keySize+6,a=this.invKeySchedule,l=this.invSBox,u=this.invSubMix,h=u[0],d=u[1],m=u[2],p=u[3],g=this.uint8ArrayToUint32Array_(s);let E=g[0],b=g[1],k=g[2],S=g[3];const x=new Int32Array(e),_=new Int32Array(x.length);let w,R,C,I,L,P,M,N,H,se,ge,ve,U,O;const q=this.networkToHostOrderSwap;for(;t<x.length;){for(H=q(x[t]),se=q(x[t+1]),ge=q(x[t+2]),ve=q(x[t+3]),L=H^a[0],P=ve^a[1],M=ge^a[2],N=se^a[3],U=4,O=1;O<n;O++)w=h[L>>>24]^d[P>>16&255]^m[M>>8&255]^p[N&255]^a[U],R=h[P>>>24]^d[M>>16&255]^m[N>>8&255]^p[L&255]^a[U+1],C=h[M>>>24]^d[N>>16&255]^m[L>>8&255]^p[P&255]^a[U+2],I=h[N>>>24]^d[L>>16&255]^m[P>>8&255]^p[M&255]^a[U+3],L=w,P=R,M=C,N=I,U=U+4;w=l[L>>>24]<<24^l[P>>16&255]<<16^l[M>>8&255]<<8^l[N&255]^a[U],R=l[P>>>24]<<24^l[M>>16&255]<<16^l[N>>8&255]<<8^l[L&255]^a[U+1],C=l[M>>>24]<<24^l[N>>16&255]<<16^l[L>>8&255]<<8^l[P&255]^a[U+2],I=l[N>>>24]<<24^l[L>>16&255]<<16^l[P>>8&255]<<8^l[M&255]^a[U+3],_[t]=q(w^E),_[t+1]=q(I^b),_[t+2]=q(C^k),_[t+3]=q(R^S),E=H,b=se,k=ge,S=ve,t=t+4}return _.buffer}}class jB{constructor(e,t,s){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=e,this.key=t,this.aesMode=s}expandKey(){const e=OB(this.aesMode);return this.subtle.importKey("raw",this.key,{name:e},!1,["encrypt","decrypt"])}}function OB(i){switch(i){case da.cbc:return"AES-CBC";case da.ctr:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${i}`)}}const MB=16;class sv{constructor(e,{removePKCS7Padding:t=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=e.enableSoftwareAES,this.removePKCS7Padding=t,t)try{const s=self.crypto;s&&(this.subtle=s.subtle||s.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:t}=this;if(!e||t)return this.reset(),null;const s=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?DB(s):s}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,t,s,n){return this.useSoftware?new Promise((a,l)=>{const u=ArrayBuffer.isView(e)?e:new Uint8Array(e);this.softwareDecrypt(u,t,s,n);const h=this.flush();h?a(h.buffer):l(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),t,s,n)}softwareDecrypt(e,t,s,n){const{currentIV:a,currentResult:l,remainderData:u}=this;if(n!==da.cbc||t.byteLength!==16)return _t.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),u&&(e=Ms(u,e),this.remainderData=null);const h=this.getValidChunk(e);if(!h.length)return null;a&&(s=a);let d=this.softwareDecrypter;d||(d=this.softwareDecrypter=new IB),d.expandKey(t);const m=l;return this.currentResult=d.decrypt(h.buffer,0,s),this.currentIV=h.slice(-16).buffer,m||null}webCryptoDecrypt(e,t,s,n){if(this.key!==t||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,t,s,n));this.key=t,this.fastAesKey=new jB(this.subtle,t,n)}return this.fastAesKey.expandKey().then(a=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new CB(this.subtle,new Uint8Array(s),n).decrypt(e.buffer,a)):Promise.reject(new Error("web crypto not initialized"))).catch(a=>(_t.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${a.name}: ${a.message}`),this.onWebCryptoError(e,t,s,n)))}onWebCryptoError(e,t,s,n){const a=this.enableSoftwareAES;if(a){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,s,n);const l=this.flush();if(l)return l.buffer}throw new Error("WebCrypto"+(a?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(e){let t=e;const s=e.length-e.length%MB;return s!==e.length&&(t=e.slice(0,s),this.remainderData=e.slice(s)),t}logOnce(e){this.logEnabled&&(_t.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const aT=Math.pow(2,17);class PB{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,t){const s=e.url;if(!s)return Promise.reject(new Jn({type:Ie.NETWORK_ERROR,details:Q.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${s?"part list":"url"}`),networkDetails:null}));this.abort();const n=this.config,a=n.fLoader,l=n.loader;return new Promise((u,h)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(b=>b[0]==="GAP")){h(lT(e));return}else e.gap=!1;const d=this.loader=a?new a(n):new l(n),m=oT(e);e.loader=d;const p=nT(n.fragLoadPolicy.default),g={loadPolicy:p,timeout:p.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:aT};e.stats=d.stats;const E={onSuccess:(b,k,S,x)=>{this.resetLoader(e,d);let _=b.data;S.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(_.slice(0,16)),_=_.slice(16)),u({frag:e,part:null,payload:_,networkDetails:x})},onError:(b,k,S,x)=>{this.resetLoader(e,d),h(new Jn({type:Ie.NETWORK_ERROR,details:Q.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:wt({url:s,data:void 0},b),error:new Error(`HTTP Error ${b.code} ${b.text}`),networkDetails:S,stats:x}))},onAbort:(b,k,S)=>{this.resetLoader(e,d),h(new Jn({type:Ie.NETWORK_ERROR,details:Q.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:S,stats:b}))},onTimeout:(b,k,S)=>{this.resetLoader(e,d),h(new Jn({type:Ie.NETWORK_ERROR,details:Q.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${g.timeout}ms`),networkDetails:S,stats:b}))}};t&&(E.onProgress=(b,k,S,x)=>t({frag:e,part:null,payload:S,networkDetails:x})),d.load(m,g,E)})}loadPart(e,t,s){this.abort();const n=this.config,a=n.fLoader,l=n.loader;return new Promise((u,h)=>{if(this.loader&&this.loader.destroy(),e.gap||t.gap){h(lT(e,t));return}const d=this.loader=a?new a(n):new l(n),m=oT(e,t);e.loader=d;const p=nT(n.fragLoadPolicy.default),g={loadPolicy:p,timeout:p.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:aT};t.stats=d.stats,d.load(m,g,{onSuccess:(E,b,k,S)=>{this.resetLoader(e,d),this.updateStatsFromPart(e,t);const x={frag:e,part:t,payload:E.data,networkDetails:S};s(x),u(x)},onError:(E,b,k,S)=>{this.resetLoader(e,d),h(new Jn({type:Ie.NETWORK_ERROR,details:Q.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:wt({url:m.url,data:void 0},E),error:new Error(`HTTP Error ${E.code} ${E.text}`),networkDetails:k,stats:S}))},onAbort:(E,b,k)=>{e.stats.aborted=t.stats.aborted,this.resetLoader(e,d),h(new Jn({type:Ie.NETWORK_ERROR,details:Q.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:k,stats:E}))},onTimeout:(E,b,k)=>{this.resetLoader(e,d),h(new Jn({type:Ie.NETWORK_ERROR,details:Q.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error(`Timeout after ${g.timeout}ms`),networkDetails:k,stats:E}))}})})}updateStatsFromPart(e,t){const s=e.stats,n=t.stats,a=n.total;if(s.loaded+=n.loaded,a){const h=Math.round(e.duration/t.duration),d=Math.min(Math.round(s.loaded/a),h),p=(h-d)*Math.round(s.loaded/d);s.total=s.loaded+p}else s.total=Math.max(s.loaded,s.total);const l=s.loading,u=n.loading;l.start?l.first+=u.first-u.start:(l.start=u.start,l.first=u.first),l.end=u.end}resetLoader(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}function oT(i,e=null){const t=e||i,s={frag:i,part:e,responseType:"arraybuffer",url:t.url,headers:{},rangeStart:0,rangeEnd:0},n=t.byteRangeStartOffset,a=t.byteRangeEndOffset;if(Ae(n)&&Ae(a)){var l;let u=n,h=a;if(i.sn==="initSegment"&&NB((l=i.decryptdata)==null?void 0:l.method)){const d=a-n;d%16&&(h=a+(16-d%16)),n!==0&&(s.resetIV=!0,u=n-16)}s.rangeStart=u,s.rangeEnd=h}return s}function lT(i,e){const t=new Error(`GAP ${i.gap?"tag":"attribute"} found`),s={type:Ie.MEDIA_ERROR,details:Q.FRAG_GAP,fatal:!1,frag:i,error:t,networkDetails:null};return e&&(s.part=e),(e||i).stats.aborted=!0,new Jn(s)}function NB(i){return i==="AES-128"||i==="AES-256"}class Jn extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class o_ extends Ps{constructor(e,t){super(e,t),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class nv{constructor(e,t,s,n=0,a=-1,l=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=Eh(),this.buffering={audio:Eh(),video:Eh(),audiovideo:Eh()},this.level=e,this.sn=t,this.id=s,this.size=n,this.part=a,this.partial=l}}function Eh(){return{start:0,executeStart:0,executeEnd:0,end:0}}const uT={length:0,start:()=>0,end:()=>0};class Ke{static isBuffered(e,t){if(e){const s=Ke.getBuffered(e);for(let n=s.length;n--;)if(t>=s.start(n)&&t<=s.end(n))return!0}return!1}static bufferedRanges(e){if(e){const t=Ke.getBuffered(e);return Ke.timeRangesToArray(t)}return[]}static timeRangesToArray(e){const t=[];for(let s=0;s<e.length;s++)t.push({start:e.start(s),end:e.end(s)});return t}static bufferInfo(e,t,s){if(e){const n=Ke.bufferedRanges(e);if(n.length)return Ke.bufferedInfo(n,t,s)}return{len:0,start:t,end:t,bufferedIndex:-1}}static bufferedInfo(e,t,s){t=Math.max(0,t),e.length>1&&e.sort((m,p)=>m.start-p.start||p.end-m.end);let n=-1,a=[];if(s)for(let m=0;m<e.length;m++){t>=e[m].start&&t<=e[m].end&&(n=m);const p=a.length;if(p){const g=a[p-1].end;e[m].start-g<s?e[m].end>g&&(a[p-1].end=e[m].end):a.push(e[m])}else a.push(e[m])}else a=e;let l=0,u,h=t,d=t;for(let m=0;m<a.length;m++){const p=a[m].start,g=a[m].end;if(n===-1&&t>=p&&t<=g&&(n=m),t+s>=p&&t<g)h=p,d=g,l=d-t;else if(t+s<p){u=p;break}}return{len:l,start:h||0,end:d||0,nextStart:u,buffered:e,bufferedIndex:n}}static getBuffered(e){try{return e.buffered||uT}catch(t){return _t.log("failed to get media.buffered",t),uT}}}const l_=/\{\$([a-zA-Z0-9-_]+)\}/g;function cT(i){return l_.test(i)}function oy(i,e){if(i.variableList!==null||i.hasVariableRefs){const t=i.variableList;return e.replace(l_,s=>{const n=s.substring(2,s.length-1),a=t==null?void 0:t[n];return a===void 0?(i.playlistParsingError||(i.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${n}"`)),s):a})}return e}function dT(i,e,t){let s=i.variableList;s||(i.variableList=s={});let n,a;if("QUERYPARAM"in e){n=e.QUERYPARAM;try{const l=new self.URL(t).searchParams;if(l.has(n))a=l.get(n);else throw new Error(`"${n}" does not match any query parameter in URI: "${t}"`)}catch(l){i.playlistParsingError||(i.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${l.message}`))}}else n=e.NAME,a=e.VALUE;n in s?i.playlistParsingError||(i.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${n}"`)):s[n]=a||""}function FB(i,e,t){const s=e.IMPORT;if(t&&s in t){let n=i.variableList;n||(i.variableList=n={}),n[s]=t[s]}else i.playlistParsingError||(i.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${s}"`))}const BB=/^(\d+)x(\d+)$/,hT=/(.+?)=(".*?"|.*?)(?:,|$)/g;class $t{constructor(e,t){typeof e=="string"&&(e=$t.parseAttrList(e,t)),Dt(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}hexadecimalInteger(e){if(this[e]){let t=(this[e]||"0x").slice(2);t=(t.length&1?"0":"")+t;const s=new Uint8Array(t.length/2);for(let n=0;n<t.length/2;n++)s[n]=parseInt(t.slice(n*2,n*2+2),16);return s}return null}hexadecimalIntegerAsNumber(e){const t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,t){const s=this[e];return s?parseFloat(s):t}enumeratedString(e){return this[e]}enumeratedStringList(e,t){const s=this[e];return(s?s.split(/[ ,]+/):[]).reduce((n,a)=>(n[a.toLowerCase()]=!0,n),t)}bool(e){return this[e]==="YES"}decimalResolution(e){const t=BB.exec(this[e]);if(t!==null)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}static parseAttrList(e,t){let s;const n={},a='"';for(hT.lastIndex=0;(s=hT.exec(e))!==null;){const l=s[1].trim();let u=s[2];const h=u.indexOf(a)===0&&u.lastIndexOf(a)===u.length-1;let d=!1;if(h)u=u.slice(1,-1);else switch(l){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":d=!0}if(t&&(h||d))u=oy(t,u);else if(!d&&!h)switch(l){case"CLOSED-CAPTIONS":if(u==="NONE")break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":_t.warn(`${e}: attribute ${l} is missing quotes`)}n[l]=u}return n}}const UB="com.apple.hls.interstitial";function $B(i){return i!=="ID"&&i!=="CLASS"&&i!=="CUE"&&i!=="START-DATE"&&i!=="DURATION"&&i!=="END-DATE"&&i!=="END-ON-NEXT"}function zB(i){return i==="SCTE35-OUT"||i==="SCTE35-IN"||i==="SCTE35-CMD"}class u_{constructor(e,t,s=0){var n;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=(t==null?void 0:t.tagAnchor)||null,this.tagOrder=(n=t==null?void 0:t.tagOrder)!=null?n:s,t){const a=t.attr;for(const l in a)if(Object.prototype.hasOwnProperty.call(e,l)&&e[l]!==a[l]){_t.warn(`DATERANGE tag attribute: "${l}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=l;break}e=Dt(new $t({}),a,e)}if(this.attr=e,t?(this._startDate=t._startDate,this._cue=t._cue,this._endDate=t._endDate,this._dateAtEnd=t._dateAtEnd):this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const a=(t==null?void 0:t.endDate)||new Date(this.attr["END-DATE"]);Ae(a.getTime())&&(this._endDate=a)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const e=this._cue;return e===void 0?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):e}get startTime(){const{tagAnchor:e}=this;return e===null||e.programDateTime===null?(_t.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${e}`),NaN):e.start+(this.startDate.getTime()-e.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const e=this._endDate||this._dateAtEnd;if(e)return e;const t=this.duration;return t!==null?this._dateAtEnd=new Date(this._startDate.getTime()+t*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(Ae(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return this.class===UB}get isValid(){return!!this.id&&!this._badValueForSameId&&Ae(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}const GB=10;class HB{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const t=this.lastPartSn-e.lastPartSn,s=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!s||!!t||!this.live,this.advanced=this.endSN>e.endSN||t>0||t===0&&s>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1}hasKey(e){return this.encryptedFragments.some(t=>{let s=t.decryptdata;return s||(t.setKeyFormat(e.keyFormat),s=t.decryptdata),!!s&&e.matches(s)})}get hasProgramDateTime(){return this.fragments.length?Ae(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||GB}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){return this.fragments.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){return this.fragments.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const e=this.partList;if(e){const t=this.lastPartIndex;if(t!==-1){for(let s=e.length;s--;)if(e[s].index>t)return e[s].index;return t}}return 0}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const e=this.partEnd-this.fragmentStart;return this.age>Math.max(e,this.totalduration)+this.levelTargetDuration}return!1}}function Cf(i,e){return i.length===e.length?!i.some((t,s)=>t!==e[s]):!1}function fT(i,e){return!i&&!e?!0:!i||!e?!1:Cf(i,e)}function El(i){return i==="AES-128"||i==="AES-256"||i==="AES-256-CTR"}function rv(i){switch(i){case"AES-128":case"AES-256":return da.cbc;case"AES-256-CTR":return da.ctr;default:throw new Error(`invalid full segment method ${i}`)}}function av(i){return Uint8Array.from(atob(i),e=>e.charCodeAt(0))}function ly(i){return Uint8Array.from(unescape(encodeURIComponent(i)),e=>e.charCodeAt(0))}function qB(i){const e=ly(i).subarray(0,16),t=new Uint8Array(16);return t.set(e,16-e.length),t}function c_(i){const e=function(s,n,a){const l=s[n];s[n]=s[a],s[a]=l};e(i,0,3),e(i,1,2),e(i,4,5),e(i,6,7)}function d_(i){const e=i.split(":");let t=null;if(e[0]==="data"&&e.length===2){const s=e[1].split(";"),n=s[s.length-1].split(",");if(n.length===2){const a=n[0]==="base64",l=n[1];a?(s.splice(-1,1),t=av(l)):t=qB(l)}}return t}const Df=typeof self<"u"?self:void 0;var Gt={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Ti={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function Yh(i){switch(i){case Ti.FAIRPLAY:return Gt.FAIRPLAY;case Ti.PLAYREADY:return Gt.PLAYREADY;case Ti.WIDEVINE:return Gt.WIDEVINE;case Ti.CLEARKEY:return Gt.CLEARKEY}}function Wg(i){switch(i){case Gt.FAIRPLAY:return Ti.FAIRPLAY;case Gt.PLAYREADY:return Ti.PLAYREADY;case Gt.WIDEVINE:return Ti.WIDEVINE;case Gt.CLEARKEY:return Ti.CLEARKEY}}function nc(i){const{drmSystems:e,widevineLicenseUrl:t}=i,s=e?[Gt.FAIRPLAY,Gt.WIDEVINE,Gt.PLAYREADY,Gt.CLEARKEY].filter(n=>!!e[n]):[];return!s[Gt.WIDEVINE]&&t&&s.push(Gt.WIDEVINE),s}const h_=function(i){return Df!=null&&(i=Df.navigator)!=null&&i.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function VB(i,e,t,s){let n;switch(i){case Gt.FAIRPLAY:n=["cenc","sinf"];break;case Gt.WIDEVINE:case Gt.PLAYREADY:n=["cenc"];break;case Gt.CLEARKEY:n=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${i}`)}return KB(n,e,t,s)}function KB(i,e,t,s){return[{initDataTypes:i,persistentState:s.persistentState||"optional",distinctiveIdentifier:s.distinctiveIdentifier||"optional",sessionTypes:s.sessionTypes||[s.sessionType||"temporary"],audioCapabilities:e.map(a=>({contentType:`audio/mp4; codecs=${a}`,robustness:s.audioRobustness||"",encryptionScheme:s.audioEncryptionScheme||null})),videoCapabilities:t.map(a=>({contentType:`video/mp4; codecs=${a}`,robustness:s.videoRobustness||"",encryptionScheme:s.videoEncryptionScheme||null}))}]}function YB(i){var e;return!!i&&(i.sessionType==="persistent-license"||!!((e=i.sessionTypes)!=null&&e.some(t=>t==="persistent-license")))}function f_(i){const e=new Uint16Array(i.buffer,i.byteOffset,i.byteLength/2),t=String.fromCharCode.apply(null,Array.from(e)),s=t.substring(t.indexOf("<"),t.length),l=new DOMParser().parseFromString(s,"text/xml").getElementsByTagName("KID")[0];if(l){const u=l.childNodes[0]?l.childNodes[0].nodeValue:l.getAttribute("VALUE");if(u){const h=av(u).subarray(0,16);return c_(h),h}}return null}let rl={};class ia{static clearKeyUriToKeyIdMap(){rl={}}static setKeyIdForUri(e,t){rl[e]=t}static addKeyIdForUri(e){const t=Object.keys(rl).length%Number.MAX_SAFE_INTEGER,s=new Uint8Array(16);return new DataView(s.buffer,12,4).setUint32(0,t),rl[e]=s,s}constructor(e,t,s,n=[1],a=null,l){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=t,this.keyFormat=s,this.keyFormatVersions=n,this.iv=a,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&!El(e),l!=null&&l.startsWith("0x")&&(this.keyId=new Uint8Array($w(l)))}matches(e){return e.uri===this.uri&&e.method===this.method&&e.encrypted===this.encrypted&&e.keyFormat===this.keyFormat&&Cf(e.keyFormatVersions,this.keyFormatVersions)&&fT(e.iv,this.iv)&&fT(e.keyId,this.keyId)}isSupported(){if(this.method){if(El(this.method)||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case Ti.FAIRPLAY:case Ti.WIDEVINE:case Ti.PLAYREADY:case Ti.CLEARKEY:return["SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e,t){if(!this.encrypted||!this.uri)return null;if(El(this.method)){let a=this.iv;return a||(typeof e!="number"&&(_t.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0),a=XB(e)),new ia(this.method,this.uri,"identity",this.keyFormatVersions,a)}if(this.keyId){const a=rl[this.uri];if(a&&!Cf(this.keyId,a)&&ia.setKeyIdForUri(this.uri,this.keyId),this.pssh)return this}const s=d_(this.uri);if(s)switch(this.keyFormat){case Ti.WIDEVINE:if(this.pssh=s,!this.keyId){const a=J4(s.buffer);if(a.length){var n;const l=a[0];this.keyId=(n=l.kids)!=null&&n.length?l.kids[0]:null}}this.keyId||(this.keyId=mT(t));break;case Ti.PLAYREADY:{const a=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=Z4(a,null,s),this.keyId=f_(s);break}default:{let a=s.subarray(0,16);if(a.length!==16){const l=new Uint8Array(16);l.set(a,16-a.length),a=l}this.keyId=a;break}}if(!this.keyId||this.keyId.byteLength!==16){let a;a=WB(t),a||(a=mT(t),a||(a=rl[this.uri])),a&&(this.keyId=a,ia.setKeyIdForUri(this.uri,a))}return this}}function WB(i){const e=i==null?void 0:i[Ti.WIDEVINE];return e?e.keyId:null}function mT(i){const e=i==null?void 0:i[Ti.PLAYREADY];if(e){const t=d_(e.uri);if(t)return f_(t)}return null}function XB(i){const e=new Uint8Array(16);for(let t=12;t<16;t++)e[t]=i>>8*(15-t)&255;return e}const pT=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,gT=/#EXT-X-MEDIA:(.*)/g,QB=/^#EXT(?:INF|-X-TARGETDURATION):/m,Xg=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),ZB=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class xn{static findGroup(e,t){for(let s=0;s<e.length;s++){const n=e[s];if(n.id===t)return n}}static resolve(e,t){return Qy.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return QB.test(e)}static parseMasterPlaylist(e,t){const s=cT(e),n={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:s},a=[];if(pT.lastIndex=0,!e.startsWith("#EXTM3U"))return n.playlistParsingError=new Error("no EXTM3U delimiter"),n;let l;for(;(l=pT.exec(e))!=null;)if(l[1]){var u;const d=new $t(l[1],n),m=oy(n,l[2]),p={attrs:d,bitrate:d.decimalInteger("BANDWIDTH")||d.decimalInteger("AVERAGE-BANDWIDTH"),name:d.NAME,url:xn.resolve(m,t)},g=d.decimalResolution("RESOLUTION");g&&(p.width=g.width,p.height=g.height),bT(d.CODECS,p);const E=d["SUPPLEMENTAL-CODECS"];E&&(p.supplemental={},bT(E,p.supplemental)),(u=p.unknownCodecs)!=null&&u.length||a.push(p),n.levels.push(p)}else if(l[3]){const d=l[3],m=l[4];switch(d){case"SESSION-DATA":{const p=new $t(m,n),g=p["DATA-ID"];g&&(n.sessionData===null&&(n.sessionData={}),n.sessionData[g]=p);break}case"SESSION-KEY":{const p=yT(m,t,n);p.encrypted&&p.isSupported()?(n.sessionKeys===null&&(n.sessionKeys=[]),n.sessionKeys.push(p)):_t.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${m}"`);break}case"DEFINE":{{const p=new $t(m,n);dT(n,p,t)}break}case"CONTENT-STEERING":{const p=new $t(m,n);n.contentSteering={uri:xn.resolve(p["SERVER-URI"],t),pathwayId:p["PATHWAY-ID"]||"."};break}case"START":{n.startTimeOffset=vT(m);break}}}const h=a.length>0&&a.length<n.levels.length;return n.levels=h?a:n.levels,n.levels.length===0&&(n.playlistParsingError=new Error("no levels found in manifest")),n}static parseMasterPlaylistMedia(e,t,s){let n;const a={},l=s.levels,u={AUDIO:l.map(d=>({id:d.attrs.AUDIO,audioCodec:d.audioCodec})),SUBTITLES:l.map(d=>({id:d.attrs.SUBTITLES,textCodec:d.textCodec})),"CLOSED-CAPTIONS":[]};let h=0;for(gT.lastIndex=0;(n=gT.exec(e))!==null;){const d=new $t(n[1],s),m=d.TYPE;if(m){const p=u[m],g=a[m]||[];a[m]=g;const E=d.LANGUAGE,b=d["ASSOC-LANGUAGE"],k=d.CHANNELS,S=d.CHARACTERISTICS,x=d["INSTREAM-ID"],_={attrs:d,bitrate:0,id:h++,groupId:d["GROUP-ID"]||"",name:d.NAME||E||"",type:m,default:d.bool("DEFAULT"),autoselect:d.bool("AUTOSELECT"),forced:d.bool("FORCED"),lang:E,url:d.URI?xn.resolve(d.URI,t):""};if(b&&(_.assocLang=b),k&&(_.channels=k),S&&(_.characteristics=S),x&&(_.instreamId=x),p!=null&&p.length){const w=xn.findGroup(p,_.groupId)||p[0];ET(_,w,"audioCodec"),ET(_,w,"textCodec")}g.push(_)}}return a}static parseLevelPlaylist(e,t,s,n,a,l){var u;const h={url:t},d=new HB(t),m=d.fragments,p=[];let g=null,E=0,b=0,k=0,S=0,x=0,_=null,w=new Vg(n,h),R,C,I,L=-1,P=!1,M=null,N;if(Xg.lastIndex=0,d.m3u8=e,d.hasVariableRefs=cT(e),((u=Xg.exec(e))==null?void 0:u[0])!=="#EXTM3U")return d.playlistParsingError=new Error("Missing format identifier #EXTM3U"),d;for(;(R=Xg.exec(e))!==null;){P&&(P=!1,w=new Vg(n,h),w.playlistOffset=k,w.setStart(k),w.sn=E,w.cc=S,x&&(w.bitrate=x),w.level=s,g&&(w.initSegment=g,g.rawProgramDateTime&&(w.rawProgramDateTime=g.rawProgramDateTime,g.rawProgramDateTime=null),M&&(w.setByteRange(M),M=null)));const ve=R[1];if(ve){w.duration=parseFloat(ve);const U=(" "+R[2]).slice(1);w.title=U||null,w.tagList.push(U?["INF",ve,U]:["INF",ve])}else if(R[3]){if(Ae(w.duration)){w.playlistOffset=k,w.setStart(k),I&&ST(w,I,d),w.sn=E,w.level=s,w.cc=S,m.push(w);const U=(" "+R[3]).slice(1);w.relurl=oy(d,U),uy(w,_,p),_=w,k+=w.duration,E++,b=0,P=!0}}else{if(R=R[0].match(ZB),!R){_t.warn("No matches on slow regex match for level playlist!");continue}for(C=1;C<R.length&&R[C]===void 0;C++);const U=(" "+R[C]).slice(1),O=(" "+R[C+1]).slice(1),q=R[C+2]?(" "+R[C+2]).slice(1):null;switch(U){case"BYTERANGE":_?w.setByteRange(O,_):w.setByteRange(O);break;case"PROGRAM-DATE-TIME":w.rawProgramDateTime=O,w.tagList.push(["PROGRAM-DATE-TIME",O]),L===-1&&(L=m.length);break;case"PLAYLIST-TYPE":d.type&&Yn(d,U,R),d.type=O.toUpperCase();break;case"MEDIA-SEQUENCE":d.startSN!==0?Yn(d,U,R):m.length>0&&xT(d,U,R),E=d.startSN=parseInt(O);break;case"SKIP":{d.skippedSegments&&Yn(d,U,R);const W=new $t(O,d),re=W.decimalInteger("SKIPPED-SEGMENTS");if(Ae(re)){d.skippedSegments+=re;for(let j=re;j--;)m.push(null);E+=re}const he=W.enumeratedString("RECENTLY-REMOVED-DATERANGES");he&&(d.recentlyRemovedDateranges=(d.recentlyRemovedDateranges||[]).concat(he.split("	")));break}case"TARGETDURATION":d.targetduration!==0&&Yn(d,U,R),d.targetduration=Math.max(parseInt(O),1);break;case"VERSION":d.version!==null&&Yn(d,U,R),d.version=parseInt(O);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":d.live||Yn(d,U,R),d.live=!1;break;case"#":(O||q)&&w.tagList.push(q?[O,q]:[O]);break;case"DISCONTINUITY":S++,w.tagList.push(["DIS"]);break;case"GAP":w.gap=!0,w.tagList.push([U]);break;case"BITRATE":w.tagList.push([U,O]),x=parseInt(O)*1e3,Ae(x)?w.bitrate=x:x=0;break;case"DATERANGE":{const W=new $t(O,d),re=new u_(W,d.dateRanges[W.ID],d.dateRangeTagCount);d.dateRangeTagCount++,re.isValid||d.skippedSegments?d.dateRanges[re.id]=re:_t.warn(`Ignoring invalid DATERANGE tag: "${O}"`),w.tagList.push(["EXT-X-DATERANGE",O]);break}case"DEFINE":{{const W=new $t(O,d);"IMPORT"in W?FB(d,W,l):dT(d,W,t)}break}case"DISCONTINUITY-SEQUENCE":d.startCC!==0?Yn(d,U,R):m.length>0&&xT(d,U,R),d.startCC=S=parseInt(O);break;case"KEY":{const W=yT(O,t,d);if(W.isSupported()){if(W.method==="NONE"){I=void 0;break}I||(I={});const re=I[W.keyFormat];re!=null&&re.matches(W)||(re&&(I=Dt({},I)),I[W.keyFormat]=W)}else _t.warn(`[Keys] Ignoring unsupported EXT-X-KEY tag: "${O}"`);break}case"START":d.startTimeOffset=vT(O);break;case"MAP":{const W=new $t(O,d);if(w.duration){const re=new Vg(n,h);kT(re,W,s,I),g=re,w.initSegment=g,g.rawProgramDateTime&&!w.rawProgramDateTime&&(w.rawProgramDateTime=g.rawProgramDateTime)}else{const re=w.byteRangeEndOffset;if(re){const he=w.byteRangeStartOffset;M=`${re-he}@${he}`}else M=null;kT(w,W,s,I),g=w,P=!0}g.cc=S;break}case"SERVER-CONTROL":{N&&Yn(d,U,R),N=new $t(O),d.canBlockReload=N.bool("CAN-BLOCK-RELOAD"),d.canSkipUntil=N.optionalFloat("CAN-SKIP-UNTIL",0),d.canSkipDateRanges=d.canSkipUntil>0&&N.bool("CAN-SKIP-DATERANGES"),d.partHoldBack=N.optionalFloat("PART-HOLD-BACK",0),d.holdBack=N.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{d.partTarget&&Yn(d,U,R);const W=new $t(O);d.partTarget=W.decimalFloatingPoint("PART-TARGET");break}case"PART":{let W=d.partList;W||(W=d.partList=[]);const re=b>0?W[W.length-1]:void 0,he=b++,j=new $t(O,d),F=new F4(j,w,h,he,re);W.push(F),w.duration+=F.duration;break}case"PRELOAD-HINT":{const W=new $t(O,d);d.preloadHint=W;break}case"RENDITION-REPORT":{const W=new $t(O,d);d.renditionReports=d.renditionReports||[],d.renditionReports.push(W);break}default:_t.warn(`line parsed but not handled: ${R}`);break}}}_&&!_.relurl?(m.pop(),k-=_.duration,d.partList&&(d.fragmentHint=_)):d.partList&&(uy(w,_,p),w.cc=S,d.fragmentHint=w,I&&ST(w,I,d)),d.targetduration||(d.playlistParsingError=new Error("Missing Target Duration"));const H=m.length,se=m[0],ge=m[H-1];if(k+=d.skippedSegments*d.targetduration,k>0&&H&&ge){d.averagetargetduration=k/H;const ve=ge.sn;d.endSN=ve!=="initSegment"?ve:0,d.live||(ge.endList=!0),L>0&&(eU(m,L),se&&p.unshift(se))}return d.fragmentHint&&(k+=d.fragmentHint.duration),d.totalduration=k,p.length&&d.dateRangeTagCount&&se&&m_(p,d),d.endCC=S,d}}function m_(i,e){let t=i.length;if(!t)if(e.hasProgramDateTime){const u=e.fragments[e.fragments.length-1];i.push(u),t++}else return;const s=i[t-1],n=e.live?1/0:e.totalduration,a=Object.keys(e.dateRanges);for(let u=a.length;u--;){const h=e.dateRanges[a[u]],d=h.startDate.getTime();h.tagAnchor=s.ref;for(let m=t;m--;){var l;if(((l=i[m])==null?void 0:l.sn)<e.startSN)break;const p=JB(e,d,i,m,n);if(p!==-1){h.tagAnchor=e.fragments[p].ref;break}}}}function JB(i,e,t,s,n){const a=t[s];if(a){const u=a.programDateTime;if(e>=u||s===0){var l;const h=(((l=t[s+1])==null?void 0:l.start)||n)-a.start;if(e<=u+h*1e3){const d=t[s].sn-i.startSN;if(d<0)return-1;const m=i.fragments;if(m.length>t.length){const g=(t[s+1]||m[m.length-1]).sn-i.startSN;for(let E=g;E>d;E--){const b=m[E].programDateTime;if(e>=b&&e<b+m[E].duration*1e3)return E}}return d}}}return-1}function yT(i,e,t){var s,n;const a=new $t(i,t),l=(s=a.METHOD)!=null?s:"",u=a.URI,h=a.hexadecimalInteger("IV"),d=a.KEYFORMATVERSIONS,m=(n=a.KEYFORMAT)!=null?n:"identity";u&&a.IV&&!h&&_t.error(`Invalid IV: ${a.IV}`);const p=u?xn.resolve(u,e):"",g=(d||"1").split("/").map(Number).filter(Number.isFinite);return new ia(l,p,m,g,h,a.KEYID)}function vT(i){const t=new $t(i).decimalFloatingPoint("TIME-OFFSET");return Ae(t)?t:null}function bT(i,e){let t=(i||"").split(/[ ,]+/).filter(s=>s);["video","audio","text"].forEach(s=>{const n=t.filter(a=>ev(a,s));n.length&&(e[`${s}Codec`]=n.map(a=>a.split("/")[0]).join(","),t=t.filter(a=>n.indexOf(a)===-1))}),e.unknownCodecs=t}function ET(i,e,t){const s=e[t];s&&(i[t]=s)}function eU(i,e){let t=i[e];for(let s=e;s--;){const n=i[s];if(!n)return;n.programDateTime=t.programDateTime-n.duration*1e3,t=n}}function uy(i,e,t){i.rawProgramDateTime?t.push(i):e!=null&&e.programDateTime&&(i.programDateTime=e.endProgramDateTime)}function kT(i,e,t,s){i.relurl=e.URI,e.BYTERANGE&&i.setByteRange(e.BYTERANGE),i.level=t,i.sn="initSegment",s&&(i.levelkeys=s),i.initSegment=null}function ST(i,e,t){i.levelkeys=e;const{encryptedFragments:s}=t;(!s.length||s[s.length-1].levelkeys!==e)&&Object.keys(e).some(n=>e[n].isCommonEncryption)&&s.push(i)}function Yn(i,e,t){i.playlistParsingError=new Error(`#EXT-X-${e} must not appear more than once (${t[0]})`)}function xT(i,e,t){i.playlistParsingError=new Error(`#EXT-X-${e} must appear before the first Media Segment (${t[0]})`)}function Qg(i,e){const t=e.startPTS;if(Ae(t)){let s=0,n;e.sn>i.sn?(s=t-i.start,n=i):(s=i.start-t,n=e),n.duration!==s&&n.setDuration(s)}else e.sn>i.sn?i.cc===e.cc&&i.minEndPTS?e.setStart(i.start+(i.minEndPTS-i.start)):e.setStart(i.start+i.duration):e.setStart(Math.max(i.start-e.duration,0))}function p_(i,e,t,s,n,a,l){s-t<=0&&(l.warn("Fragment should have a positive duration",e),s=t+e.duration,a=n+e.duration);let h=t,d=s;const m=e.startPTS,p=e.endPTS;if(Ae(m)){const x=Math.abs(m-t);i&&x>i.totalduration?l.warn(`media timestamps and playlist times differ by ${x}s for level ${e.level} ${i.url}`):Ae(e.deltaPTS)?e.deltaPTS=Math.max(x,e.deltaPTS):e.deltaPTS=x,h=Math.max(t,m),t=Math.min(t,m),n=e.startDTS!==void 0?Math.min(n,e.startDTS):n,d=Math.min(s,p),s=Math.max(s,p),a=e.endDTS!==void 0?Math.max(a,e.endDTS):a}const g=t-e.start;e.start!==0&&e.setStart(t),e.setDuration(s-e.start),e.startPTS=t,e.maxStartPTS=h,e.startDTS=n,e.endPTS=s,e.minEndPTS=d,e.endDTS=a;const E=e.sn;if(!i||E<i.startSN||E>i.endSN)return 0;let b;const k=E-i.startSN,S=i.fragments;for(S[k]=e,b=k;b>0;b--)Qg(S[b],S[b-1]);for(b=k;b<S.length-1;b++)Qg(S[b],S[b+1]);return i.fragmentHint&&Qg(S[S.length-1],i.fragmentHint),i.PTSKnown=i.alignedSliding=!0,g}function tU(i,e,t){if(i===e)return;let s=null;const n=i.fragments;for(let m=n.length-1;m>=0;m--){const p=n[m].initSegment;if(p){s=p;break}}i.fragmentHint&&delete i.fragmentHint.endPTS;let a;nU(i,e,(m,p,g,E)=>{if((!e.startCC||e.skippedSegments)&&p.cc!==m.cc){const b=m.cc-p.cc;for(let k=g;k<E.length;k++)E[k].cc+=b;e.endCC=E[E.length-1].cc}Ae(m.startPTS)&&Ae(m.endPTS)&&(p.setStart(p.startPTS=m.startPTS),p.startDTS=m.startDTS,p.maxStartPTS=m.maxStartPTS,p.endPTS=m.endPTS,p.endDTS=m.endDTS,p.minEndPTS=m.minEndPTS,p.setDuration(m.endPTS-m.startPTS),p.duration&&(a=p),e.PTSKnown=e.alignedSliding=!0),m.hasStreams&&(p.elementaryStreams=m.elementaryStreams),p.loader=m.loader,m.hasStats&&(p.stats=m.stats),m.initSegment&&(p.initSegment=m.initSegment,s=m.initSegment)});const l=e.fragments,u=e.fragmentHint?l.concat(e.fragmentHint):l;if(s&&u.forEach(m=>{var p;m&&(!m.initSegment||m.initSegment.relurl===((p=s)==null?void 0:p.relurl))&&(m.initSegment=s)}),e.skippedSegments){if(e.deltaUpdateFailed=l.some(m=>!m),e.deltaUpdateFailed){t.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let m=e.skippedSegments;m--;)l.shift();e.startSN=l[0].sn}else{e.canSkipDateRanges&&(e.dateRanges=iU(i.dateRanges,e,t));const m=i.fragments.filter(p=>p.rawProgramDateTime);if(i.hasProgramDateTime&&!e.hasProgramDateTime)for(let p=1;p<u.length;p++)u[p].programDateTime===null&&uy(u[p],u[p-1],m);m_(m,e)}e.endCC=l[l.length-1].cc}if(!e.startCC){var h;const m=v_(i,e.startSN-1);e.startCC=(h=m==null?void 0:m.cc)!=null?h:l[0].cc}sU(i.partList,e.partList,(m,p)=>{p.elementaryStreams=m.elementaryStreams,p.stats=m.stats}),a?p_(e,a,a.startPTS,a.endPTS,a.startDTS,a.endDTS,t):g_(i,e),l.length&&(e.totalduration=e.edge-l[0].start),e.driftStartTime=i.driftStartTime,e.driftStart=i.driftStart;const d=e.advancedDateTime;if(e.advanced&&d){const m=e.edge;e.driftStart||(e.driftStartTime=d,e.driftStart=m),e.driftEndTime=d,e.driftEnd=m}else e.driftEndTime=i.driftEndTime,e.driftEnd=i.driftEnd,e.advancedDateTime=i.advancedDateTime;e.requestScheduled===-1&&(e.requestScheduled=i.requestScheduled)}function iU(i,e,t){const{dateRanges:s,recentlyRemovedDateranges:n}=e,a=Dt({},i);n&&n.forEach(h=>{delete a[h]});const u=Object.keys(a).length;return u?(Object.keys(s).forEach(h=>{const d=a[h],m=new u_(s[h].attr,d);m.isValid?(a[h]=m,d||(m.tagOrder+=u)):t.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${Ot(s[h].attr)}"`)}),a):s}function sU(i,e,t){if(i&&e){let s=0;for(let n=0,a=i.length;n<=a;n++){const l=i[n],u=e[n+s];l&&u&&l.index===u.index&&l.fragment.sn===u.fragment.sn?t(l,u):s--}}}function nU(i,e,t){const s=e.skippedSegments,n=Math.max(i.startSN,e.startSN)-e.startSN,a=(i.fragmentHint?1:0)+(s?e.endSN:Math.min(i.endSN,e.endSN))-e.startSN,l=e.startSN-i.startSN,u=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,h=i.fragmentHint?i.fragments.concat(i.fragmentHint):i.fragments;for(let d=n;d<=a;d++){const m=h[l+d];let p=u[d];if(s&&!p&&m&&(p=e.fragments[d]=m),m&&p){t(m,p,d,u);const g=m.relurl,E=p.relurl;if(g&&rU(g,E)){e.playlistParsingError=TT(`media sequence mismatch ${p.sn}:`,i,e,m,p);return}else if(m.cc!==p.cc){e.playlistParsingError=TT(`discontinuity sequence mismatch (${m.cc}!=${p.cc})`,i,e,m,p);return}}}}function TT(i,e,t,s,n){return new Error(`${i} ${n.url}
Playlist starting @${e.startSN}
${e.m3u8}

Playlist starting @${t.startSN}
${t.m3u8}`)}function g_(i,e,t=!0){const s=e.startSN+e.skippedSegments-i.startSN,n=i.fragments,a=s>=0;let l=0;if(a&&s<n.length)l=n[s].start;else if(a&&e.startSN===i.endSN+1)l=i.fragmentEnd;else if(a&&t)l=i.fragmentStart+s*e.levelTargetDuration;else if(!e.skippedSegments&&e.fragmentStart===0)l=i.fragmentStart;else return;cy(e,l)}function cy(i,e){if(e){const t=i.fragments;for(let s=i.skippedSegments;s<t.length;s++)t[s].addStart(e);i.fragmentHint&&i.fragmentHint.addStart(e)}}function y_(i,e=1/0){let t=1e3*i.targetduration;if(i.updated){const s=i.fragments;if(s.length&&t*4>e){const a=s[s.length-1].duration*1e3;a<t&&(t=a)}}else t/=2;return Math.round(t)}function v_(i,e,t){if(!i)return null;let s=i.fragments[e-i.startSN];return s||(s=i.fragmentHint,s&&s.sn===e)?s:e<i.startSN&&t&&t.sn===e?t:null}function AT(i,e,t){return i?b_(i.partList,e,t):null}function b_(i,e,t){if(i)for(let s=i.length;s--;){const n=i[s];if(n.index===t&&n.fragment.sn===e)return n}return null}function E_(i){i.forEach((e,t)=>{var s;(s=e.details)==null||s.fragments.forEach(n=>{n.level=t,n.initSegment&&(n.initSegment.level=t)})})}function rU(i,e){return i!==e&&e?wT(i)!==wT(e):!1}function wT(i){return i.replace(/\?[^?]*$/,"")}function lc(i,e){for(let s=0,n=i.length;s<n;s++){var t;if(((t=i[s])==null?void 0:t.cc)===e)return i[s]}return null}function aU(i,e){return!!(i&&e.startCC<i.endCC&&e.endCC>i.startCC)}function _T(i,e){const t=i.start+e;i.startPTS=t,i.setStart(t),i.endPTS=t+i.duration}function k_(i,e){const t=e.fragments;for(let s=0,n=t.length;s<n;s++)_T(t[s],i);e.fragmentHint&&_T(e.fragmentHint,i),e.alignedSliding=!0}function oU(i,e){i&&(S_(e,i),e.alignedSliding||If(e,i),!e.alignedSliding&&!e.skippedSegments&&g_(i,e,!1))}function S_(i,e){if(!aU(e,i))return;const t=Math.min(e.endCC,i.endCC),s=lc(e.fragments,t),n=lc(i.fragments,t);if(!s||!n)return;_t.log(`Aligning playlist at start of dicontinuity sequence ${t}`);const a=s.start-n.start;k_(a,i)}function If(i,e){if(!i.hasProgramDateTime||!e.hasProgramDateTime)return;const t=i.fragments,s=e.fragments;if(!t.length||!s.length)return;let n,a;const l=Math.min(e.endCC,i.endCC);e.startCC<l&&i.startCC<l&&(n=lc(s,l),a=lc(t,l)),(!n||!a)&&(n=s[Math.floor(s.length/2)],a=lc(t,n.cc)||t[Math.floor(t.length/2)]);const u=n.programDateTime,h=a.programDateTime;if(!u||!h)return;const d=(h-u)/1e3-(a.start-n.start);k_(d,i)}function Ui(i,e,t){is(i,e,t),i.addEventListener(e,t)}function is(i,e,t){i.removeEventListener(e,t)}const lU={toString:function(i){let e="";const t=i.length;for(let s=0;s<t;s++)e+=`[${i.start(s).toFixed(3)}-${i.end(s).toFixed(3)}]`;return e}},ce={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class ov extends o_{constructor(e,t,s,n,a){super(n,e.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=ce.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:l,fragCurrent:u,media:h,mediaBuffer:d,state:m}=this,p=h?h.currentTime:0,g=Ke.bufferInfo(d||h,p,l.maxBufferHole),E=!g.len;if(this.log(`Media seeking to ${Ae(p)?p.toFixed(3):p}, state: ${m}, ${E?"out of":"in"} buffer`),this.state===ce.ENDED)this.resetLoadingState();else if(u){const b=l.maxFragLookUpTolerance,k=u.start-b,S=u.start+u.duration+b;if(E||S<g.start||k>g.end){const x=p>S;(p<k||x)&&(x&&u.loader&&(this.log(`Cancelling fragment load for seek (sn: ${u.sn})`),u.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(h){this.fragmentTracker.removeFragmentsInRange(p,1/0,this.playlistType,!0);const b=this.lastCurrentTime;if(p>b&&(this.lastCurrentTime=p),!this.loadingParts){const k=Math.max(g.end,p),S=this.shouldLoadParts(this.getLevelDetails(),k);S&&(this.log(`LL-Part loading ON after seeking to ${p.toFixed(2)} with buffer @${k.toFixed(2)}`),this.loadingParts=S)}}this.hls.hasEnoughToStart||(this.log(`Setting ${E?"startPosition":"nextLoadPosition"} to ${p} for seek without enough to start`),this.nextLoadPosition=p,E&&(this.startPosition=p)),E&&this.state===ce.IDLE&&this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=a,this.hls=e,this.fragmentLoader=new PB(e.config),this.keyLoader=s,this.fragmentTracker=t,this.config=e.config,this.decrypter=new sv(e.config)}registerListeners(){const{hls:e}=this;e.on(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(A.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(A.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){if(this.state===ce.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=ce.STOPPED}get startPositionValue(){const{nextLoadPosition:e,startPosition:t}=this;return t===-1&&e?e:t}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(e,t){if(t.live||!this.media)return!1;const s=e.end||0,n=this.config.timelineOffset||0;if(s<=n)return!1;const a=e.buffered;this.config.maxBufferHole&&a&&a.length>1&&(e=Ke.bufferedInfo(a,e.start,0));const l=e.nextStart;if(l&&l>n&&l<t.edge||this.media.currentTime<e.start)return!1;const h=t.partList;if(h!=null&&h.length){const m=h[h.length-1];return Ke.isBuffered(this.media,m.start+m.duration/2)}const d=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(d)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null)return this.levelLastLoaded.details}get timelineOffset(){const e=this.config.timelineOffset;if(e){var t;return((t=this.getLevelDetails())==null?void 0:t.appliedTimelineOffset)||e}return 0}onMediaAttached(e,t){const s=this.media=this.mediaBuffer=t.media;Ui(s,"seeking",this.onMediaSeeking),Ui(s,"ended",this.onMediaEnded);const n=this.config;this.levels&&n.autoStartLoad&&this.state===ce.STOPPED&&this.startLoad(n.startPosition)}onMediaDetaching(e,t){const s=!!t.transferMedia,n=this.media;if(n!==null){if(n.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),is(n,"seeking",this.onMediaSeeking),is(n,"ended",this.onMediaEnded),this.keyLoader&&!s&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,s){this.resetLoadingState(),this.resetTransmuxer();return}this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(e,t){}onManifestLoaded(e,t){this.startTimeOffset=t.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=ce.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,t,s){this.startFragRequested=!0,this._loadFragForPlayback(e,t,s)}_loadFragForPlayback(e,t,s){const n=a=>{const l=a.frag;if(this.fragContextChanged(l)){this.warn(`${l.type} sn: ${l.sn}${a.part?" part: "+a.part.index:""} of ${this.fragInfo(l,!1,a.part)}) was dropped during download.`),this.fragmentTracker.removeFragment(l);return}l.stats.chunkCount++,this._handleFragmentLoadProgress(a)};this._doFragLoad(e,t,s,n).then(a=>{if(!a)return;const l=this.state,u=a.frag;if(this.fragContextChanged(u)){(l===ce.FRAG_LOADING||!this.fragCurrent&&l===ce.PARSING)&&(this.fragmentTracker.removeFragment(u),this.state=ce.IDLE);return}"payload"in a&&(this.log(`Loaded ${u.type} sn: ${u.sn} of ${this.playlistLabel()} ${u.level}`),this.hls.trigger(A.FRAG_LOADED,a)),this._handleFragmentLoadComplete(a)}).catch(a=>{this.state===ce.STOPPED||this.state===ce.ERROR||(this.warn(`Frag error: ${(a==null?void 0:a.message)||a}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var t;const{fragmentTracker:s}=this;if(s.getState(e)===li.APPENDING){const a=e.type,l=this.getFwdBufferInfo(this.mediaBuffer,a),u=Math.max(e.duration,l?l.len:this.config.maxBufferLength),h=this.backtrackFragment;((h?e.sn-h.sn:0)===1||this.reduceMaxBufferLength(u,e.duration))&&s.removeFragment(e)}else((t=this.mediaBuffer)==null?void 0:t.buffered.length)===0?s.removeAllFragments():s.hasParts(e.type)&&(s.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),s.getState(e)===li.PARTIAL&&s.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const t=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}waitForLive(e){const t=e.details;return(t==null?void 0:t.live)&&t.type!=="EVENT"&&(this.levelLastLoaded!==e||t.expired)}flushMainBuffer(e,t,s=null){if(!(e-t))return;const n={startOffset:e,endOffset:t,type:s};this.hls.trigger(A.BUFFER_FLUSHING,n)}_loadInitSegment(e,t){this._doFragLoad(e,t).then(s=>{const n=s==null?void 0:s.frag;if(!n||this.fragContextChanged(n)||!this.levels)throw new Error("init load aborted");return s}).then(s=>{const{hls:n}=this,{frag:a,payload:l}=s,u=a.decryptdata;if(l&&l.byteLength>0&&u!=null&&u.key&&u.iv&&El(u.method)){const h=self.performance.now();return this.decrypter.decrypt(new Uint8Array(l),u.key.buffer,u.iv.buffer,rv(u.method)).catch(d=>{throw n.trigger(A.ERROR,{type:Ie.MEDIA_ERROR,details:Q.FRAG_DECRYPT_ERROR,fatal:!1,error:d,reason:d.message,frag:a}),d}).then(d=>{const m=self.performance.now();return n.trigger(A.FRAG_DECRYPTED,{frag:a,payload:d,stats:{tstart:h,tdecrypt:m}}),s.payload=d,this.completeInitSegmentLoad(s)})}return this.completeInitSegmentLoad(s)}).catch(s=>{this.state===ce.STOPPED||this.state===ce.ERROR||(this.warn(s),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:t}=this;if(!t)throw new Error("init load aborted, missing levels");const s=e.frag.stats;this.state!==ce.STOPPED&&(this.state=ce.IDLE),e.frag.data=new Uint8Array(e.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),this.tick()}unhandledEncryptionError(e,t){var s,n;const a=e.tracks;if(a&&!t.encrypted&&((s=a.audio)!=null&&s.encrypted||(n=a.video)!=null&&n.encrypted)&&(!this.config.emeEnabled||!this.keyLoader.emeController)){const l=this.media,u=new Error(`Encrypted track with no key in ${this.fragInfo(t)} (media ${l?"attached mediaKeys: "+l.mediaKeys:"detached"})`);return this.warn(u.message),!l||l.mediaKeys?!1:(this.hls.trigger(A.ERROR,{type:Ie.KEY_SYSTEM_ERROR,details:Q.KEY_SYSTEM_NO_KEYS,fatal:!1,error:u,frag:t}),this.resetTransmuxer(),!0)}return!1}fragContextChanged(e){const{fragCurrent:t}=this;return!e||!t||e.sn!==t.sn||e.level!==t.level}fragBufferedComplete(e,t){const s=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.fragInfo(e,!1,t)} > buffer:${s?lU.toString(Ke.getBuffered(s)):"(detached)"})`),Qt(e)){var n;if(e.type!==Re.SUBTITLE){const l=e.elementaryStreams;if(!Object.keys(l).some(u=>!!l[u])){this.state=ce.IDLE;return}}const a=(n=this.levels)==null?void 0:n[e.level];a!=null&&a.fragmentError&&(this.log(`Resetting level fragment error count of ${a.fragmentError} on frag buffered`),a.fragmentError=0)}this.state=ce.IDLE}_handleFragmentLoadComplete(e){const{transmuxer:t}=this;if(!t)return;const{frag:s,part:n,partsLoaded:a}=e,l=!a||a.length===0||a.some(h=>!h),u=new nv(s.level,s.sn,s.stats.chunkCount+1,0,n?n.index:-1,!l);t.flush(u)}_handleFragmentLoadProgress(e){}_doFragLoad(e,t,s=null,n){var a;this.fragCurrent=e;const l=t.details;if(!this.levels||!l)throw new Error(`frag load aborted, missing level${l?"":" detail"}s`);let u=null;if(e.encrypted&&!((a=e.decryptdata)!=null&&a.key)){if(this.log(`Loading key for ${e.sn} of [${l.startSN}-${l.endSN}], ${this.playlistLabel()} ${e.level}`),this.state=ce.KEY_LOADING,this.fragCurrent=e,u=this.keyLoader.load(e).then(g=>{if(!this.fragContextChanged(g.frag))return this.hls.trigger(A.KEY_LOADED,g),this.state===ce.KEY_LOADING&&(this.state=ce.IDLE),g}),this.hls.trigger(A.KEY_LOADING,{frag:e}),this.fragCurrent===null)return this.log("context changed in KEY_LOADING"),Promise.resolve(null)}else e.encrypted||(u=this.keyLoader.loadClear(e,l.encryptedFragments,this.startFragRequested),u&&this.log("[eme] blocking frag load until media-keys acquired"));const h=this.fragPrevious;if(Qt(e)&&(!h||e.sn!==h.sn)){const g=this.shouldLoadParts(t.details,e.end);g!==this.loadingParts&&(this.log(`LL-Part loading ${g?"ON":"OFF"} loading sn ${h==null?void 0:h.sn}->${e.sn}`),this.loadingParts=g)}if(s=Math.max(e.start,s||0),this.loadingParts&&Qt(e)){const g=l.partList;if(g&&n){s>l.fragmentEnd&&l.fragmentHint&&(e=l.fragmentHint);const E=this.getNextPart(g,e,s);if(E>-1){const b=g[E];e=this.fragCurrent=b.fragment,this.log(`Loading ${e.type} sn: ${e.sn} part: ${b.index} (${E}/${g.length-1}) of ${this.fragInfo(e,!1,b)}) cc: ${e.cc} [${l.startSN}-${l.endSN}], target: ${parseFloat(s.toFixed(3))}`),this.nextLoadPosition=b.start+b.duration,this.state=ce.FRAG_LOADING;let k;return u?k=u.then(S=>!S||this.fragContextChanged(S.frag)?null:this.doFragPartsLoad(e,b,t,n)).catch(S=>this.handleFragLoadError(S)):k=this.doFragPartsLoad(e,b,t,n).catch(S=>this.handleFragLoadError(S)),this.hls.trigger(A.FRAG_LOADING,{frag:e,part:b,targetBufferTime:s}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):k}else if(!e.url||this.loadedEndOfParts(g,s))return Promise.resolve(null)}}if(Qt(e)&&this.loadingParts){var d;this.log(`LL-Part loading OFF after next part miss @${s.toFixed(2)} Check buffer at sn: ${e.sn} loaded parts: ${(d=l.partList)==null?void 0:d.filter(g=>g.loaded).map(g=>`[${g.start}-${g.end}]`)}`),this.loadingParts=!1}else if(!e.url)return Promise.resolve(null);this.log(`Loading ${e.type} sn: ${e.sn} of ${this.fragInfo(e,!1)}) cc: ${e.cc} ${"["+l.startSN+"-"+l.endSN+"]"}, target: ${parseFloat(s.toFixed(3))}`),Ae(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=ce.FRAG_LOADING;const m=this.config.progressive&&e.type!==Re.SUBTITLE;let p;return m&&u?p=u.then(g=>!g||this.fragContextChanged(g.frag)?null:this.fragmentLoader.load(e,n)).catch(g=>this.handleFragLoadError(g)):p=Promise.all([this.fragmentLoader.load(e,m?n:void 0),u]).then(([g])=>(!m&&n&&n(g),g)).catch(g=>this.handleFragLoadError(g)),this.hls.trigger(A.FRAG_LOADING,{frag:e,targetBufferTime:s}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):p}doFragPartsLoad(e,t,s,n){return new Promise((a,l)=>{var u;const h=[],d=(u=s.details)==null?void 0:u.partList,m=p=>{this.fragmentLoader.loadPart(e,p,n).then(g=>{h[p.index]=g;const E=g.part;this.hls.trigger(A.FRAG_LOADED,g);const b=AT(s.details,e.sn,p.index+1)||b_(d,e.sn,p.index+1);if(b)m(b);else return a({frag:e,part:E,partsLoaded:h})}).catch(l)};m(t)})}handleFragLoadError(e){if("data"in e){const t=e.data;t.frag&&t.details===Q.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):t.frag&&t.type===Ie.KEY_SYSTEM_ERROR?(t.frag.abortRequests(),this.resetStartWhenNotLoaded(),this.resetFragmentLoading(t.frag)):this.hls.trigger(A.ERROR,t)}else this.hls.trigger(A.ERROR,{type:Ie.OTHER_ERROR,details:Q.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const t=this.getCurrentContext(e);if(!t||this.state!==ce.PARSING){!this.fragCurrent&&this.state!==ce.STOPPED&&this.state!==ce.ERROR&&(this.state=ce.IDLE);return}const{frag:s,part:n,level:a}=t,l=self.performance.now();s.stats.parsing.end=l,n&&(n.stats.parsing.end=l);const u=this.getLevelDetails(),d=u&&s.sn>u.endSN||this.shouldLoadParts(u,s.end);d!==this.loadingParts&&(this.log(`LL-Part loading ${d?"ON":"OFF"} after parsing segment ending @${s.end.toFixed(2)}`),this.loadingParts=d),this.updateLevelTiming(s,n,a,e.partial)}shouldLoadParts(e,t){if(this.config.lowLatencyMode){if(!e)return this.loadingParts;if(e.partList){var s;const a=e.partList[0];if(a.fragment.type===Re.SUBTITLE)return!1;const l=a.end+(((s=e.fragmentHint)==null?void 0:s.duration)||0);if(t>=l){var n;if((this.hls.hasEnoughToStart?((n=this.media)==null?void 0:n.currentTime)||this.lastCurrentTime:this.getLoadPosition())>a.start-a.fragment.duration)return!0}}}return!1}getCurrentContext(e){const{levels:t,fragCurrent:s}=this,{level:n,sn:a,part:l}=e;if(!(t!=null&&t[n]))return this.warn(`Levels object was unset while buffering fragment ${a} of ${this.playlistLabel()} ${n}. The current chunk will not be buffered.`),null;const u=t[n],h=u.details,d=l>-1?AT(h,a,l):null,m=d?d.fragment:v_(h,a,s);return m?(s&&s!==m&&(m.stats=s.stats),{frag:m,part:d,level:u}):null}bufferFragmentData(e,t,s,n,a){if(this.state!==ce.PARSING)return;const{data1:l,data2:u}=e;let h=l;if(u&&(h=Ms(l,u)),!h.length)return;const d=this.initPTS[t.cc],m=d?-d.baseTime/d.timescale:void 0,p={type:e.type,frag:t,part:s,chunkMeta:n,offset:m,parent:t.type,data:h};if(this.hls.trigger(A.BUFFER_APPENDING,p),e.dropped&&e.independent&&!s){if(a)return;this.flushBufferGap(t)}}flushBufferGap(e){const t=this.media;if(!t)return;if(!Ke.isBuffered(t,t.currentTime)){this.flushMainBuffer(0,e.start);return}const s=t.currentTime,n=Ke.bufferInfo(t,s,0),a=e.duration,l=Math.min(this.config.maxFragLookUpTolerance*2,a*.25),u=Math.max(Math.min(e.start-l,n.end-l),s+l);e.start-u>l&&this.flushMainBuffer(u,e.start)}getFwdBufferInfo(e,t){var s;const n=this.getLoadPosition();if(!Ae(n))return null;const l=this.lastCurrentTime>n||(s=this.media)!=null&&s.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(e,n,t,l)}getFwdBufferInfoAtPos(e,t,s,n){const a=Ke.bufferInfo(e,t,n);if(a.len===0&&a.nextStart!==void 0){const l=this.fragmentTracker.getBufferedFrag(t,s);if(l&&(a.nextStart<=l.end||l.gap)){const u=Math.max(Math.min(a.nextStart,l.end)-t,n);return Ke.bufferInfo(e,t,u)}}return a}getMaxBufferLength(e){const{config:t}=this;let s;return e?s=Math.max(8*t.maxBufferSize/e,t.maxBufferLength):s=t.maxBufferLength,Math.min(s,t.maxMaxBufferLength)}reduceMaxBufferLength(e,t){const s=this.config,n=Math.max(Math.min(e-t,s.maxBufferLength),t),a=Math.max(e-t*3,s.maxMaxBufferLength/2,n);return a>=n?(s.maxMaxBufferLength=a,this.warn(`Reduce max buffer length to ${a}s`),!0):!1}getAppendedFrag(e,t=Re.MAIN){const s=this.fragmentTracker?this.fragmentTracker.getAppendedFrag(e,t):null;return s&&"fragment"in s?s.fragment:s}getNextFragment(e,t){const s=t.fragments,n=s.length;if(!n)return null;const{config:a}=this,l=s[0].start,u=a.lowLatencyMode&&!!t.partList;let h=null;if(t.live){const p=a.initialLiveManifestSize;if(n<p)return this.warn(`Not enough fragments to start playback (have: ${n}, need: ${p})`),null;if(!t.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<l){var d;u&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),h=this.getInitialLiveFragment(t);const g=this.hls.startPosition,E=this.hls.liveSyncPosition,b=h?(g!==-1&&g>=l?g:E)||h.start:e;this.log(`Setting startPosition to ${b} to match start frag at live edge. mainStart: ${g} liveSyncPosition: ${E} frag.start: ${(d=h)==null?void 0:d.start}`),this.startPosition=this.nextLoadPosition=b}}else e<=l&&(h=s[0]);if(!h){const p=this.loadingParts?t.partEnd:t.fragmentEnd;h=this.getFragmentAtPosition(e,p,t)}let m=this.filterReplacedPrimary(h,t);if(!m&&h){const p=h.sn-t.startSN;m=this.filterReplacedPrimary(s[p+1]||null,t)}return this.mapToInitFragWhenRequired(m)}isLoopLoading(e,t){const s=this.fragmentTracker.getState(e);return(s===li.OK||s===li.PARTIAL&&!!e.gap)&&this.nextLoadPosition>t}getNextFragmentLoopLoading(e,t,s,n,a){let l=null;if(e.gap&&(l=this.getNextFragment(this.nextLoadPosition,t),l&&!l.gap&&s.nextStart)){const u=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,s.nextStart,n,0);if(u!==null&&s.len+u.len>=a){const h=l.sn;return this.loopSn!==h&&(this.log(`buffer full after gaps in "${n}" playlist starting at sn: ${h}`),this.loopSn=h),null}}return this.loopSn=void 0,l}get primaryPrefetch(){if(RT(this.config)){var e;if((e=this.hls.interstitialsManager)==null||(e=e.playingItem)==null?void 0:e.event)return!0}return!1}filterReplacedPrimary(e,t){if(!e)return e;if(RT(this.config)&&e.type!==Re.SUBTITLE){const s=this.hls.interstitialsManager,n=s==null?void 0:s.bufferingItem;if(n){const l=n.event;if(l){if(l.appendInPlace||Math.abs(e.start-n.start)>1||n.start===0)return null}else if(e.end<=n.start&&(t==null?void 0:t.live)===!1||e.start>n.end&&n.nextEvent&&(n.nextEvent.appendInPlace||e.start-n.end>1))return null}const a=s==null?void 0:s.playerQueue;if(a)for(let l=a.length;l--;){const u=a[l].interstitial;if(u.appendInPlace&&e.start>=u.startTime&&e.end<=u.resumeTime)return null}}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!e.initSegment.data&&!this.bitrateTest?e.initSegment:e}getNextPart(e,t,s){let n=-1,a=!1,l=!0;for(let u=0,h=e.length;u<h;u++){const d=e[u];if(l=l&&!d.independent,n>-1&&s<d.start)break;const m=d.loaded;m?n=-1:(a||(d.independent||l)&&d.fragment===t)&&(d.fragment!==t&&this.warn(`Need buffer at ${s} but next unloaded part starts at ${d.start}`),n=u),a=m}return n}loadedEndOfParts(e,t){let s;for(let n=e.length;n--;){if(s=e[n],!s.loaded)return!1;if(t>s.start)return!0}return!1}getInitialLiveFragment(e){const t=e.fragments,s=this.fragPrevious;let n=null;if(s){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${s.programDateTime}`),n=TB(t,s.endProgramDateTime,this.config.maxFragLookUpTolerance)),!n){const a=s.sn+1;if(a>=e.startSN&&a<=e.endSN){const l=t[a-e.startSN];s.cc===l.cc&&(n=l,this.log(`Live playlist, switching playlist, load frag with next SN: ${n.sn}`))}n||(n=n_(e,s.cc,s.end),n&&this.log(`Live playlist, switching playlist, load frag with same CC: ${n.sn}`))}}else{const a=this.hls.liveSyncPosition;a!==null&&(n=this.getFragmentAtPosition(a,this.bitrateTest?e.fragmentEnd:e.edge,e))}return n}getFragmentAtPosition(e,t,s){const{config:n}=this;let{fragPrevious:a}=this,{fragments:l,endSN:u}=s;const{fragmentHint:h}=s,{maxFragLookUpTolerance:d}=n,m=s.partList,p=!!(this.loadingParts&&m!=null&&m.length&&h);p&&!this.bitrateTest&&m[m.length-1].fragment.sn===h.sn&&(l=l.concat(h),u=h.sn);let g;if(e<t){var E;const k=e<this.lastCurrentTime||e>t-d||(E=this.media)!=null&&E.paused||!this.startFragRequested?0:d;g=uo(a,l,e,k)}else g=l[l.length-1];if(g){const b=g.sn-s.startSN,k=this.fragmentTracker.getState(g);if((k===li.OK||k===li.PARTIAL&&g.gap)&&(a=g),a&&g.sn===a.sn&&(!p||m[0].fragment.sn>g.sn||!s.live)&&g.level===a.level){const x=l[b+1];g.sn<u&&this.fragmentTracker.getState(x)!==li.OK?g=x:g=null}}return g}alignPlaylists(e,t,s){const n=e.fragments.length;if(!n)return this.warn("No fragments in live playlist"),0;const a=e.fragmentStart,l=!t,u=e.alignedSliding&&Ae(a);if(l||!u&&!a){oU(s,e);const h=e.fragmentStart;return this.log(`Live playlist sliding: ${h.toFixed(2)} start-sn: ${t?t.startSN:"na"}->${e.startSN} fragments: ${n}`),h}return a}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,t){let s=this.startPosition;s<t&&(s=-1);const n=this.timelineOffset;if(s===-1){const a=this.startTimeOffset!==null,l=a?this.startTimeOffset:e.startTimeOffset;l!==null&&Ae(l)?(s=t+l,l<0&&(s+=e.edge),s=Math.min(Math.max(t,s),t+e.totalduration),this.log(`Setting startPosition to ${s} for start time offset ${l} found in ${a?"multivariant":"media"} playlist`),this.startPosition=s):e.live?(s=this.hls.liveSyncPosition||t,this.log(`Setting startPosition to -1 to start at live edge ${s}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=s=0),this.lastCurrentTime=s+n}this.nextLoadPosition=s+n}getLoadPosition(){var e;const{media:t}=this;let s=0;return(e=this.hls)!=null&&e.hasEnoughToStart&&t?s=t.currentTime:this.nextLoadPosition>=0&&(s=this.nextLoadPosition),s}handleFragLoadAborted(e,t){this.transmuxer&&e.type===this.playlistType&&Qt(e)&&e.stats.aborted&&(this.log(`Fragment ${e.sn}${t?" part "+t.index:""} of ${this.playlistLabel()} ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==ce.FRAG_LOADING_WAITING_RETRY)&&(this.state=ce.IDLE)}onFragmentOrKeyLoadError(e,t){var s;if(t.chunkMeta&&!t.frag){const x=this.getCurrentContext(t.chunkMeta);x&&(t.frag=x.frag)}const n=t.frag;if(!n||n.type!==e||!this.levels)return;if(this.fragContextChanged(n)){var a;this.warn(`Frag load error must match current frag to retry ${n.url} > ${(a=this.fragCurrent)==null?void 0:a.url}`);return}const l=t.details===Q.FRAG_GAP;l&&this.fragmentTracker.fragBuffered(n,!0);const u=t.errorAction;if(!u){this.state=ce.ERROR;return}const{action:h,flags:d,retryCount:m=0,retryConfig:p}=u,g=!!p,E=g&&h===Si.RetryRequest,b=g&&!u.resolved&&d===ms.MoveAllAlternatesMatchingHost,k=(s=this.hls.latestLevelDetails)==null?void 0:s.live;if(!E&&b&&Qt(n)&&!n.endList&&k&&!a_(t))this.resetFragmentErrors(e),this.treatAsGap(n),u.resolved=!0;else if((E||b)&&m<p.maxNumRetry){var S;const x=ay((S=t.response)==null?void 0:S.code),_=iv(p,m);if(this.resetStartWhenNotLoaded(),this.retryDate=self.performance.now()+_,this.state=ce.FRAG_LOADING_WAITING_RETRY,u.resolved=!0,x){this.log("Waiting for connection (offline)"),this.retryDate=1/0,t.reason="offline";return}this.warn(`Fragment ${n.sn} of ${e} ${n.level} errored with ${t.details}, retrying loading ${m+1}/${p.maxNumRetry} in ${_}ms`)}else if(p)if(this.resetFragmentErrors(e),m<p.maxNumRetry)!l&&h!==Si.RemoveAlternatePermanently&&(u.resolved=!0);else{this.warn(`${t.details} reached or exceeded max retry (${m})`);return}else h===Si.SendAlternateToPenaltyBox?this.state=ce.WAITING_LEVEL:this.state=ce.ERROR;this.tickImmediate()}checkRetryDate(){const e=self.performance.now(),t=this.retryDate,s=t===1/0;(!t||e>=t||s&&!ay(0))&&(s&&this.log("Connection restored (online)"),this.resetStartWhenNotLoaded(),this.state=ce.IDLE)}reduceLengthAndFlushBuffer(e){if(this.state===ce.PARSING||this.state===ce.PARSED){const t=e.frag,s=e.parent,n=this.getFwdBufferInfo(this.mediaBuffer,s),a=n&&n.len>.5;a&&this.reduceMaxBufferLength(n.len,(t==null?void 0:t.duration)||10);const l=!a;return l&&this.warn(`Buffer full error while media.currentTime (${this.getLoadPosition()}) is not buffered, flush ${s} buffer`),t&&(this.fragmentTracker.removeFragment(t),this.nextLoadPosition=t.start),this.resetLoadingState(),l}return!1}resetFragmentErrors(e){e===Re.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==ce.STOPPED&&(this.state=ce.IDLE)}afterBufferFlushed(e,t,s){if(!e)return;const n=Ke.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,n,s),this.state===ce.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==ce.STOPPED&&(this.state=ce.IDLE)}resetStartWhenNotLoaded(){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const e=this.levelLastLoaded,t=e?e.details:null;t!=null&&t.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(t,t.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.log(`Loading context changed while buffering sn ${e.sn} of ${this.playlistLabel()} ${e.level===-1?"<removed>":e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,t,s,n){const a=s.details;if(!a){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((h,d)=>{const m=e.elementaryStreams[d];if(m){const p=m.endPTS-m.startPTS;if(p<=0)return this.warn(`Could not parse fragment ${e.sn} ${d} duration reliably (${p})`),h||!1;const g=n?0:p_(a,e,m.startPTS,m.endPTS,m.startDTS,m.endDTS,this);return this.hls.trigger(A.LEVEL_PTS_UPDATED,{details:a,level:s,drift:g,type:d,frag:e,start:m.startPTS,end:m.endPTS}),!0}return h},!1)){var u;const h=((u=this.transmuxer)==null?void 0:u.error)===null;if((s.fragmentError===0||h&&(s.fragmentError<2||e.endList))&&this.treatAsGap(e,s),h){const d=new Error(`Found no media in fragment ${e.sn} of ${this.playlistLabel()} ${e.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(d.message),this.hls.trigger(A.ERROR,{type:Ie.MEDIA_ERROR,details:Q.FRAG_PARSING_ERROR,fatal:!1,error:d,frag:e,reason:`Found no media in msn ${e.sn} of ${this.playlistLabel()} "${s.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=ce.PARSED,this.log(`Parsed ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.fragInfo(e,!1,t)})`),this.hls.trigger(A.FRAG_PARSED,{frag:e,part:t})}playlistLabel(){return this.playlistType===Re.MAIN?"level":"track"}fragInfo(e,t=!0,s){var n,a;return`${this.playlistLabel()} ${e.level} (${s?"part":"frag"}:[${((n=t&&!s?e.startPTS:(s||e).start)!=null?n:NaN).toFixed(3)}-${((a=t&&!s?e.endPTS:(s||e).end)!=null?a:NaN).toFixed(3)}]${s&&e.type==="main"?"INDEPENDENT="+(s.independent?"YES":"NO"):""}`}treatAsGap(e,t){t&&t.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)}resetTransmuxer(){var e;(e=this.transmuxer)==null||e.reset()}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(),this.resetLoadingState())}set state(e){const t=this._state;t!==e&&(this._state=e,this.log(`${t}->${e}`))}get state(){return this._state}}function RT(i){return!!i.interstitialsController&&i.enableInterstitialPlayback!==!1}class x_{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:t}=this;let s;if(e.length)e.length===1?s=e[0]:s=uU(e,t);else return new Uint8Array(0);return this.reset(),s}reset(){this.chunks.length=0,this.dataLength=0}}function uU(i,e){const t=new Uint8Array(e);let s=0;for(let n=0;n<i.length;n++){const a=i[n];t.set(a,s),s+=a.length}return t}var Zg={exports:{}},LT;function cU(){return LT||(LT=1,function(i){var e=Object.prototype.hasOwnProperty,t="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(t=!1));function n(h,d,m){this.fn=h,this.context=d,this.once=m||!1}function a(h,d,m,p,g){if(typeof m!="function")throw new TypeError("The listener must be a function");var E=new n(m,p||h,g),b=t?t+d:d;return h._events[b]?h._events[b].fn?h._events[b]=[h._events[b],E]:h._events[b].push(E):(h._events[b]=E,h._eventsCount++),h}function l(h,d){--h._eventsCount===0?h._events=new s:delete h._events[d]}function u(){this._events=new s,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],m,p;if(this._eventsCount===0)return d;for(p in m=this._events)e.call(m,p)&&d.push(t?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(m)):d},u.prototype.listeners=function(d){var m=t?t+d:d,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,E=p.length,b=new Array(E);g<E;g++)b[g]=p[g].fn;return b},u.prototype.listenerCount=function(d){var m=t?t+d:d,p=this._events[m];return p?p.fn?1:p.length:0},u.prototype.emit=function(d,m,p,g,E,b){var k=t?t+d:d;if(!this._events[k])return!1;var S=this._events[k],x=arguments.length,_,w;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),x){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,m),!0;case 3:return S.fn.call(S.context,m,p),!0;case 4:return S.fn.call(S.context,m,p,g),!0;case 5:return S.fn.call(S.context,m,p,g,E),!0;case 6:return S.fn.call(S.context,m,p,g,E,b),!0}for(w=1,_=new Array(x-1);w<x;w++)_[w-1]=arguments[w];S.fn.apply(S.context,_)}else{var R=S.length,C;for(w=0;w<R;w++)switch(S[w].once&&this.removeListener(d,S[w].fn,void 0,!0),x){case 1:S[w].fn.call(S[w].context);break;case 2:S[w].fn.call(S[w].context,m);break;case 3:S[w].fn.call(S[w].context,m,p);break;case 4:S[w].fn.call(S[w].context,m,p,g);break;default:if(!_)for(C=1,_=new Array(x-1);C<x;C++)_[C-1]=arguments[C];S[w].fn.apply(S[w].context,_)}}return!0},u.prototype.on=function(d,m,p){return a(this,d,m,p,!1)},u.prototype.once=function(d,m,p){return a(this,d,m,p,!0)},u.prototype.removeListener=function(d,m,p,g){var E=t?t+d:d;if(!this._events[E])return this;if(!m)return l(this,E),this;var b=this._events[E];if(b.fn)b.fn===m&&(!g||b.once)&&(!p||b.context===p)&&l(this,E);else{for(var k=0,S=[],x=b.length;k<x;k++)(b[k].fn!==m||g&&!b[k].once||p&&b[k].context!==p)&&S.push(b[k]);S.length?this._events[E]=S.length===1?S[0]:S:l(this,E)}return this},u.prototype.removeAllListeners=function(d){var m;return d?(m=t?t+d:d,this._events[m]&&l(this,m)):(this._events=new s,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=t,u.EventEmitter=u,i.exports=u}(Zg)),Zg.exports}var dU=cU(),lv=P4(dU);const Mc="1.6.15",Kl={};function hU(){return typeof __HLS_WORKER_BUNDLE__=="function"}function fU(){const i=Kl[Mc];if(i)return i.clientCount++,i;const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),t=self.URL.createObjectURL(e),n={worker:new self.Worker(t),objectURL:t,clientCount:1};return Kl[Mc]=n,n}function mU(i){const e=Kl[i];if(e)return e.clientCount++,e;const t=new self.URL(i,self.location.href).href,n={worker:new self.Worker(t),scriptURL:t,clientCount:1};return Kl[i]=n,n}function pU(i){const e=Kl[i||Mc];if(e&&e.clientCount--===1){const{worker:s,objectURL:n}=e;delete Kl[i||Mc],n&&self.URL.revokeObjectURL(n),s.terminate()}}function T_(i,e){return e+10<=i.length&&i[e]===51&&i[e+1]===68&&i[e+2]===73&&i[e+3]<255&&i[e+4]<255&&i[e+6]<128&&i[e+7]<128&&i[e+8]<128&&i[e+9]<128}function uv(i,e){return e+10<=i.length&&i[e]===73&&i[e+1]===68&&i[e+2]===51&&i[e+3]<255&&i[e+4]<255&&i[e+6]<128&&i[e+7]<128&&i[e+8]<128&&i[e+9]<128}function nm(i,e){let t=0;return t=(i[e]&127)<<21,t|=(i[e+1]&127)<<14,t|=(i[e+2]&127)<<7,t|=i[e+3]&127,t}function Pc(i,e){const t=e;let s=0;for(;uv(i,e);){s+=10;const n=nm(i,e+6);s+=n,T_(i,e+10)&&(s+=10),e+=s}if(s>0)return i.subarray(t,t+s)}function gU(i,e,t,s){const n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],a=e[t+2],l=a>>2&15;if(l>12){const E=new Error(`invalid ADTS sampling index:${l}`);i.emit(A.ERROR,A.ERROR,{type:Ie.MEDIA_ERROR,details:Q.FRAG_PARSING_ERROR,fatal:!0,error:E,reason:E.message});return}const u=(a>>6&3)+1,h=e[t+3]>>6&3|(a&1)<<2,d="mp4a.40."+u,m=n[l];let p=l;(u===5||u===29)&&(p-=3);const g=[u<<3|(p&14)>>1,(p&1)<<7|h<<3];return _t.log(`manifest codec:${s}, parsed codec:${d}, channels:${h}, rate:${m} (ADTS object type:${u} sampling index:${l})`),{config:g,samplerate:m,channelCount:h,codec:d,parsedCodec:d,manifestCodec:s}}function A_(i,e){return i[e]===255&&(i[e+1]&246)===240}function w_(i,e){return i[e+1]&1?7:9}function cv(i,e){return(i[e+3]&3)<<11|i[e+4]<<3|(i[e+5]&224)>>>5}function yU(i,e){return e+5<i.length}function jf(i,e){return e+1<i.length&&A_(i,e)}function vU(i,e){return yU(i,e)&&A_(i,e)&&cv(i,e)<=i.length-e}function bU(i,e){if(jf(i,e)){const t=w_(i,e);if(e+t>=i.length)return!1;const s=cv(i,e);if(s<=t)return!1;const n=e+s;return n===i.length||jf(i,n)}return!1}function __(i,e,t,s,n){if(!i.samplerate){const a=gU(e,t,s,n);if(!a)return;Dt(i,a)}}function R_(i){return 1024*9e4/i}function EU(i,e){const t=w_(i,e);if(e+t<=i.length){const s=cv(i,e)-t;if(s>0)return{headerLength:t,frameLength:s}}}function L_(i,e,t,s,n){const a=R_(i.samplerate),l=s+n*a,u=EU(e,t);let h;if(u){const{frameLength:p,headerLength:g}=u,E=g+p,b=Math.max(0,t+E-e.length);b?(h=new Uint8Array(E-g),h.set(e.subarray(t+g,e.length),0)):h=e.subarray(t+g,t+E);const k={unit:h,pts:l};return b||i.samples.push(k),{sample:k,length:E,missing:b}}const d=e.length-t;return h=new Uint8Array(d),h.set(e.subarray(t,e.length),0),{sample:{unit:h,pts:l},length:d,missing:-1}}function kU(i,e){return uv(i,e)&&nm(i,e+6)+10<=i.length-e}function SU(i){return i instanceof ArrayBuffer?i:i.byteOffset==0&&i.byteLength==i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer}function Jg(i,e=0,t=1/0){return xU(i,e,t,Uint8Array)}function xU(i,e,t,s){const n=TU(i);let a=1;"BYTES_PER_ELEMENT"in s&&(a=s.BYTES_PER_ELEMENT);const l=AU(i)?i.byteOffset:0,u=(l+i.byteLength)/a,h=(l+e)/a,d=Math.floor(Math.max(0,Math.min(h,u))),m=Math.floor(Math.min(d+Math.max(t,0),u));return new s(n,d,m-d)}function TU(i){return i instanceof ArrayBuffer?i:i.buffer}function AU(i){return i&&i.buffer instanceof ArrayBuffer&&i.byteLength!==void 0&&i.byteOffset!==void 0}function wU(i){const e={key:i.type,description:"",data:"",mimeType:null,pictureType:null},t=3;if(i.size<2)return;if(i.data[0]!==t){console.log("Ignore frame with unrecognized character encoding");return}const s=i.data.subarray(1).indexOf(0);if(s===-1)return;const n=Es(Jg(i.data,1,s)),a=i.data[2+s],l=i.data.subarray(3+s).indexOf(0);if(l===-1)return;const u=Es(Jg(i.data,3+s,l));let h;return n==="-->"?h=Es(Jg(i.data,4+s+l)):h=SU(i.data.subarray(4+s+l)),e.mimeType=n,e.pictureType=a,e.description=u,e.data=h,e}function _U(i){if(i.size<2)return;const e=Es(i.data,!0),t=new Uint8Array(i.data.subarray(e.length+1));return{key:i.type,info:e,data:t.buffer}}function RU(i){if(i.size<2)return;if(i.type==="TXXX"){let t=1;const s=Es(i.data.subarray(t),!0);t+=s.length+1;const n=Es(i.data.subarray(t));return{key:i.type,info:s,data:n}}const e=Es(i.data.subarray(1));return{key:i.type,info:"",data:e}}function LU(i){if(i.type==="WXXX"){if(i.size<2)return;let t=1;const s=Es(i.data.subarray(t),!0);t+=s.length+1;const n=Es(i.data.subarray(t));return{key:i.type,info:s,data:n}}const e=Es(i.data);return{key:i.type,info:"",data:e}}function CU(i){return i.type==="PRIV"?_U(i):i.type[0]==="W"?LU(i):i.type==="APIC"?wU(i):RU(i)}function DU(i){const e=String.fromCharCode(i[0],i[1],i[2],i[3]),t=nm(i,4),s=10;return{type:e,size:t,data:i.subarray(s,s+t)}}const kh=10,IU=10;function C_(i){let e=0;const t=[];for(;uv(i,e);){const s=nm(i,e+6);i[e+5]>>6&1&&(e+=kh),e+=kh;const n=e+s;for(;e+IU<n;){const a=DU(i.subarray(e)),l=CU(a);l&&t.push(l),e+=a.size+kh}T_(i,e)&&(e+=kh)}return t}function D_(i){return i&&i.key==="PRIV"&&i.info==="com.apple.streaming.transportStreamTimestamp"}function jU(i){if(i.data.byteLength===8){const e=new Uint8Array(i.data),t=e[3]&1;let s=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return s/=45,t&&(s+=4772185884e-2),Math.round(s)}}function dv(i){const e=C_(i);for(let t=0;t<e.length;t++){const s=e[t];if(D_(s))return jU(s)}}let ys=function(i){return i.audioId3="org.id3",i.dateRange="com.apple.quicktime.HLS",i.emsg="https://aomedia.org/emsg/ID3",i.misbklv="urn:misb:KLV:bin:1910.1",i}({});function En(i="",e=9e4){return{type:i,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class hv{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,t,s,n){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,t){return!1}appendFrame(e,t,s){}demux(e,t){this.cachedData&&(e=Ms(this.cachedData,e),this.cachedData=null);let s=Pc(e,0),n=s?s.length:0,a;const l=this._audioTrack,u=this._id3Track,h=s?dv(s):void 0,d=e.length;for((this.basePTS===null||this.frameIndex===0&&Ae(h))&&(this.basePTS=OU(h,t,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),s&&s.length>0&&u.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:s,type:ys.audioId3,duration:Number.POSITIVE_INFINITY});n<d;){if(this.canParse(e,n)){const m=this.appendFrame(l,e,n);m?(this.frameIndex++,this.lastPTS=m.sample.pts,n+=m.length,a=n):n=d}else kU(e,n)?(s=Pc(e,n),u.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:s,type:ys.audioId3,duration:Number.POSITIVE_INFINITY}),n+=s.length,a=n):n++;if(n===d&&a!==d){const m=e.slice(a);this.cachedData?this.cachedData=Ms(this.cachedData,m):this.cachedData=m}}return{audioTrack:l,videoTrack:En(),id3Track:u,textTrack:En()}}demuxSampleAes(e,t,s){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:En(),id3Track:this._id3Track,textTrack:En()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const OU=(i,e,t)=>{if(Ae(i))return i*90;const s=t?t.baseTime*9e4/t.timescale:0;return e*9e4+s};let Sh=null;const MU=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],PU=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],NU=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],FU=[0,1,1,4];function I_(i,e,t,s,n){if(t+24>e.length)return;const a=j_(e,t);if(a&&t+a.frameLength<=e.length){const l=a.samplesPerFrame*9e4/a.sampleRate,u=s+n*l,h={unit:e.subarray(t,t+a.frameLength),pts:u,dts:u};return i.config=[],i.channelCount=a.channelCount,i.samplerate=a.sampleRate,i.samples.push(h),{sample:h,length:a.frameLength,missing:0}}}function j_(i,e){const t=i[e+1]>>3&3,s=i[e+1]>>1&3,n=i[e+2]>>4&15,a=i[e+2]>>2&3;if(t!==1&&n!==0&&n!==15&&a!==3){const l=i[e+2]>>1&1,u=i[e+3]>>6,h=t===3?3-s:s===3?3:4,d=MU[h*14+n-1]*1e3,p=PU[(t===3?0:t===2?1:2)*3+a],g=u===3?1:2,E=NU[t][s],b=FU[s],k=E*8*b,S=Math.floor(E*d/p+l)*b;if(Sh===null){const w=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Sh=w?parseInt(w[1]):0}return!!Sh&&Sh<=87&&s===2&&d>=224e3&&u===0&&(i[e+3]=i[e+3]|128),{sampleRate:p,channelCount:g,frameLength:S,samplesPerFrame:k}}}function fv(i,e){return i[e]===255&&(i[e+1]&224)===224&&(i[e+1]&6)!==0}function O_(i,e){return e+1<i.length&&fv(i,e)}function BU(i,e){return fv(i,e)&&4<=i.length-e}function M_(i,e){if(e+1<i.length&&fv(i,e)){const s=j_(i,e);let n=4;s!=null&&s.frameLength&&(n=s.frameLength);const a=e+n;return a===i.length||O_(i,a)}return!1}class UU extends hv{constructor(e,t){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=t}resetInitSegment(e,t,s,n){super.resetInitSegment(e,t,s,n),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:n,inputTimeScale:9e4,dropped:0}}static probe(e,t){if(!e)return!1;const s=Pc(e,0);let n=(s==null?void 0:s.length)||0;if(M_(e,n))return!1;for(let a=e.length;n<a;n++)if(bU(e,n))return t.log("ADTS sync word found !"),!0;return!1}canParse(e,t){return vU(e,t)}appendFrame(e,t,s){__(e,this.observer,t,s,e.manifestCodec);const n=L_(e,t,s,this.basePTS,this.frameIndex);if(n&&n.missing===0)return n}}const P_=(i,e)=>{let t=0,s=5;e+=s;const n=new Uint32Array(1),a=new Uint32Array(1),l=new Uint8Array(1);for(;s>0;){l[0]=i[e];const u=Math.min(s,8),h=8-u;a[0]=4278190080>>>24+h<<h,n[0]=(l[0]&a[0])>>h,t=t?t<<u|n[0]:n[0],e+=1,s-=u}return t};class $U extends hv{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,t,s,n){super.resetInitSegment(e,t,s,n),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:t,duration:n,inputTimeScale:9e4,dropped:0}}canParse(e,t){return t+64<e.length}appendFrame(e,t,s){const n=N_(e,t,s,this.basePTS,this.frameIndex);if(n!==-1)return{sample:e.samples[e.samples.length-1],length:n,missing:0}}static probe(e){if(!e)return!1;const t=Pc(e,0);if(!t)return!1;const s=t.length;return e[s]===11&&e[s+1]===119&&dv(t)!==void 0&&P_(e,s)<16}}function N_(i,e,t,s,n){if(t+8>e.length||e[t]!==11||e[t+1]!==119)return-1;const a=e[t+4]>>6;if(a>=3)return-1;const u=[48e3,44100,32e3][a],h=e[t+4]&63,m=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][h*3+a]*2;if(t+m>e.length)return-1;const p=e[t+6]>>5;let g=0;p===2?g+=2:(p&1&&p!==1&&(g+=2),p&4&&(g+=2));const E=(e[t+6]<<8|e[t+7])>>12-g&1,k=[2,1,2,3,3,4,4,5][p]+E,S=e[t+5]>>3,x=e[t+5]&7,_=new Uint8Array([a<<6|S<<1|x>>2,(x&3)<<6|p<<3|E<<2|h>>4,h<<4&224]),w=1536/u*9e4,R=s+n*w,C=e.subarray(t,t+m);return i.config=_,i.channelCount=k,i.samplerate=u,i.samples.push({unit:C,pts:R}),m}class zU extends hv{resetInitSegment(e,t,s,n){super.resetInitSegment(e,t,s,n),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:n,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const t=Pc(e,0);let s=(t==null?void 0:t.length)||0;if(t&&e[s]===11&&e[s+1]===119&&dv(t)!==void 0&&P_(e,s)<=16)return!1;for(let n=e.length;s<n;s++)if(M_(e,s))return _t.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,t){return BU(e,t)}appendFrame(e,t,s){if(this.basePTS!==null)return I_(e,t,s,this.basePTS,this.frameIndex)}}const GU=/\/emsg[-/]ID3/i;class HU{constructor(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}resetTimeStamp(){}resetInitSegment(e,t,s,n){const a=this.videoTrack=En("video",1),l=this.audioTrack=En("audio",1),u=this.txtTrack=En("text",1);if(this.id3Track=En("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const h=Kw(e);if(h.video){const{id:d,timescale:m,codec:p,supplemental:g}=h.video;a.id=d,a.timescale=u.timescale=m,a.codec=p,a.supplemental=g}if(h.audio){const{id:d,timescale:m,codec:p}=h.audio;l.id=d,l.timescale=m,l.codec=p}u.id=Hw.text,a.sampleDuration=0,a.duration=l.duration=n}resetContiguity(){this.remainderData=null}static probe(e){return $4(e)}demux(e,t){this.timeOffset=t;let s=e;const n=this.videoTrack,a=this.txtTrack;if(this.config.progressive){this.remainderData&&(s=Ms(this.remainderData,e));const u=Y4(s);this.remainderData=u.remainder,n.samples=u.valid||new Uint8Array}else n.samples=s;const l=this.extractID3Track(n,t);return a.samples=Kx(t,n),{videoTrack:n,audioTrack:this.audioTrack,id3Track:l,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,t=this.videoTrack,s=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;const n=this.extractID3Track(t,this.timeOffset);return s.samples=Kx(e,t),{videoTrack:t,audioTrack:En(),id3Track:n,textTrack:En()}}extractID3Track(e,t){const s=this.id3Track;if(e.samples.length){const n=it(e.samples,["emsg"]);n&&n.forEach(a=>{const l=X4(a);if(GU.test(l.schemeIdUri)){const u=CT(l,t);let h=l.eventDuration===4294967295?Number.POSITIVE_INFINITY:l.eventDuration/l.timeScale;h<=.001&&(h=Number.POSITIVE_INFINITY);const d=l.payload;s.samples.push({data:d,len:d.byteLength,dts:u,pts:u,type:ys.emsg,duration:h})}else if(this.config.enableEmsgKLVMetadata&&l.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const u=CT(l,t);s.samples.push({data:l.payload,len:l.payload.byteLength,dts:u,pts:u,type:ys.misbklv,duration:Number.POSITIVE_INFINITY})}})}return s}demuxSampleAes(e,t,s){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}}function CT(i,e){return Ae(i.presentationTime)?i.presentationTime/i.timeScale:e+i.presentationTimeDelta/i.timeScale}class qU{constructor(e,t,s){this.keyData=void 0,this.decrypter=void 0,this.keyData=s,this.decrypter=new sv(t,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,da.cbc)}decryptAacSample(e,t,s){const n=e[t].unit;if(n.length<=16)return;const a=n.subarray(16,n.length-n.length%16),l=a.buffer.slice(a.byteOffset,a.byteOffset+a.length);this.decryptBuffer(l).then(u=>{const h=new Uint8Array(u);n.set(h,16),this.decrypter.isSync()||this.decryptAacSamples(e,t+1,s)}).catch(s)}decryptAacSamples(e,t,s){for(;;t++){if(t>=e.length){s();return}if(!(e[t].unit.length<32)&&(this.decryptAacSample(e,t,s),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const t=Math.floor((e.length-48)/160)*16+16,s=new Int8Array(t);let n=0;for(let a=32;a<e.length-16;a+=160,n+=16)s.set(e.subarray(a,a+16),n);return s}getAvcDecryptedUnit(e,t){const s=new Uint8Array(t);let n=0;for(let a=32;a<e.length-16;a+=160,n+=16)e.set(s.subarray(n,n+16),a);return e}decryptAvcSample(e,t,s,n,a){const l=Xw(a.data),u=this.getAvcEncryptedData(l);this.decryptBuffer(u.buffer).then(h=>{a.data=this.getAvcDecryptedUnit(l,h),this.decrypter.isSync()||this.decryptAvcSamples(e,t,s+1,n)}).catch(n)}decryptAvcSamples(e,t,s,n){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,s=0){if(t>=e.length){n();return}const a=e[t].units;for(;!(s>=a.length);s++){const l=a[s];if(!(l.data.length<=48||l.type!==1&&l.type!==5)&&(this.decryptAvcSample(e,t,s,n,l),!this.decrypter.isSync()))return}}}}class F_{constructor(){this.VideoSample=null}createVideoSample(e,t,s){return{key:e,frame:!1,pts:t,dts:s,units:[],length:0}}getLastNalUnit(e){var t;let s=this.VideoSample,n;if((!s||s.units.length===0)&&(s=e[e.length-1]),(t=s)!=null&&t.units){const a=s.units;n=a[a.length-1]}return n}pushAccessUnit(e,t){if(e.units.length&&e.frame){if(e.pts===void 0){const s=t.samples,n=s.length;if(n){const a=s[n-1];e.pts=a.pts,e.dts=a.dts}else{t.dropped++;return}}t.samples.push(e)}}parseNALu(e,t,s){const n=t.byteLength;let a=e.naluState||0;const l=a,u=[];let h=0,d,m,p,g=-1,E=0;for(a===-1&&(g=0,E=this.getNALuType(t,0),a=0,h=1);h<n;){if(d=t[h++],!a){a=d?0:1;continue}if(a===1){a=d?0:2;continue}if(!d)a=3;else if(d===1){if(m=h-a-1,g>=0){const b={data:t.subarray(g,m),type:E};u.push(b)}else{const b=this.getLastNalUnit(e.samples);b&&(l&&h<=4-l&&b.state&&(b.data=b.data.subarray(0,b.data.byteLength-l)),m>0&&(b.data=Ms(b.data,t.subarray(0,m)),b.state=0))}h<n?(p=this.getNALuType(t,h),g=h,E=p,a=0):a=-1}else a=0}if(g>=0&&a>=0){const b={data:t.subarray(g,n),type:E,state:a};u.push(b)}if(u.length===0){const b=this.getLastNalUnit(e.samples);b&&(b.data=Ms(b.data,t))}return e.naluState=a,u}}class uc{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,t=this.bytesAvailable,s=e.byteLength-t,n=new Uint8Array(4),a=Math.min(4,t);if(a===0)throw new Error("no bytes available");n.set(e.subarray(s,s+a)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=a*8,this.bytesAvailable-=a}skipBits(e){let t;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let t=Math.min(this.bitsAvailable,e);const s=this.word>>>32-t;if(e>32&&_t.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return t=e-t,t>0&&this.bitsAvailable?s<<t|this.readBits(t):s}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if((this.word&2147483648>>>e)!==0)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class VU extends F_{parsePES(e,t,s,n){const a=this.parseNALu(e,s.data,n);let l=this.VideoSample,u,h=!1;s.data=null,l&&a.length&&!e.audFound&&(this.pushAccessUnit(l,e),l=this.VideoSample=this.createVideoSample(!1,s.pts,s.dts)),a.forEach(d=>{var m,p;switch(d.type){case 1:{let k=!1;u=!0;const S=d.data;if(h&&S.length>4){const x=this.readSliceType(S);(x===2||x===4||x===7||x===9)&&(k=!0)}if(k){var g;(g=l)!=null&&g.frame&&!l.key&&(this.pushAccessUnit(l,e),l=this.VideoSample=null)}l||(l=this.VideoSample=this.createVideoSample(!0,s.pts,s.dts)),l.frame=!0,l.key=k;break}case 5:u=!0,(m=l)!=null&&m.frame&&!l.key&&(this.pushAccessUnit(l,e),l=this.VideoSample=null),l||(l=this.VideoSample=this.createVideoSample(!0,s.pts,s.dts)),l.key=!0,l.frame=!0;break;case 6:{u=!0,Jy(d.data,1,s.pts,t.samples);break}case 7:{var E,b;u=!0,h=!0;const k=d.data,S=this.readSPS(k);if(!e.sps||e.width!==S.width||e.height!==S.height||((E=e.pixelRatio)==null?void 0:E[0])!==S.pixelRatio[0]||((b=e.pixelRatio)==null?void 0:b[1])!==S.pixelRatio[1]){e.width=S.width,e.height=S.height,e.pixelRatio=S.pixelRatio,e.sps=[k];const x=k.subarray(1,4);let _="avc1.";for(let w=0;w<3;w++){let R=x[w].toString(16);R.length<2&&(R="0"+R),_+=R}e.codec=_}break}case 8:u=!0,e.pps=[d.data];break;case 9:u=!0,e.audFound=!0,(p=l)!=null&&p.frame&&(this.pushAccessUnit(l,e),l=null),l||(l=this.VideoSample=this.createVideoSample(!1,s.pts,s.dts));break;case 12:u=!0;break;default:u=!1;break}l&&u&&l.units.push(d)}),n&&l&&(this.pushAccessUnit(l,e),this.VideoSample=null)}getNALuType(e,t){return e[t]&31}readSliceType(e){const t=new uc(e);return t.readUByte(),t.readUEG(),t.readUEG()}skipScalingList(e,t){let s=8,n=8,a;for(let l=0;l<e;l++)n!==0&&(a=t.readEG(),n=(s+a+256)%256),s=n===0?s:n}readSPS(e){const t=new uc(e);let s=0,n=0,a=0,l=0,u,h,d;const m=t.readUByte.bind(t),p=t.readBits.bind(t),g=t.readUEG.bind(t),E=t.readBoolean.bind(t),b=t.skipBits.bind(t),k=t.skipEG.bind(t),S=t.skipUEG.bind(t),x=this.skipScalingList.bind(this);m();const _=m();if(p(5),b(3),m(),S(),_===100||_===110||_===122||_===244||_===44||_===83||_===86||_===118||_===128){const P=g();if(P===3&&b(1),S(),S(),b(1),E())for(h=P!==3?8:12,d=0;d<h;d++)E()&&(d<6?x(16,t):x(64,t))}S();const w=g();if(w===0)g();else if(w===1)for(b(1),k(),k(),u=g(),d=0;d<u;d++)k();S(),b(1);const R=g(),C=g(),I=p(1);I===0&&b(1),b(1),E()&&(s=g(),n=g(),a=g(),l=g());let L=[1,1];if(E()&&E())switch(m()){case 1:L=[1,1];break;case 2:L=[12,11];break;case 3:L=[10,11];break;case 4:L=[16,11];break;case 5:L=[40,33];break;case 6:L=[24,11];break;case 7:L=[20,11];break;case 8:L=[32,11];break;case 9:L=[80,33];break;case 10:L=[18,11];break;case 11:L=[15,11];break;case 12:L=[64,33];break;case 13:L=[160,99];break;case 14:L=[4,3];break;case 15:L=[3,2];break;case 16:L=[2,1];break;case 255:{L=[m()<<8|m(),m()<<8|m()];break}}return{width:Math.ceil((R+1)*16-s*2-n*2),height:(2-I)*(C+1)*16-(I?2:4)*(a+l),pixelRatio:L}}}class KU extends F_{constructor(...e){super(...e),this.initVPS=null}parsePES(e,t,s,n){const a=this.parseNALu(e,s.data,n);let l=this.VideoSample,u,h=!1;s.data=null,l&&a.length&&!e.audFound&&(this.pushAccessUnit(l,e),l=this.VideoSample=this.createVideoSample(!1,s.pts,s.dts)),a.forEach(d=>{var m,p;switch(d.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:l||(l=this.VideoSample=this.createVideoSample(!1,s.pts,s.dts)),l.frame=!0,u=!0;break;case 16:case 17:case 18:case 21:if(u=!0,h){var g;(g=l)!=null&&g.frame&&!l.key&&(this.pushAccessUnit(l,e),l=this.VideoSample=null)}l||(l=this.VideoSample=this.createVideoSample(!0,s.pts,s.dts)),l.key=!0,l.frame=!0;break;case 19:case 20:u=!0,(m=l)!=null&&m.frame&&!l.key&&(this.pushAccessUnit(l,e),l=this.VideoSample=null),l||(l=this.VideoSample=this.createVideoSample(!0,s.pts,s.dts)),l.key=!0,l.frame=!0;break;case 39:u=!0,Jy(d.data,2,s.pts,t.samples);break;case 32:u=!0,e.vps||(typeof e.params!="object"&&(e.params={}),e.params=Dt(e.params,this.readVPS(d.data)),this.initVPS=d.data),e.vps=[d.data];break;case 33:if(u=!0,h=!0,e.vps!==void 0&&e.vps[0]!==this.initVPS&&e.sps!==void 0&&!this.matchSPS(e.sps[0],d.data)&&(this.initVPS=e.vps[0],e.sps=e.pps=void 0),!e.sps){const E=this.readSPS(d.data);e.width=E.width,e.height=E.height,e.pixelRatio=E.pixelRatio,e.codec=E.codecString,e.sps=[],typeof e.params!="object"&&(e.params={});for(const b in E.params)e.params[b]=E.params[b]}this.pushParameterSet(e.sps,d.data,e.vps),l||(l=this.VideoSample=this.createVideoSample(!0,s.pts,s.dts)),l.key=!0;break;case 34:if(u=!0,typeof e.params=="object"){if(!e.pps){e.pps=[];const E=this.readPPS(d.data);for(const b in E)e.params[b]=E[b]}this.pushParameterSet(e.pps,d.data,e.vps)}break;case 35:u=!0,e.audFound=!0,(p=l)!=null&&p.frame&&(this.pushAccessUnit(l,e),l=null),l||(l=this.VideoSample=this.createVideoSample(!1,s.pts,s.dts));break;default:u=!1;break}l&&u&&l.units.push(d)}),n&&l&&(this.pushAccessUnit(l,e),this.VideoSample=null)}pushParameterSet(e,t,s){(s&&s[0]===this.initVPS||!s&&!e.length)&&e.push(t)}getNALuType(e,t){return(e[t]&126)>>>1}ebsp2rbsp(e){const t=new Uint8Array(e.byteLength);let s=0;for(let n=0;n<e.byteLength;n++)n>=2&&e[n]===3&&e[n-1]===0&&e[n-2]===0||(t[s]=e[n],s++);return new Uint8Array(t.buffer,0,s)}pushAccessUnit(e,t){super.pushAccessUnit(e,t),this.initVPS&&(this.initVPS=null)}readVPS(e){const t=new uc(e);t.readUByte(),t.readUByte(),t.readBits(4),t.skipBits(2),t.readBits(6);const s=t.readBits(3),n=t.readBoolean();return{numTemporalLayers:s+1,temporalIdNested:n}}readSPS(e){const t=new uc(this.ebsp2rbsp(e));t.readUByte(),t.readUByte(),t.readBits(4);const s=t.readBits(3);t.readBoolean();const n=t.readBits(2),a=t.readBoolean(),l=t.readBits(5),u=t.readUByte(),h=t.readUByte(),d=t.readUByte(),m=t.readUByte(),p=t.readUByte(),g=t.readUByte(),E=t.readUByte(),b=t.readUByte(),k=t.readUByte(),S=t.readUByte(),x=t.readUByte(),_=[],w=[];for(let ee=0;ee<s;ee++)_.push(t.readBoolean()),w.push(t.readBoolean());if(s>0)for(let ee=s;ee<8;ee++)t.readBits(2);for(let ee=0;ee<s;ee++)_[ee]&&(t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte()),w[ee]&&t.readUByte();t.readUEG();const R=t.readUEG();R==3&&t.skipBits(1);const C=t.readUEG(),I=t.readUEG(),L=t.readBoolean();let P=0,M=0,N=0,H=0;L&&(P+=t.readUEG(),M+=t.readUEG(),N+=t.readUEG(),H+=t.readUEG());const se=t.readUEG(),ge=t.readUEG(),ve=t.readUEG(),U=t.readBoolean();for(let ee=U?0:s;ee<=s;ee++)t.skipUEG(),t.skipUEG(),t.skipUEG();if(t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.readBoolean()&&t.readBoolean())for(let Se=0;Se<4;Se++)for(let Pe=0;Pe<(Se===3?2:6);Pe++)if(!t.readBoolean())t.readUEG();else{const tt=Math.min(64,1<<4+(Se<<1));Se>1&&t.readEG();for(let mt=0;mt<tt;mt++)t.readEG()}t.readBoolean(),t.readBoolean(),t.readBoolean()&&(t.readUByte(),t.skipUEG(),t.skipUEG(),t.readBoolean());const W=t.readUEG();let re=0;for(let ee=0;ee<W;ee++){let Se=!1;if(ee!==0&&(Se=t.readBoolean()),Se){ee===W&&t.readUEG(),t.readBoolean(),t.readUEG();let Pe=0;for(let Be=0;Be<=re;Be++){const tt=t.readBoolean();let mt=!1;tt||(mt=t.readBoolean()),(tt||mt)&&Pe++}re=Pe}else{const Pe=t.readUEG(),Be=t.readUEG();re=Pe+Be;for(let tt=0;tt<Pe;tt++)t.readUEG(),t.readBoolean();for(let tt=0;tt<Be;tt++)t.readUEG(),t.readBoolean()}}if(t.readBoolean()){const ee=t.readUEG();for(let Se=0;Se<ee;Se++){for(let Pe=0;Pe<ve+4;Pe++)t.readBits(1);t.readBits(1)}}let j=0,F=1,K=1,ae=!0,le=1,me=0;t.readBoolean(),t.readBoolean();let xe=!1;if(t.readBoolean()){if(t.readBoolean()){const Ce=t.readUByte(),Ai=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],pt=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];Ce>0&&Ce<16?(F=Ai[Ce-1],K=pt[Ce-1]):Ce===255&&(F=t.readBits(16),K=t.readBits(16))}if(t.readBoolean()&&t.readBoolean(),t.readBoolean()&&(t.readBits(3),t.readBoolean(),t.readBoolean()&&(t.readUByte(),t.readUByte(),t.readUByte())),t.readBoolean()&&(t.readUEG(),t.readUEG()),t.readBoolean(),t.readBoolean(),t.readBoolean(),xe=t.readBoolean(),xe&&(t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG()),t.readBoolean()&&(le=t.readBits(32),me=t.readBits(32),t.readBoolean()&&t.readUEG(),t.readBoolean())){const pt=t.readBoolean(),Oi=t.readBoolean();let pi=!1;(pt||Oi)&&(pi=t.readBoolean(),pi&&(t.readUByte(),t.readBits(5),t.readBoolean(),t.readBits(5)),t.readBits(4),t.readBits(4),pi&&t.readBits(4),t.readBits(5),t.readBits(5),t.readBits(5));for(let ct=0;ct<=s;ct++){ae=t.readBoolean();const xt=ae||t.readBoolean();let Mi=!1;xt?t.readEG():Mi=t.readBoolean();const gi=Mi?1:t.readUEG()+1;if(pt)for(let Js=0;Js<gi;Js++)t.readUEG(),t.readUEG(),pi&&(t.readUEG(),t.readUEG()),t.skipBits(1);if(Oi)for(let Js=0;Js<gi;Js++)t.readUEG(),t.readUEG(),pi&&(t.readUEG(),t.readUEG()),t.skipBits(1)}}t.readBoolean()&&(t.readBoolean(),t.readBoolean(),t.readBoolean(),j=t.readUEG())}let Oe=C,ot=I;if(L){let ee=1,Se=1;R===1?ee=Se=2:R==2&&(ee=2),Oe=C-ee*M-ee*P,ot=I-Se*H-Se*N}const vt=n?["A","B","C"][n]:"",ie=u<<24|h<<16|d<<8|m;let z=0;for(let ee=0;ee<32;ee++)z=(z|(ie>>ee&1)<<31-ee)>>>0;let Y=z.toString(16);return l===1&&Y==="2"&&(Y="6"),{codecString:`hvc1.${vt}${l}.${Y}.${a?"H":"L"}${x}.B0`,params:{general_tier_flag:a,general_profile_idc:l,general_profile_space:n,general_profile_compatibility_flags:[u,h,d,m],general_constraint_indicator_flags:[p,g,E,b,k,S],general_level_idc:x,bit_depth:se+8,bit_depth_luma_minus8:se,bit_depth_chroma_minus8:ge,min_spatial_segmentation_idc:j,chroma_format_idc:R,frame_rate:{fixed:ae,fps:me/le}},width:Oe,height:ot,pixelRatio:[F,K]}}readPPS(e){const t=new uc(this.ebsp2rbsp(e));t.readUByte(),t.readUByte(),t.skipUEG(),t.skipUEG(),t.skipBits(2),t.skipBits(3),t.skipBits(2),t.skipUEG(),t.skipUEG(),t.skipEG(),t.skipBits(2),t.readBoolean()&&t.skipUEG(),t.skipEG(),t.skipEG(),t.skipBits(4);const n=t.readBoolean(),a=t.readBoolean();let l=1;return a&&n?l=0:a?l=3:n&&(l=2),{parallelismType:l}}matchSPS(e,t){return String.fromCharCode.apply(null,e).substr(3)===String.fromCharCode.apply(null,t).substr(3)}}const fi=188;class zr{constructor(e,t,s,n){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=t,this.typeSupported=s,this.logger=n,this.videoParser=null}static probe(e,t){const s=zr.syncOffset(e);return s>0&&t.warn(`MPEG2-TS detected but first sync word found @ offset ${s}`),s!==-1}static syncOffset(e){const t=e.length;let s=Math.min(fi*5,t-fi)+1,n=0;for(;n<s;){let a=!1,l=-1,u=0;for(let h=n;h<t;h+=fi)if(e[h]===71&&(t-h===fi||e[h+fi]===71)){if(u++,l===-1&&(l=h,l!==0&&(s=Math.min(l+fi*99,e.length-fi)+1)),a||(a=dy(e,h)===0),a&&u>1&&(l===0&&u>2||h+fi>s))return l}else{if(u)return-1;break}n++}return-1}static createTrack(e,t){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:Hw[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?t:void 0}}resetInitSegment(e,t,s,n){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=zr.createTrack("video"),this._videoTrack.duration=n,this._audioTrack=zr.createTrack("audio",n),this._id3Track=zr.createTrack("id3"),this._txtTrack=zr.createTrack("text"),this._audioTrack.segmentCodec="aac",this.videoParser=null,this.aacOverFlow=null,this.remainderData=null,this.audioCodec=t,this.videoCodec=s}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:t,_id3Track:s}=this;e&&(e.pesData=null),t&&(t.pesData=null),s&&(s.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,t,s=!1,n=!1){s||(this.sampleAes=null);let a;const l=this._videoTrack,u=this._audioTrack,h=this._id3Track,d=this._txtTrack;let m=l.pid,p=l.pesData,g=u.pid,E=h.pid,b=u.pesData,k=h.pesData,S=null,x=this.pmtParsed,_=this._pmtId,w=e.length;if(this.remainderData&&(e=Ms(this.remainderData,e),w=e.length,this.remainderData=null),w<fi&&!n)return this.remainderData=e,{audioTrack:u,videoTrack:l,id3Track:h,textTrack:d};const R=Math.max(0,zr.syncOffset(e));w-=(w-R)%fi,w<e.byteLength&&!n&&(this.remainderData=new Uint8Array(e.buffer,w,e.buffer.byteLength-w));let C=0;for(let L=R;L<w;L+=fi)if(e[L]===71){const P=!!(e[L+1]&64),M=dy(e,L),N=(e[L+3]&48)>>4;let H;if(N>1){if(H=L+5+e[L+4],H===L+fi)continue}else H=L+4;switch(M){case m:P&&(p&&(a=al(p,this.logger))&&(this.readyVideoParser(l.segmentCodec),this.videoParser!==null&&this.videoParser.parsePES(l,d,a,!1)),p={data:[],size:0}),p&&(p.data.push(e.subarray(H,L+fi)),p.size+=L+fi-H);break;case g:if(P){if(b&&(a=al(b,this.logger)))switch(u.segmentCodec){case"aac":this.parseAACPES(u,a);break;case"mp3":this.parseMPEGPES(u,a);break;case"ac3":this.parseAC3PES(u,a);break}b={data:[],size:0}}b&&(b.data.push(e.subarray(H,L+fi)),b.size+=L+fi-H);break;case E:P&&(k&&(a=al(k,this.logger))&&this.parseID3PES(h,a),k={data:[],size:0}),k&&(k.data.push(e.subarray(H,L+fi)),k.size+=L+fi-H);break;case 0:P&&(H+=e[H]+1),_=this._pmtId=YU(e,H);break;case _:{P&&(H+=e[H]+1);const se=WU(e,H,this.typeSupported,s,this.observer,this.logger);m=se.videoPid,m>0&&(l.pid=m,l.segmentCodec=se.segmentVideoCodec),g=se.audioPid,g>0&&(u.pid=g,u.segmentCodec=se.segmentAudioCodec),E=se.id3Pid,E>0&&(h.pid=E),S!==null&&!x&&(this.logger.warn(`MPEG-TS PMT found at ${L} after unknown PID '${S}'. Backtracking to sync byte @${R} to parse all TS packets.`),S=null,L=R-188),x=this.pmtParsed=!0;break}case 17:case 8191:break;default:S=M;break}}else C++;C>0&&hy(this.observer,new Error(`Found ${C} TS packet/s that do not start with 0x47`),void 0,this.logger),l.pesData=p,u.pesData=b,h.pesData=k;const I={audioTrack:u,videoTrack:l,id3Track:h,textTrack:d};return n&&this.extractRemainingSamples(I),I}flush(){const{remainderData:e}=this;this.remainderData=null;let t;return e?t=this.demux(e,-1,!1,!0):t={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t}extractRemainingSamples(e){const{audioTrack:t,videoTrack:s,id3Track:n,textTrack:a}=e,l=s.pesData,u=t.pesData,h=n.pesData;let d;if(l&&(d=al(l,this.logger))?(this.readyVideoParser(s.segmentCodec),this.videoParser!==null&&(this.videoParser.parsePES(s,a,d,!0),s.pesData=null)):s.pesData=l,u&&(d=al(u,this.logger))){switch(t.segmentCodec){case"aac":this.parseAACPES(t,d);break;case"mp3":this.parseMPEGPES(t,d);break;case"ac3":this.parseAC3PES(t,d);break}t.pesData=null}else u!=null&&u.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),t.pesData=u;h&&(d=al(h,this.logger))?(this.parseID3PES(n,d),n.pesData=null):n.pesData=h}demuxSampleAes(e,t,s){const n=this.demux(e,s,!0,!this.config.progressive),a=this.sampleAes=new qU(this.observer,this.config,t);return this.decrypt(n,a)}readyVideoParser(e){this.videoParser===null&&(e==="avc"?this.videoParser=new VU:e==="hevc"&&(this.videoParser=new KU))}decrypt(e,t){return new Promise(s=>{const{audioTrack:n,videoTrack:a}=e;n.samples&&n.segmentCodec==="aac"?t.decryptAacSamples(n.samples,0,()=>{a.samples?t.decryptAvcSamples(a.samples,0,0,()=>{s(e)}):s(e)}):a.samples&&t.decryptAvcSamples(a.samples,0,0,()=>{s(e)})})}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(e,t){let s=0;const n=this.aacOverFlow;let a=t.data;if(n){this.aacOverFlow=null;const p=n.missing,g=n.sample.unit.byteLength;if(p===-1)a=Ms(n.sample.unit,a);else{const E=g-p;n.sample.unit.set(a.subarray(0,p),E),e.samples.push(n.sample),s=n.missing}}let l,u;for(l=s,u=a.length;l<u-1&&!jf(a,l);l++);if(l!==s){let p;const g=l<u-1;if(g?p=`AAC PES did not start with ADTS header,offset:${l}`:p="No ADTS header found in AAC PES",hy(this.observer,new Error(p),g,this.logger),!g)return}__(e,this.observer,a,l,this.audioCodec);let h;if(t.pts!==void 0)h=t.pts;else if(n){const p=R_(e.samplerate);h=n.sample.pts+p}else{this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let d=0,m;for(;l<u;)if(m=L_(e,a,l,h,d),l+=m.length,m.missing){this.aacOverFlow=m;break}else for(d++;l<u-1&&!jf(a,l);l++);}parseMPEGPES(e,t){const s=t.data,n=s.length;let a=0,l=0;const u=t.pts;if(u===void 0){this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;l<n;)if(O_(s,l)){const h=I_(e,s,l,u,a);if(h)l+=h.length,a++;else break}else l++}parseAC3PES(e,t){{const s=t.data,n=t.pts;if(n===void 0){this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const a=s.length;let l=0,u=0,h;for(;u<a&&(h=N_(e,s,u,n,l++))>0;)u+=h}}parseID3PES(e,t){if(t.pts===void 0){this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const s=Dt({},t,{type:this._videoTrack?ys.emsg:ys.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(s)}}function dy(i,e){return((i[e+1]&31)<<8)+i[e+2]}function YU(i,e){return(i[e+10]&31)<<8|i[e+11]}function WU(i,e,t,s,n,a){const l={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},u=(i[e+1]&15)<<8|i[e+2],h=e+3+u-4,d=(i[e+10]&15)<<8|i[e+11];for(e+=12+d;e<h;){const m=dy(i,e),p=(i[e+3]&15)<<8|i[e+4];switch(i[e]){case 207:if(!s){e0("ADTS AAC",a);break}case 15:l.audioPid===-1&&(l.audioPid=m);break;case 21:l.id3Pid===-1&&(l.id3Pid=m);break;case 219:if(!s){e0("H.264",a);break}case 27:l.videoPid===-1&&(l.videoPid=m);break;case 3:case 4:!t.mpeg&&!t.mp3?a.log("MPEG audio found, not supported in this browser"):l.audioPid===-1&&(l.audioPid=m,l.segmentAudioCodec="mp3");break;case 193:if(!s){e0("AC-3",a);break}case 129:t.ac3?l.audioPid===-1&&(l.audioPid=m,l.segmentAudioCodec="ac3"):a.log("AC-3 audio found, not supported in this browser");break;case 6:if(l.audioPid===-1&&p>0){let g=e+5,E=p;for(;E>2;){switch(i[g]){case 106:t.ac3!==!0?a.log("AC-3 audio found, not supported in this browser for now"):(l.audioPid=m,l.segmentAudioCodec="ac3");break}const k=i[g+1]+2;g+=k,E-=k}}break;case 194:case 135:return hy(n,new Error("Unsupported EC-3 in M2TS found"),void 0,a),l;case 36:l.videoPid===-1&&(l.videoPid=m,l.segmentVideoCodec="hevc",a.log("HEVC in M2TS found"));break}e+=p+5}return l}function hy(i,e,t,s){s.warn(`parsing error: ${e.message}`),i.emit(A.ERROR,A.ERROR,{type:Ie.MEDIA_ERROR,details:Q.FRAG_PARSING_ERROR,fatal:!1,levelRetry:t,error:e,reason:e.message})}function e0(i,e){e.log(`${i} with AES-128-CBC encryption found in unencrypted stream`)}function al(i,e){let t=0,s,n,a,l,u;const h=i.data;if(!i||i.size===0)return null;for(;h[0].length<19&&h.length>1;)h[0]=Ms(h[0],h[1]),h.splice(1,1);if(s=h[0],(s[0]<<16)+(s[1]<<8)+s[2]===1){if(n=(s[4]<<8)+s[5],n&&n>i.size-6)return null;const m=s[7];m&192&&(l=(s[9]&14)*536870912+(s[10]&255)*4194304+(s[11]&254)*16384+(s[12]&255)*128+(s[13]&254)/2,m&64?(u=(s[14]&14)*536870912+(s[15]&255)*4194304+(s[16]&254)*16384+(s[17]&255)*128+(s[18]&254)/2,l-u>60*9e4&&(e.warn(`${Math.round((l-u)/9e4)}s delta between PTS and DTS, align them`),l=u)):u=l),a=s[8];let p=a+9;if(i.size<=p)return null;i.size-=p;const g=new Uint8Array(i.size);for(let E=0,b=h.length;E<b;E++){s=h[E];let k=s.byteLength;if(p)if(p>k){p-=k;continue}else s=s.subarray(p),k-=p,p=0;g.set(s,t),t+=k}return n&&(n-=a+3),{data:g,pts:l,dts:u,len:n}}return null}class XU{static getSilentFrame(e,t){switch(e){case"mp4a.40.2":if(t===1)return new Uint8Array([0,200,0,128,35,128]);if(t===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(t===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(t===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(t===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(t===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(t===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const Mr=Math.pow(2,32)-1;class X{static init(){X.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in X.types)X.types.hasOwnProperty(e)&&(X.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),s=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);X.HDLR_TYPES={video:t,audio:s};const n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);X.STTS=X.STSC=X.STCO=a,X.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),X.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),X.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),X.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const l=new Uint8Array([105,115,111,109]),u=new Uint8Array([97,118,99,49]),h=new Uint8Array([0,0,0,1]);X.FTYP=X.box(X.types.ftyp,l,h,l,u),X.DINF=X.box(X.types.dinf,X.box(X.types.dref,n))}static box(e,...t){let s=8,n=t.length;const a=n;for(;n--;)s+=t[n].byteLength;const l=new Uint8Array(s);for(l[0]=s>>24&255,l[1]=s>>16&255,l[2]=s>>8&255,l[3]=s&255,l.set(e,4),n=0,s=8;n<a;n++)l.set(t[n],s),s+=t[n].byteLength;return l}static hdlr(e){return X.box(X.types.hdlr,X.HDLR_TYPES[e])}static mdat(e){return X.box(X.types.mdat,e)}static mdhd(e,t){t*=e;const s=Math.floor(t/(Mr+1)),n=Math.floor(t%(Mr+1));return X.box(X.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,s>>24,s>>16&255,s>>8&255,s&255,n>>24,n>>16&255,n>>8&255,n&255,85,196,0,0]))}static mdia(e){return X.box(X.types.mdia,X.mdhd(e.timescale||0,e.duration||0),X.hdlr(e.type),X.minf(e))}static mfhd(e){return X.box(X.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?X.box(X.types.minf,X.box(X.types.smhd,X.SMHD),X.DINF,X.stbl(e)):X.box(X.types.minf,X.box(X.types.vmhd,X.VMHD),X.DINF,X.stbl(e))}static moof(e,t,s){return X.box(X.types.moof,X.mfhd(e),X.traf(s,t))}static moov(e){let t=e.length;const s=[];for(;t--;)s[t]=X.trak(e[t]);return X.box.apply(null,[X.types.moov,X.mvhd(e[0].timescale||0,e[0].duration||0)].concat(s).concat(X.mvex(e)))}static mvex(e){let t=e.length;const s=[];for(;t--;)s[t]=X.trex(e[t]);return X.box.apply(null,[X.types.mvex,...s])}static mvhd(e,t){t*=e;const s=Math.floor(t/(Mr+1)),n=Math.floor(t%(Mr+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,s>>24,s>>16&255,s>>8&255,s&255,n>>24,n>>16&255,n>>8&255,n&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return X.box(X.types.mvhd,a)}static sdtp(e){const t=e.samples||[],s=new Uint8Array(4+t.length);let n,a;for(n=0;n<t.length;n++)a=t[n].flags,s[n+4]=a.dependsOn<<4|a.isDependedOn<<2|a.hasRedundancy;return X.box(X.types.sdtp,s)}static stbl(e){return X.box(X.types.stbl,X.stsd(e),X.box(X.types.stts,X.STTS),X.box(X.types.stsc,X.STSC),X.box(X.types.stsz,X.STSZ),X.box(X.types.stco,X.STCO))}static avc1(e){let t=[],s=[],n,a,l;for(n=0;n<e.sps.length;n++)a=e.sps[n],l=a.byteLength,t.push(l>>>8&255),t.push(l&255),t=t.concat(Array.prototype.slice.call(a));for(n=0;n<e.pps.length;n++)a=e.pps[n],l=a.byteLength,s.push(l>>>8&255),s.push(l&255),s=s.concat(Array.prototype.slice.call(a));const u=X.box(X.types.avcC,new Uint8Array([1,t[3],t[4],t[5],255,224|e.sps.length].concat(t).concat([e.pps.length]).concat(s))),h=e.width,d=e.height,m=e.pixelRatio[0],p=e.pixelRatio[1];return X.box(X.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,h>>8&255,h&255,d>>8&255,d&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),u,X.box(X.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),X.box(X.types.pasp,new Uint8Array([m>>24,m>>16&255,m>>8&255,m&255,p>>24,p>>16&255,p>>8&255,p&255])))}static esds(e){const t=e.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...t,6,1,2])}static audioStsd(e){const t=e.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount||0,0,16,0,0,0,0,t>>8&255,t&255,0,0])}static mp4a(e){return X.box(X.types.mp4a,X.audioStsd(e),X.box(X.types.esds,X.esds(e)))}static mp3(e){return X.box(X.types[".mp3"],X.audioStsd(e))}static ac3(e){return X.box(X.types["ac-3"],X.audioStsd(e),X.box(X.types.dac3,e.config))}static stsd(e){const{segmentCodec:t}=e;if(e.type==="audio"){if(t==="aac")return X.box(X.types.stsd,X.STSD,X.mp4a(e));if(t==="ac3"&&e.config)return X.box(X.types.stsd,X.STSD,X.ac3(e));if(t==="mp3"&&e.codec==="mp3")return X.box(X.types.stsd,X.STSD,X.mp3(e))}else if(e.pps&&e.sps){if(t==="avc")return X.box(X.types.stsd,X.STSD,X.avc1(e));if(t==="hevc"&&e.vps)return X.box(X.types.stsd,X.STSD,X.hvc1(e))}else throw new Error("video track missing pps or sps");throw new Error(`unsupported ${e.type} segment codec (${t}/${e.codec})`)}static tkhd(e){const t=e.id,s=(e.duration||0)*(e.timescale||0),n=e.width||0,a=e.height||0,l=Math.floor(s/(Mr+1)),u=Math.floor(s%(Mr+1));return X.box(X.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,t&255,0,0,0,0,l>>24,l>>16&255,l>>8&255,l&255,u>>24,u>>16&255,u>>8&255,u&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,n>>8&255,n&255,0,0,a>>8&255,a&255,0,0]))}static traf(e,t){const s=X.sdtp(e),n=e.id,a=Math.floor(t/(Mr+1)),l=Math.floor(t%(Mr+1));return X.box(X.types.traf,X.box(X.types.tfhd,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,n&255])),X.box(X.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,a&255,l>>24,l>>16&255,l>>8&255,l&255])),X.trun(e,s.length+16+20+8+16+8+8),s)}static trak(e){return e.duration=e.duration||4294967295,X.box(X.types.trak,X.tkhd(e),X.mdia(e))}static trex(e){const t=e.id;return X.box(X.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,t&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,t){const s=e.samples||[],n=s.length,a=12+16*n,l=new Uint8Array(a);let u,h,d,m,p,g;for(t+=8+a,l.set([e.type==="video"?1:0,0,15,1,n>>>24&255,n>>>16&255,n>>>8&255,n&255,t>>>24&255,t>>>16&255,t>>>8&255,t&255],0),u=0;u<n;u++)h=s[u],d=h.duration,m=h.size,p=h.flags,g=h.cts,l.set([d>>>24&255,d>>>16&255,d>>>8&255,d&255,m>>>24&255,m>>>16&255,m>>>8&255,m&255,p.isLeading<<2|p.dependsOn,p.isDependedOn<<6|p.hasRedundancy<<4|p.paddingValue<<1|p.isNonSync,p.degradPrio&61440,p.degradPrio&15,g>>>24&255,g>>>16&255,g>>>8&255,g&255],12+16*u);return X.box(X.types.trun,l)}static initSegment(e){X.types||X.init();const t=X.moov(e);return Ms(X.FTYP,t)}static hvc1(e){const t=e.params,s=[e.vps,e.sps,e.pps],n=4,a=new Uint8Array([1,t.general_profile_space<<6|(t.general_tier_flag?32:0)|t.general_profile_idc,t.general_profile_compatibility_flags[0],t.general_profile_compatibility_flags[1],t.general_profile_compatibility_flags[2],t.general_profile_compatibility_flags[3],t.general_constraint_indicator_flags[0],t.general_constraint_indicator_flags[1],t.general_constraint_indicator_flags[2],t.general_constraint_indicator_flags[3],t.general_constraint_indicator_flags[4],t.general_constraint_indicator_flags[5],t.general_level_idc,240|t.min_spatial_segmentation_idc>>8,255&t.min_spatial_segmentation_idc,252|t.parallelismType,252|t.chroma_format_idc,248|t.bit_depth_luma_minus8,248|t.bit_depth_chroma_minus8,0,parseInt(t.frame_rate.fps),n-1|t.temporal_id_nested<<2|t.num_temporal_layers<<3|(t.frame_rate.fixed?64:0),s.length]);let l=a.length;for(let b=0;b<s.length;b+=1){l+=3;for(let k=0;k<s[b].length;k+=1)l+=2+s[b][k].length}const u=new Uint8Array(l);u.set(a,0),l=a.length;const h=s.length-1;for(let b=0;b<s.length;b+=1){u.set(new Uint8Array([32+b|(b===h?128:0),0,s[b].length]),l),l+=3;for(let k=0;k<s[b].length;k+=1)u.set(new Uint8Array([s[b][k].length>>8,s[b][k].length&255]),l),l+=2,u.set(s[b][k],l),l+=s[b][k].length}const d=X.box(X.types.hvcC,u),m=e.width,p=e.height,g=e.pixelRatio[0],E=e.pixelRatio[1];return X.box(X.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,m>>8&255,m&255,p>>8&255,p&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),d,X.box(X.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),X.box(X.types.pasp,new Uint8Array([g>>24,g>>16&255,g>>8&255,g&255,E>>24,E>>16&255,E>>8&255,E&255])))}}X.types=void 0;X.HDLR_TYPES=void 0;X.STTS=void 0;X.STSC=void 0;X.STCO=void 0;X.STSZ=void 0;X.VMHD=void 0;X.SMHD=void 0;X.STSD=void 0;X.FTYP=void 0;X.DINF=void 0;const B_=9e4;function mv(i,e,t=1,s=!1){const n=i*e*t;return s?Math.round(n):n}function QU(i,e,t=1,s=!1){return mv(i,e,1/t,s)}function Ju(i,e=!1){return mv(i,1e3,1/B_,e)}function ZU(i,e=1){return mv(i,B_,1/e)}function DT(i){const{baseTime:e,timescale:t,trackId:s}=i;return`${e/t} (${e}/${t}) trackId: ${s}`}const JU=10*1e3,e$=1024,t$=1152,i$=1536;let ol=null,t0=null;function IT(i,e,t,s){return{duration:e,size:t,cts:s,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:i?2:1,isNonSync:i?0:1}}}class Wh extends Ps{constructor(e,t,s,n){if(super("mp4-remuxer",n),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextVideoTs=null,this.nextAudioTs=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=t,this.typeSupported=s,this.ISGenerated=!1,ol===null){const l=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);ol=l?parseInt(l[1]):0}if(t0===null){const a=navigator.userAgent.match(/Safari\/(\d+)/i);t0=a?parseInt(a[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){const t=this._initPTS;(!t||!e||e.trackId!==t.trackId||e.baseTime!==t.baseTime||e.timescale!==t.timescale)&&this.log(`Reset initPTS: ${t&&DT(t)} > ${e&&DT(e)}`),this._initPTS=this._initDTS=e}resetNextTimestamp(){this.log("reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.log("ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let t=!1;const s=e[0].pts,n=e.reduce((a,l)=>{let u=l.pts,h=u-a;return h<-4294967296&&(t=!0,u=ps(u,s),h=u-a),h>0?a:u},s);return t&&this.debug("PTS rollover detected"),n}remux(e,t,s,n,a,l,u,h){let d,m,p,g,E,b,k=a,S=a;const x=e.pid>-1,_=t.pid>-1,w=t.samples.length,R=e.samples.length>0,C=u&&w>0||w>1;if((!x||R)&&(!_||C)||this.ISGenerated||u){if(this.ISGenerated){var L,P,M,N;const ve=this.videoTrackConfig;(ve&&(t.width!==ve.width||t.height!==ve.height||((L=t.pixelRatio)==null?void 0:L[0])!==((P=ve.pixelRatio)==null?void 0:P[0])||((M=t.pixelRatio)==null?void 0:M[1])!==((N=ve.pixelRatio)==null?void 0:N[1]))||!ve&&C||this.nextAudioTs===null&&R)&&this.resetInitSegment()}this.ISGenerated||(p=this.generateIS(e,t,a,l));const H=this.isVideoContiguous;let se=-1,ge;if(C&&(se=s$(t.samples),!H&&this.config.forceKeyFrameOnDiscontinuity))if(b=!0,se>0){this.warn(`Dropped ${se} out of ${w} video samples due to a missing keyframe`);const ve=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(se),t.dropped+=se,S+=(t.samples[0].pts-ve)/t.inputTimeScale,ge=S}else se===-1&&(this.warn(`No keyframe found out of ${w} video samples`),b=!1);if(this.ISGenerated){if(R&&C){const ve=this.getVideoStartPts(t.samples),O=(ps(e.samples[0].pts,ve)-ve)/t.inputTimeScale;k+=Math.max(0,O),S+=Math.max(0,-O)}if(R){if(e.samplerate||(this.warn("regenerate InitSegment as audio detected"),p=this.generateIS(e,t,a,l)),m=this.remuxAudio(e,k,this.isAudioContiguous,l,_||C||h===Re.AUDIO?S:void 0),C){const ve=m?m.endPTS-m.startPTS:0;t.inputTimeScale||(this.warn("regenerate InitSegment as video detected"),p=this.generateIS(e,t,a,l)),d=this.remuxVideo(t,S,H,ve)}}else C&&(d=this.remuxVideo(t,S,H,0));d&&(d.firstKeyFrame=se,d.independent=se!==-1,d.firstKeyFramePTS=ge)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(s.samples.length&&(E=U_(s,a,this._initPTS,this._initDTS)),n.samples.length&&(g=$_(n,a,this._initPTS))),{audio:m,video:d,initSegment:p,independent:b,text:g,id3:E}}computeInitPts(e,t,s,n){const a=Math.round(s*t);let l=ps(e,a);if(l<a+t)for(this.log(`Adjusting PTS for rollover in timeline near ${(a-l)/t} ${n}`);l<a+t;)l+=8589934592;return l-a}generateIS(e,t,s,n){const a=e.samples,l=t.samples,u=this.typeSupported,h={},d=this._initPTS;let m=!d||n,p="audio/mp4",g,E,b,k=-1;if(m&&(g=E=1/0),e.config&&a.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":u.mpeg?(p="audio/mpeg",e.codec=""):u.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}h.audio={id:"audio",container:p,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&u.mpeg?new Uint8Array(0):X.initSegment([e]),metadata:{channelCount:e.channelCount}},m&&(k=e.id,b=e.inputTimeScale,!d||b!==d.timescale?g=E=this.computeInitPts(a[0].pts,b,s,"audio"):m=!1)}if(t.sps&&t.pps&&l.length){if(t.timescale=t.inputTimeScale,h.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:X.initSegment([t]),metadata:{width:t.width,height:t.height}},m)if(k=t.id,b=t.inputTimeScale,!d||b!==d.timescale){const S=this.getVideoStartPts(l),x=ps(l[0].dts,S),_=this.computeInitPts(x,b,s,"video"),w=this.computeInitPts(S,b,s,"video");E=Math.min(E,_),g=Math.min(g,w)}else m=!1;this.videoTrackConfig={width:t.width,height:t.height,pixelRatio:t.pixelRatio}}if(Object.keys(h).length)return this.ISGenerated=!0,m?(d&&this.warn(`Timestamps at playlist time: ${n?"":"~"}${s} ${g/b} != initPTS: ${d.baseTime/d.timescale} (${d.baseTime}/${d.timescale}) trackId: ${d.trackId}`),this.log(`Found initPTS at playlist time: ${s} offset: ${g/b} (${g}/${b}) trackId: ${k}`),this._initPTS={baseTime:g,timescale:b,trackId:k},this._initDTS={baseTime:E,timescale:b,trackId:k}):g=b=void 0,{tracks:h,initPTS:g,timescale:b,trackId:k}}remuxVideo(e,t,s,n){const a=e.inputTimeScale,l=e.samples,u=[],h=l.length,d=this._initPTS,m=d.baseTime*a/d.timescale;let p=this.nextVideoTs,g=8,E=this.videoSampleDuration,b,k,S=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY,_=!1;if(!s||p===null){const j=m+t*a,F=l[0].pts-ps(l[0].dts,l[0].pts);ol&&p!==null&&Math.abs(j-F-(p+m))<15e3?s=!0:p=j-F-m}const w=p+m;for(let j=0;j<h;j++){const F=l[j];F.pts=ps(F.pts,w),F.dts=ps(F.dts,w),F.dts<l[j>0?j-1:j].dts&&(_=!0)}_&&l.sort(function(j,F){const K=j.dts-F.dts,ae=j.pts-F.pts;return K||ae}),b=l[0].dts,k=l[l.length-1].dts;const R=k-b,C=R?Math.round(R/(h-1)):E||e.inputTimeScale/30;if(s){const j=b-w,F=j>C,K=j<-1;if((F||K)&&(F?this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${Ju(j,!0)} ms (${j}dts) hole between fragments detected at ${t.toFixed(3)}`):this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${Ju(-j,!0)} ms (${j}dts) overlapping between fragments detected at ${t.toFixed(3)}`),!K||w>=l[0].pts||ol)){b=w;const ae=l[0].pts-j;if(F)l[0].dts=b,l[0].pts=ae;else{let le=!0;for(let me=0;me<l.length&&!(l[me].dts>ae&&le);me++){const xe=l[me].pts;if(l[me].dts-=j,l[me].pts-=j,me<l.length-1){const Ee=l[me+1].pts,Oe=l[me].pts,ot=Ee<=Oe,vt=Ee<=xe;le=ot==vt}}}this.log(`Video: Initial PTS/DTS adjusted: ${Ju(ae,!0)}/${Ju(b,!0)}, delta: ${Ju(j,!0)} ms`)}}b=Math.max(0,b);let I=0,L=0,P=b;for(let j=0;j<h;j++){const F=l[j],K=F.units,ae=K.length;let le=0;for(let me=0;me<ae;me++)le+=K[me].data.length;L+=le,I+=ae,F.length=le,F.dts<P?(F.dts=P,P+=C/4|0||1):P=F.dts,S=Math.min(F.pts,S),x=Math.max(F.pts,x)}k=l[h-1].dts;const M=L+4*I+8;let N;try{N=new Uint8Array(M)}catch(j){this.observer.emit(A.ERROR,A.ERROR,{type:Ie.MUX_ERROR,details:Q.REMUX_ALLOC_ERROR,fatal:!1,error:j,bytes:M,reason:`fail allocating video mdat ${M}`});return}const H=new DataView(N.buffer);H.setUint32(0,M),N.set(X.types.mdat,4);let se=!1,ge=Number.POSITIVE_INFINITY,ve=Number.POSITIVE_INFINITY,U=Number.NEGATIVE_INFINITY,O=Number.NEGATIVE_INFINITY;for(let j=0;j<h;j++){const F=l[j],K=F.units;let ae=0;for(let xe=0,Ee=K.length;xe<Ee;xe++){const Oe=K[xe],ot=Oe.data,vt=Oe.data.byteLength;H.setUint32(g,vt),g+=4,N.set(ot,g),g+=vt,ae+=4+vt}let le;if(j<h-1)E=l[j+1].dts-F.dts,le=l[j+1].pts-F.pts;else{const xe=this.config,Ee=j>0?F.dts-l[j-1].dts:C;if(le=j>0?F.pts-l[j-1].pts:C,xe.stretchShortVideoTrack&&this.nextAudioTs!==null){const Oe=Math.floor(xe.maxBufferHole*a),ot=(n?S+n*a:this.nextAudioTs+m)-F.pts;ot>Oe?(E=ot-Ee,E<0?E=Ee:se=!0,this.log(`It is approximately ${ot/90} ms to the next segment; using duration ${E/90} ms for the last video frame.`)):E=Ee}else E=Ee}const me=Math.round(F.pts-F.dts);ge=Math.min(ge,E),U=Math.max(U,E),ve=Math.min(ve,le),O=Math.max(O,le),u.push(IT(F.key,E,ae,me))}if(u.length){if(ol){if(ol<70){const j=u[0].flags;j.dependsOn=2,j.isNonSync=0}}else if(t0&&O-ve<U-ge&&C/U<.025&&u[0].cts===0){this.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let j=b;for(let F=0,K=u.length;F<K;F++){const ae=j+u[F].duration,le=j+u[F].cts;if(F<K-1){const me=ae+u[F+1].cts;u[F].duration=me-le}else u[F].duration=F?u[F-1].duration:C;u[F].cts=0,j=ae}}}E=se||!E?C:E;const q=k+E;this.nextVideoTs=p=q-m,this.videoSampleDuration=E,this.isVideoContiguous=!0;const he={data1:X.moof(e.sequenceNumber++,b,Dt(e,{samples:u})),data2:N,startPTS:(S-m)/a,endPTS:(x+E-m)/a,startDTS:(b-m)/a,endDTS:p/a,type:"video",hasAudio:!1,hasVideo:!0,nb:u.length,dropped:e.dropped};return e.samples=[],e.dropped=0,he}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return t$;case"ac3":return i$;default:return e$}}remuxAudio(e,t,s,n,a){const l=e.inputTimeScale,u=e.samplerate?e.samplerate:l,h=l/u,d=this.getSamplesPerFrame(e),m=d*h,p=this._initPTS,g=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,E=[],b=a!==void 0;let k=e.samples,S=g?0:8,x=this.nextAudioTs||-1;const _=p.baseTime*l/p.timescale,w=_+t*l;if(this.isAudioContiguous=s=s||k.length&&x>0&&(n&&Math.abs(w-(x+_))<9e3||Math.abs(ps(k[0].pts,w)-(x+_))<20*m),k.forEach(function(O){O.pts=ps(O.pts,w)}),!s||x<0){const O=k.length;if(k=k.filter(q=>q.pts>=0),O!==k.length&&this.warn(`Removed ${k.length-O} of ${O} samples (initPTS ${_} / ${l})`),!k.length)return;a===0?x=0:n&&!b?x=Math.max(0,w-_):x=k[0].pts-_}if(e.segmentCodec==="aac"){const O=this.config.maxAudioFramesDrift;for(let q=0,W=x+_;q<k.length;q++){const re=k[q],he=re.pts,j=he-W,F=Math.abs(1e3*j/l);if(j<=-O*m&&b)q===0&&(this.warn(`Audio frame @ ${(he/l).toFixed(3)}s overlaps marker by ${Math.round(1e3*j/l)} ms.`),this.nextAudioTs=x=he-_,W=he);else if(j>=O*m&&F<JU&&b){let K=Math.round(j/m);for(W=he-K*m;W<0&&K&&m;)K--,W+=m;q===0&&(this.nextAudioTs=x=W-_),this.warn(`Injecting ${K} audio frames @ ${((W-_)/l).toFixed(3)}s due to ${Math.round(1e3*j/l)} ms gap.`);for(let ae=0;ae<K;ae++){let le=XU.getSilentFrame(e.parsedCodec||e.manifestCodec||e.codec,e.channelCount);le||(this.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),le=re.unit.subarray()),k.splice(q,0,{unit:le,pts:W}),W+=m,q++}}re.pts=W,W+=m}}let R=null,C=null,I,L=0,P=k.length;for(;P--;)L+=k[P].unit.byteLength;for(let O=0,q=k.length;O<q;O++){const W=k[O],re=W.unit;let he=W.pts;if(C!==null){const F=E[O-1];F.duration=Math.round((he-C)/h)}else if(s&&e.segmentCodec==="aac"&&(he=x+_),R=he,L>0){L+=S;try{I=new Uint8Array(L)}catch(F){this.observer.emit(A.ERROR,A.ERROR,{type:Ie.MUX_ERROR,details:Q.REMUX_ALLOC_ERROR,fatal:!1,error:F,bytes:L,reason:`fail allocating audio mdat ${L}`});return}g||(new DataView(I.buffer).setUint32(0,L),I.set(X.types.mdat,4))}else return;I.set(re,S);const j=re.byteLength;S+=j,E.push(IT(!0,d,j,0)),C=he}const M=E.length;if(!M)return;const N=E[E.length-1];x=C-_,this.nextAudioTs=x+h*N.duration;const H=g?new Uint8Array(0):X.moof(e.sequenceNumber++,R/h,Dt({},e,{samples:E}));e.samples=[];const se=(R-_)/l,ge=this.nextAudioTs/l,U={data1:H,data2:I,startPTS:se,endPTS:ge,startDTS:se,endDTS:ge,type:"audio",hasAudio:!0,hasVideo:!1,nb:M};return this.isAudioContiguous=!0,U}}function ps(i,e){let t;if(e===null)return i;for(e<i?t=-8589934592:t=8589934592;Math.abs(i-e)>4294967296;)i+=t;return i}function s$(i){for(let e=0;e<i.length;e++)if(i[e].key)return e;return-1}function U_(i,e,t,s){const n=i.samples.length;if(!n)return;const a=i.inputTimeScale;for(let u=0;u<n;u++){const h=i.samples[u];h.pts=ps(h.pts-t.baseTime*a/t.timescale,e*a)/a,h.dts=ps(h.dts-s.baseTime*a/s.timescale,e*a)/a}const l=i.samples;return i.samples=[],{samples:l}}function $_(i,e,t){const s=i.samples.length;if(!s)return;const n=i.inputTimeScale;for(let l=0;l<s;l++){const u=i.samples[l];u.pts=ps(u.pts-t.baseTime*n/t.timescale,e*n)/n}i.samples.sort((l,u)=>l.pts-u.pts);const a=i.samples;return i.samples=[],{samples:a}}class n$ extends Ps{constructor(e,t,s,n){super("passthrough-remuxer",n),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.isVideoContiguous=!1}destroy(){}resetTimeStamp(e){this.lastEndTime=null;const t=this.initPTS;t&&e&&t.baseTime===e.baseTime&&t.timescale===e.timescale||(this.initPTS=e)}resetNextTimestamp(){this.isVideoContiguous=!1,this.lastEndTime=null}resetInitSegment(e,t,s,n){this.audioCodec=t,this.videoCodec=s,this.generateInitSegment(e,n),this.emitInitSegment=!0}generateInitSegment(e,t){let{audioCodec:s,videoCodec:n}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const{audio:a,video:l}=this.initData=Kw(e);if(t)q4(e,t);else{const h=a||l;h!=null&&h.encrypted&&this.warn(`Init segment with encrypted track with has no key ("${h.codec}")!`)}a&&(s=jT(a,jt.AUDIO,this)),l&&(n=jT(l,jt.VIDEO,this));const u={};a&&l?u.audiovideo={container:"video/mp4",codec:s+","+n,supplemental:l.supplemental,encrypted:l.encrypted,initSegment:e,id:"main"}:a?u.audio={container:"audio/mp4",codec:s,encrypted:a.encrypted,initSegment:e,id:"audio"}:l?u.video={container:"video/mp4",codec:n,supplemental:l.supplemental,encrypted:l.encrypted,initSegment:e,id:"main"}:this.warn("initSegment does not contain moov or trak boxes."),this.initTracks=u}remux(e,t,s,n,a,l){var u,h;let{initPTS:d,lastEndTime:m}=this;const p={audio:void 0,video:void 0,text:n,id3:s,initSegment:void 0};Ae(m)||(m=this.lastEndTime=a||0);const g=t.samples;if(!g.length)return p;const E={initPTS:void 0,timescale:void 0,trackId:void 0};let b=this.initData;if((u=b)!=null&&u.length||(this.generateInitSegment(g),b=this.initData),!((h=b)!=null&&h.length))return this.warn("Failed to generate initSegment."),p;this.emitInitSegment&&(E.tracks=this.initTracks,this.emitInitSegment=!1);const k=K4(g,b,this),S=b.audio?k[b.audio.id]:null,x=b.video?k[b.video.id]:null,_=xh(x,1/0),w=xh(S,1/0),R=xh(x,0,!0),C=xh(S,0,!0);let I=a,L=0;const P=S&&(!x||!d&&w<_||d&&d.trackId===b.audio.id),M=P?S:x;if(M){const W=M.timescale,re=M.start-a*W,he=P?b.audio.id:b.video.id;I=M.start/W,L=P?C-w:R-_,(l||!d)&&(r$(d,I,a,L)||W!==d.timescale)&&(d&&this.warn(`Timestamps at playlist time: ${l?"":"~"}${a} ${re/W} != initPTS: ${d.baseTime/d.timescale} (${d.baseTime}/${d.timescale}) trackId: ${d.trackId}`),this.log(`Found initPTS at playlist time: ${a} offset: ${I-a} (${re}/${W}) trackId: ${he}`),d=null,E.initPTS=re,E.timescale=W,E.trackId=he)}else this.warn(`No audio or video samples found for initPTS at playlist time: ${a}`);d?(E.initPTS=d.baseTime,E.timescale=d.timescale,E.trackId=d.trackId):((!E.timescale||E.trackId===void 0||E.initPTS===void 0)&&(this.warn("Could not set initPTS"),E.initPTS=I,E.timescale=1,E.trackId=-1),this.initPTS=d={baseTime:E.initPTS,timescale:E.timescale,trackId:E.trackId});const N=I-d.baseTime/d.timescale,H=N+L;L>0?this.lastEndTime=H:(this.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const se=!!b.audio,ge=!!b.video;let ve="";se&&(ve+="audio"),ge&&(ve+="video");const U=(b.audio?b.audio.encrypted:!1)||(b.video?b.video.encrypted:!1),O={data1:g,startPTS:N,startDTS:N,endPTS:H,endDTS:H,type:ve,hasAudio:se,hasVideo:ge,nb:1,dropped:0,encrypted:U};p.audio=se&&!ge?O:void 0,p.video=ge?O:void 0;const q=x==null?void 0:x.sampleCount;if(q){const W=x.keyFrameIndex,re=W!==-1;O.nb=q,O.dropped=W===0||this.isVideoContiguous?0:re?W:q,O.independent=re,O.firstKeyFrame=W,re&&x.keyFrameStart&&(O.firstKeyFramePTS=(x.keyFrameStart-d.baseTime)/d.timescale),this.isVideoContiguous||(p.independent=re),this.isVideoContiguous||(this.isVideoContiguous=re),O.dropped&&this.warn(`fmp4 does not start with IDR: firstIDR ${W}/${q} dropped: ${O.dropped} start: ${O.firstKeyFramePTS||"NA"}`)}return p.initSegment=E,p.id3=U_(s,a,d,d),n.samples.length&&(p.text=$_(n,a,d)),p}}function xh(i,e,t=!1){return(i==null?void 0:i.start)!==void 0?(i.start+(t?i.duration:0))/i.timescale:e}function r$(i,e,t,s){if(i===null)return!0;const n=Math.max(s,1),a=e-i.baseTime/i.timescale;return Math.abs(a-t)>n}function jT(i,e,t){const s=i.codec;return s&&s.length>4?s:e===jt.AUDIO?s==="ec-3"||s==="ac-3"||s==="alac"?s:s==="fLaC"||s==="Opus"?Af(s,!1):(t.warn(`Unhandled audio codec "${s}" in mp4 MAP`),s||"mp4a"):(t.warn(`Unhandled video codec "${s}" in mp4 MAP`),s||"avc1")}let er;try{er=self.performance.now.bind(self.performance)}catch{er=Date.now}const Xh=[{demux:HU,remux:n$},{demux:zr,remux:Wh},{demux:UU,remux:Wh},{demux:zU,remux:Wh}];Xh.splice(2,0,{demux:$U,remux:Wh});class OT{constructor(e,t,s,n,a,l){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=t,this.config=s,this.id=a,this.logger=l}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,t,s,n){const a=s.transmuxing;a.executeStart=er();let l=new Uint8Array(e);const{currentTransmuxState:u,transmuxConfig:h}=this;n&&(this.currentTransmuxState=n);const{contiguous:d,discontinuity:m,trackSwitch:p,accurateTimeOffset:g,timeOffset:E,initSegmentChange:b}=n||u,{audioCodec:k,videoCodec:S,defaultInitPts:x,duration:_,initSegmentData:w}=h,R=a$(l,t);if(R&&El(R.method)){const P=this.getDecrypter(),M=rv(R.method);if(P.isSync()){let N=P.softwareDecrypt(l,R.key.buffer,R.iv.buffer,M);if(s.part>-1){const se=P.flush();N=se&&se.buffer}if(!N)return a.executeEnd=er(),i0(s);l=new Uint8Array(N)}else return this.asyncResult=!0,this.decryptionPromise=P.webCryptoDecrypt(l,R.key.buffer,R.iv.buffer,M).then(N=>{const H=this.push(N,null,s);return this.decryptionPromise=null,H}),this.decryptionPromise}const C=this.needsProbing(m,p);if(C){const P=this.configureTransmuxer(l);if(P)return this.logger.warn(`[transmuxer] ${P.message}`),this.observer.emit(A.ERROR,A.ERROR,{type:Ie.MEDIA_ERROR,details:Q.FRAG_PARSING_ERROR,fatal:!1,error:P,reason:P.message}),a.executeEnd=er(),i0(s)}(m||p||b||C)&&this.resetInitSegment(w,k,S,_,t),(m||b||C)&&this.resetInitialTimestamp(x),d||this.resetContiguity();const I=this.transmux(l,R,E,g,s);this.asyncResult=Nc(I);const L=this.currentTransmuxState;return L.contiguous=!0,L.discontinuity=!1,L.trackSwitch=!1,a.executeEnd=er(),I}flush(e){const t=e.transmuxing;t.executeStart=er();const{decrypter:s,currentTransmuxState:n,decryptionPromise:a}=this;if(a)return this.asyncResult=!0,a.then(()=>this.flush(e));const l=[],{timeOffset:u}=n;if(s){const p=s.flush();p&&l.push(this.push(p.buffer,null,e))}const{demuxer:h,remuxer:d}=this;if(!h||!d){t.executeEnd=er();const p=[i0(e)];return this.asyncResult?Promise.resolve(p):p}const m=h.flush(u);return Nc(m)?(this.asyncResult=!0,m.then(p=>(this.flushRemux(l,p,e),l))):(this.flushRemux(l,m,e),this.asyncResult?Promise.resolve(l):l)}flushRemux(e,t,s){const{audioTrack:n,videoTrack:a,id3Track:l,textTrack:u}=t,{accurateTimeOffset:h,timeOffset:d}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${s.sn}${s.part>-1?" part: "+s.part:""} of ${this.id===Re.MAIN?"level":"track"} ${s.level}`);const m=this.remuxer.remux(n,a,l,u,d,h,!0,this.id);e.push({remuxResult:m,chunkMeta:s}),s.transmuxing.executeEnd=er()}resetInitialTimestamp(e){const{demuxer:t,remuxer:s}=this;!t||!s||(t.resetTimeStamp(e),s.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:t}=this;!e||!t||(e.resetContiguity(),t.resetNextTimestamp())}resetInitSegment(e,t,s,n,a){const{demuxer:l,remuxer:u}=this;!l||!u||(l.resetInitSegment(e,t,s,n),u.resetInitSegment(e,t,s,a))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,t,s,n,a){let l;return t&&t.method==="SAMPLE-AES"?l=this.transmuxSampleAes(e,t,s,n,a):l=this.transmuxUnencrypted(e,s,n,a),l}transmuxUnencrypted(e,t,s,n){const{audioTrack:a,videoTrack:l,id3Track:u,textTrack:h}=this.demuxer.demux(e,t,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(a,l,u,h,t,s,!1,this.id),chunkMeta:n}}transmuxSampleAes(e,t,s,n,a){return this.demuxer.demuxSampleAes(e,t,s).then(l=>({remuxResult:this.remuxer.remux(l.audioTrack,l.videoTrack,l.id3Track,l.textTrack,s,n,!1,this.id),chunkMeta:a}))}configureTransmuxer(e){const{config:t,observer:s,typeSupported:n}=this;let a;for(let p=0,g=Xh.length;p<g;p++){var l;if((l=Xh[p].demux)!=null&&l.probe(e,this.logger)){a=Xh[p];break}}if(!a)return new Error("Failed to find demuxer by probing fragment data");const u=this.demuxer,h=this.remuxer,d=a.remux,m=a.demux;(!h||!(h instanceof d))&&(this.remuxer=new d(s,t,n,this.logger)),(!u||!(u instanceof m))&&(this.demuxer=new m(s,t,n,this.logger),this.probe=m.probe)}needsProbing(e,t){return!this.demuxer||!this.remuxer||e||t}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new sv(this.config)),e}}function a$(i,e){let t=null;return i.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(t=e),t}const i0=i=>({remuxResult:{},chunkMeta:i});function Nc(i){return"then"in i&&i.then instanceof Function}class o${constructor(e,t,s,n,a){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=s,this.duration=n,this.defaultInitPts=a||null}}class l${constructor(e,t,s,n,a,l){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=s,this.trackSwitch=n,this.timeOffset=a,this.initSegmentChange=l}}let MT=0;class z_{constructor(e,t,s,n){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=MT++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=h=>{const d=h.data,m=this.hls;if(!(!m||!(d!=null&&d.event)||d.instanceNo!==this.instanceNo))switch(d.event){case"init":{var p;const g=(p=this.workerContext)==null?void 0:p.objectURL;g&&self.URL.revokeObjectURL(g);break}case"transmuxComplete":{this.handleTransmuxComplete(d.data);break}case"flush":{this.onFlush(d.data);break}case"workerLog":{m.logger[d.data.logType]&&m.logger[d.data.logType](d.data.message);break}default:{d.data=d.data||{},d.data.frag=this.frag,d.data.part=this.part,d.data.id=this.id,m.trigger(d.event,d.data);break}}},this.onWorkerError=h=>{if(!this.hls)return;const d=new Error(`${h.message}  (${h.filename}:${h.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(A.ERROR,{type:Ie.OTHER_ERROR,details:Q.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:d})};const a=e.config;this.hls=e,this.id=t,this.useWorker=!!a.enableWorker,this.onTransmuxComplete=s,this.onFlush=n;const l=(h,d)=>{d=d||{},d.frag=this.frag||void 0,h===A.ERROR&&(d=d,d.parent=this.id,d.part=this.part,this.error=d.error),this.hls.trigger(h,d)};this.observer=new lv,this.observer.on(A.FRAG_DECRYPTED,l),this.observer.on(A.ERROR,l);const u=Xx(a.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){const h=this.hls.logger;if(a.workerPath||hU()){try{a.workerPath?(h.log(`loading Web Worker ${a.workerPath} for "${t}"`),this.workerContext=mU(a.workerPath)):(h.log(`injecting Web Worker for "${t}"`),this.workerContext=fU());const{worker:m}=this.workerContext;m.addEventListener("message",this.onWorkerMessage),m.addEventListener("error",this.onWorkerError),m.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:u,id:t,config:Ot(a)})}catch(m){h.warn(`Error setting up "${t}" Web Worker, fallback to inline`,m),this.terminateWorker(),this.error=null,this.transmuxer=new OT(this.observer,u,a,"",t,e.logger)}return}}this.transmuxer=new OT(this.observer,u,a,"",t,e.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const e=this.instanceNo;this.instanceNo=MT++;const t=this.hls.config,s=Xx(t.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:e,typeSupported:s,id:this.id,config:Ot(t)})}}terminateWorker(){if(this.workerContext){const{worker:e}=this.workerContext;this.workerContext=null,e.removeEventListener("message",this.onWorkerMessage),e.removeEventListener("error",this.onWorkerError),pU(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(e,t,s,n,a,l,u,h,d,m){var p,g;d.transmuxing.start=self.performance.now();const{instanceNo:E,transmuxer:b}=this,k=l?l.start:a.start,S=a.decryptdata,x=this.frag,_=!(x&&a.cc===x.cc),w=!(x&&d.level===x.level),R=x?d.sn-x.sn:-1,C=this.part?d.part-this.part.index:-1,I=R===0&&d.id>1&&d.id===(x==null?void 0:x.stats.chunkCount),L=!w&&(R===1||R===0&&(C===1||I&&C<=0)),P=self.performance.now();(w||R||a.stats.parsing.start===0)&&(a.stats.parsing.start=P),l&&(C||!L)&&(l.stats.parsing.start=P);const M=!(x&&((p=a.initSegment)==null?void 0:p.url)===((g=x.initSegment)==null?void 0:g.url)),N=new l$(_,L,h,w,k,M);if(!L||_||M){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${a.type} sn: ${d.sn}${d.part>-1?" part: "+d.part:""} ${this.id===Re.MAIN?"level":"track"}: ${d.level} id: ${d.id}
        discontinuity: ${_}
        trackSwitch: ${w}
        contiguous: ${L}
        accurateTimeOffset: ${h}
        timeOffset: ${k}
        initSegmentChange: ${M}`);const H=new o$(s,n,t,u,m);this.configureTransmuxer(H)}if(this.frag=a,this.part=l,this.workerContext)this.workerContext.worker.postMessage({instanceNo:E,cmd:"demux",data:e,decryptdata:S,chunkMeta:d,state:N},e instanceof ArrayBuffer?[e]:[]);else if(b){const H=b.push(e,S,d,N);Nc(H)?H.then(se=>{this.handleTransmuxComplete(se)}).catch(se=>{this.transmuxerError(se,d,"transmuxer-interface push error")}):this.handleTransmuxComplete(H)}}flush(e){e.transmuxing.start=self.performance.now();const{instanceNo:t,transmuxer:s}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:t,cmd:"flush",chunkMeta:e});else if(s){const n=s.flush(e);Nc(n)?n.then(a=>{this.handleFlushResult(a,e)}).catch(a=>{this.transmuxerError(a,e,"transmuxer-interface flush error")}):this.handleFlushResult(n,e)}}transmuxerError(e,t,s){this.hls&&(this.error=e,this.hls.trigger(A.ERROR,{type:Ie.MEDIA_ERROR,details:Q.FRAG_PARSING_ERROR,chunkMeta:t,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:e,err:e,reason:s}))}handleFlushResult(e,t){e.forEach(s=>{this.handleTransmuxComplete(s)}),this.onFlush(t)}configureTransmuxer(e){const{instanceNo:t,transmuxer:s}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:t,cmd:"configure",config:e}):s&&s.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const PT=100;class u$ extends ov{constructor(e,t,s){super(e,t,s,"audio-stream-controller",Re.AUDIO),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(A.LEVEL_LOADED,this.onLevelLoaded,this),e.on(A.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(A.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(A.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(A.BUFFER_RESET,this.onBufferReset,this),e.on(A.BUFFER_CREATED,this.onBufferCreated,this),e.on(A.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(A.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(A.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(A.FRAG_LOADING,this.onFragLoading,this),e.on(A.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:e}=this;e&&(super.unregisterListeners(),e.off(A.LEVEL_LOADED,this.onLevelLoaded,this),e.off(A.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(A.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(A.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(A.BUFFER_RESET,this.onBufferReset,this),e.off(A.BUFFER_CREATED,this.onBufferCreated,this),e.off(A.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(A.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(A.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(A.FRAG_LOADING,this.onFragLoading,this),e.off(A.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(e,{frag:t,id:s,initPTS:n,timescale:a,trackId:l}){if(s===Re.MAIN){const u=t.cc,h=this.fragCurrent;if(this.initPTS[u]={baseTime:n,timescale:a,trackId:l},this.log(`InitPTS for cc: ${u} found from main: ${n/a} (${n}/${a}) trackId: ${l}`),this.mainAnchor=t,this.state===ce.WAITING_INIT_PTS){const d=this.waitingData;(!d&&!this.loadingParts||d&&d.frag.cc!==u)&&this.syncWithAnchor(t,d==null?void 0:d.frag)}else!this.hls.hasEnoughToStart&&h&&h.cc!==u?(h.abortRequests(),this.syncWithAnchor(t,h)):this.state===ce.IDLE&&this.tick()}}getLoadPosition(){return!this.startFragRequested&&this.nextLoadPosition>=0?this.nextLoadPosition:super.getLoadPosition()}syncWithAnchor(e,t){var s;const n=((s=this.mainFragLoading)==null?void 0:s.frag)||null;if(t&&(n==null?void 0:n.cc)===t.cc)return;const a=(n||e).cc,l=this.getLevelDetails(),u=this.getLoadPosition(),h=n_(l,a,u);h&&(this.log(`Syncing with main frag at ${h.start} cc ${h.cc}`),this.startFragRequested=!1,this.nextLoadPosition=h.start,this.resetLoadingState(),this.state===ce.IDLE&&this.doTickIdle())}startLoad(e,t){if(!this.levels){this.startPosition=e,this.state=ce.STOPPED;return}const s=this.lastCurrentTime;this.stopLoad(),this.setInterval(PT),s>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${s.toFixed(3)}`),e=s,this.state=ce.IDLE):this.state=ce.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}doTick(){switch(this.state){case ce.IDLE:this.doTickIdle();break;case ce.WAITING_TRACK:{const{levels:e,trackId:t}=this,s=e==null?void 0:e[t],n=s==null?void 0:s.details;if(n&&!this.waitForLive(s)){if(this.waitForCdnTuneIn(n))break;this.state=ce.WAITING_INIT_PTS}break}case ce.FRAG_LOADING_WAITING_RETRY:{this.checkRetryDate();break}case ce.WAITING_INIT_PTS:{const e=this.waitingData;if(e){const{frag:t,part:s,cache:n,complete:a}=e,l=this.mainAnchor;if(this.initPTS[t.cc]!==void 0){this.waitingData=null,this.state=ce.FRAG_LOADING;const u=n.flush().buffer,h={frag:t,part:s,payload:u,networkDetails:null};this._handleFragmentLoadProgress(h),a&&super._handleFragmentLoadComplete(h)}else l&&l.cc!==e.frag.cc&&this.syncWithAnchor(l,e.frag)}else this.state=ce.IDLE}}this.onTickEnd()}resetLoadingState(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){var e;const{hls:t,levels:s,media:n,trackId:a}=this,l=t.config;if(!this.buffering||!n&&!this.primaryPrefetch&&(this.startFragRequested||!l.startFragPrefetch)||!(s!=null&&s[a]))return;const u=s[a],h=u.details;if(!h||this.waitForLive(u)||this.waitForCdnTuneIn(h)){this.state=ce.WAITING_TRACK,this.startFragRequested=!1;return}const d=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&d&&(this.bufferFlushed=!1,this.afterBufferFlushed(d,jt.AUDIO,Re.AUDIO));const m=this.getFwdBufferInfo(d,Re.AUDIO);if(m===null)return;if(!this.switchingTrack&&this._streamEnded(m,h)){t.trigger(A.BUFFER_EOS,{type:"audio"}),this.state=ce.ENDED;return}const p=m.len,g=t.maxBufferLength,E=h.fragments,b=E[0].start,k=this.getLoadPosition(),S=this.flushing?k:m.end;if(this.switchingTrack&&n){const w=k;h.PTSKnown&&w<b&&(m.end>b||m.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),n.currentTime=b+.05)}if(p>=g&&!this.switchingTrack&&S<E[E.length-1].start)return;let x=this.getNextFragment(S,h);if(x&&this.isLoopLoading(x,S)&&(x=this.getNextFragmentLoopLoading(x,h,m,Re.MAIN,g)),!x){this.bufferFlushed=!0;return}let _=((e=this.mainFragLoading)==null?void 0:e.frag)||null;if(!this.audioOnly&&this.startFragRequested&&_&&Qt(x)&&!x.endList&&(!h.live||!this.loadingParts&&S<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(_)===li.OK&&(this.mainFragLoading=_=null),_&&Qt(_))){if(x.start>_.end){const R=this.fragmentTracker.getFragAtPos(S,Re.MAIN);R&&R.end>_.end&&(_=R,this.mainFragLoading={frag:R,targetBufferTime:null})}if(x.start>_.end)return}this.loadFragment(x,u,S)}onMediaDetaching(e,t){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(e,t)}onAudioTracksUpdated(e,{audioTracks:t}){this.resetTransmuxer(),this.levels=t.map(s=>new Oc(s))}onAudioTrackSwitching(e,t){const s=!!t.url;this.trackId=t.id;const{fragCurrent:n}=this;n&&(n.abortRequests(),this.removeUnbufferedFrags(n.start)),this.resetLoadingState(),s?(this.switchingTrack=t,this.flushAudioIfNeeded(t),this.state!==ce.STOPPED&&(this.setInterval(PT),this.state=ce.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=t,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(e,t){this.mainDetails=t.details;const s=this.cachedTrackLoadedData;s&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(A.AUDIO_TRACK_LOADED,s))}onAudioTrackLoaded(e,t){var s;const{levels:n}=this,{details:a,id:l,groupId:u,track:h}=t;if(!n){this.warn(`Audio tracks reset while loading track ${l} "${h.name}" of "${u}"`);return}const d=this.mainDetails;if(!d||a.endCC>d.endCC||d.expired){this.cachedTrackLoadedData=t,this.state!==ce.STOPPED&&(this.state=ce.WAITING_TRACK);return}this.cachedTrackLoadedData=null,this.log(`Audio track ${l} "${h.name}" of "${u}" loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""},duration:${a.totalduration}`);const m=n[l];let p=0;if(a.live||(s=m.details)!=null&&s.live){if(this.checkLiveUpdate(a),a.deltaUpdateFailed)return;if(m.details){var g;p=this.alignPlaylists(a,m.details,(g=this.levelLastLoaded)==null?void 0:g.details)}a.alignedSliding||(S_(a,d),a.alignedSliding||If(a,d),p=a.fragmentStart)}m.details=a,this.levelLastLoaded=m,this.startFragRequested||this.setStartPosition(d,p),this.hls.trigger(A.AUDIO_TRACK_UPDATED,{details:a,id:l,groupId:t.groupId}),this.state===ce.WAITING_TRACK&&!this.waitForCdnTuneIn(a)&&(this.state=ce.IDLE),this.tick()}_handleFragmentLoadProgress(e){var t;const s=e.frag,{part:n,payload:a}=e,{config:l,trackId:u,levels:h}=this;if(!h){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${s.sn} of level ${s.level} will not be buffered`);return}const d=h[u];if(!d){this.warn("Audio track is undefined on fragment load progress");return}const m=d.details;if(!m){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(s.start);return}const p=l.defaultAudioCodec||d.audioCodec||"mp4a.40.2";let g=this.transmuxer;g||(g=this.transmuxer=new z_(this.hls,Re.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const E=this.initPTS[s.cc],b=(t=s.initSegment)==null?void 0:t.data;if(E!==void 0){const S=n?n.index:-1,x=S!==-1,_=new nv(s.level,s.sn,s.stats.chunkCount,a.byteLength,S,x);g.push(a,b,p,"",s,n,m.totalduration,!1,_,E)}else{this.log(`Unknown video PTS for cc ${s.cc}, waiting for video PTS before demuxing audio frag ${s.sn} of [${m.startSN} ,${m.endSN}],track ${u}`);const{cache:k}=this.waitingData=this.waitingData||{frag:s,part:n,cache:new x_,complete:!1};k.push(new Uint8Array(a)),this.state!==ce.STOPPED&&(this.state=ce.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(e,t){this.bufferFlushed=this.flushing=!1;const s=t.tracks.audio;s&&(this.mediaBuffer=s.buffer||null)}onFragLoading(e,t){!this.audioOnly&&t.frag.type===Re.MAIN&&Qt(t.frag)&&(this.mainFragLoading=t,this.state===ce.IDLE&&this.tick())}onFragBuffered(e,t){const{frag:s,part:n}=t;if(s.type!==Re.AUDIO){!this.audioOnly&&s.type===Re.MAIN&&!s.elementaryStreams.video&&!s.elementaryStreams.audiovideo&&(this.audioOnly=!0,this.mainFragLoading=null);return}if(this.fragContextChanged(s)){this.warn(`Fragment ${s.sn}${n?" p: "+n.index:""} of level ${s.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(Qt(s)){this.fragPrevious=s;const a=this.switchingTrack;a&&(this.bufferedTrack=a,this.switchingTrack=null,this.hls.trigger(A.AUDIO_TRACK_SWITCHED,wt({},a)))}this.fragBufferedComplete(s,n),this.media&&this.tick()}onError(e,t){var s;if(t.fatal){this.state=ce.ERROR;return}switch(t.details){case Q.FRAG_GAP:case Q.FRAG_PARSING_ERROR:case Q.FRAG_DECRYPT_ERROR:case Q.FRAG_LOAD_ERROR:case Q.FRAG_LOAD_TIMEOUT:case Q.KEY_LOAD_ERROR:case Q.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Re.AUDIO,t);break;case Q.AUDIO_TRACK_LOAD_ERROR:case Q.AUDIO_TRACK_LOAD_TIMEOUT:case Q.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===ce.WAITING_TRACK&&((s=t.context)==null?void 0:s.type)===st.AUDIO_TRACK&&(this.state=ce.IDLE);break;case Q.BUFFER_ADD_CODEC_ERROR:case Q.BUFFER_APPEND_ERROR:if(t.parent!=="audio")return;this.reduceLengthAndFlushBuffer(t)||this.resetLoadingState();break;case Q.BUFFER_FULL_ERROR:if(t.parent!=="audio")return;this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case Q.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}onBufferFlushing(e,{type:t}){t!==jt.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:t}){if(t!==jt.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===ce.ENDED&&(this.state=ce.IDLE);const s=this.mediaBuffer||this.media;s&&(this.afterBufferFlushed(s,t,Re.AUDIO),this.tick())}}_handleTransmuxComplete(e){var t;const s="audio",{hls:n}=this,{remuxResult:a,chunkMeta:l}=e,u=this.getCurrentContext(l);if(!u){this.resetWhenMissingContext(l);return}const{frag:h,part:d,level:m}=u,{details:p}=m,{audio:g,text:E,id3:b,initSegment:k}=a;if(this.fragContextChanged(h)||!p){this.fragmentTracker.removeFragment(h);return}if(this.state=ce.PARSING,this.switchingTrack&&g&&this.completeAudioSwitch(this.switchingTrack),k!=null&&k.tracks){const S=h.initSegment||h;if(this.unhandledEncryptionError(k,h))return;this._bufferInitSegment(m,k.tracks,S,l),n.trigger(A.FRAG_PARSING_INIT_SEGMENT,{frag:S,id:s,tracks:k.tracks})}if(g){const{startPTS:S,endPTS:x,startDTS:_,endDTS:w}=g;d&&(d.elementaryStreams[jt.AUDIO]={startPTS:S,endPTS:x,startDTS:_,endDTS:w}),h.setElementaryStreamInfo(jt.AUDIO,S,x,_,w),this.bufferFragmentData(g,h,d,l)}if(b!=null&&(t=b.samples)!=null&&t.length){const S=Dt({id:s,frag:h,details:p},b);n.trigger(A.FRAG_PARSING_METADATA,S)}if(E){const S=Dt({id:s,frag:h,details:p},E);n.trigger(A.FRAG_PARSING_USERDATA,S)}}_bufferInitSegment(e,t,s,n){if(this.state!==ce.PARSING||(t.video&&delete t.video,t.audiovideo&&delete t.audiovideo,!t.audio))return;const a=t.audio;a.id=Re.AUDIO;const l=e.audioCodec;this.log(`Init audio buffer, container:${a.container}, codecs[level/parsed]=[${l}/${a.codec}]`),l&&l.split(",").length===1&&(a.levelCodec=l),this.hls.trigger(A.BUFFER_CODECS,t);const u=a.initSegment;if(u!=null&&u.byteLength){const h={type:"audio",frag:s,part:null,chunkMeta:n,parent:s.type,data:u};this.hls.trigger(A.BUFFER_APPENDING,h)}this.tickImmediate()}loadFragment(e,t,s){const n=this.fragmentTracker.getState(e);if(this.switchingTrack||n===li.NOT_LOADED||n===li.PARTIAL){var a;if(!Qt(e))this._loadInitSegment(e,t);else if((a=t.details)!=null&&a.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=ce.WAITING_INIT_PTS;const l=this.mainDetails;l&&l.fragmentStart!==t.details.fragmentStart&&If(t.details,l)}else super.loadFragment(e,t,s)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:t,lang:s,assocLang:n,characteristics:a,audioCodec:l,channels:u}=this.bufferedTrack;eo({name:t,lang:s,assocLang:n,characteristics:a,audioCodec:l,channels:u},e,Na)||(_f(e.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=e)}}completeAudioSwitch(e){const{hls:t}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,t.trigger(A.AUDIO_TRACK_SWITCHED,wt({},e))}}class pv extends Ps{constructor(e,t){super(t,e.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,t,s){const n=t==null?void 0:t.renditionReports;if(n){let a=-1;for(let l=0;l<n.length;l++){const u=n[l];let h;try{h=new self.URL(u.URI,t.url).href}catch(d){this.warn(`Could not construct new URL for Rendition Report: ${d}`),h=u.URI||""}if(h===e){a=l;break}else h===e.substring(0,h.length)&&(a=l)}if(a!==-1){const l=n[a],u=parseInt(l["LAST-MSN"])||t.lastPartSn;let h=parseInt(l["LAST-PART"])||t.lastPartIndex;if(this.hls.config.lowLatencyMode){const m=Math.min(t.age-t.partTarget,t.targetduration);h>=0&&m>t.partTarget&&(h+=1)}const d=s&&Qx(s);return new Zx(u,h>=0?h:void 0,d)}}}loadPlaylist(e){this.clearTimer()}loadingPlaylist(e,t){this.clearTimer()}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}getUrlWithDirectives(e,t){if(t)try{return t.addDirectives(e)}catch(s){this.warn(`Could not construct new URL with HLS Delivery Directives: ${s}`)}return e}playlistLoaded(e,t,s){const{details:n,stats:a}=t,l=self.performance.now(),u=a.loading.first?Math.max(0,l-a.loading.first):0;n.advancedDateTime=Date.now()-u;const h=this.hls.config.timelineOffset;if(h!==n.appliedTimelineOffset){const m=Math.max(h||0,0);n.appliedTimelineOffset=m,n.fragments.forEach(p=>{p.setStart(p.playlistOffset+m)})}if(n.live||s!=null&&s.live){const m="levelInfo"in t?t.levelInfo:t.track;if(n.reloaded(s),s&&n.fragments.length>0){tU(s,n,this);const _=n.playlistParsingError;if(_){this.warn(_);const w=this.hls;if(!w.config.ignorePlaylistParsingErrors){var d;const{networkDetails:R}=t;w.trigger(A.ERROR,{type:Ie.NETWORK_ERROR,details:Q.LEVEL_PARSING_ERROR,fatal:!1,url:n.url,error:_,reason:_.message,level:t.level||void 0,parent:(d=n.fragments[0])==null?void 0:d.type,networkDetails:R,stats:a});return}n.playlistParsingError=null}}n.requestScheduled===-1&&(n.requestScheduled=a.loading.start);const p=this.hls.mainForwardBufferInfo,g=p?p.end-p.len:0,E=(n.edge-g)*1e3,b=y_(n,E);if(n.requestScheduled+b<l?n.requestScheduled=l:n.requestScheduled+=b,this.log(`live playlist ${e} ${n.advanced?"REFRESHED "+n.lastPartSn+"-"+n.lastPartIndex:n.updated?"UPDATED":"MISSED"}`),!this.canLoad||!n.live)return;let k,S,x;if(n.canBlockReload&&n.endSN&&n.advanced){const _=this.hls.config.lowLatencyMode,w=n.lastPartSn,R=n.endSN,C=n.lastPartIndex,I=C!==-1,L=w===R;I?L?(S=R+1,x=_?0:C):(S=w,x=_?C+1:n.maxPartIndex):S=R+1;const P=n.age,M=P+n.ageHeader;let N=Math.min(M-n.partTarget,n.targetduration*1.5);if(N>0){if(M>n.targetduration*3)this.log(`Playlist last advanced ${P.toFixed(2)}s ago. Omitting segment and part directives.`),S=void 0,x=void 0;else if(s!=null&&s.tuneInGoal&&M-n.partTarget>s.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${s.tuneInGoal} to: ${N} with playlist age: ${n.age}`),N=0;else{const H=Math.floor(N/n.targetduration);if(S+=H,x!==void 0){const se=Math.round(N%n.targetduration/n.partTarget);x+=se}this.log(`CDN Tune-in age: ${n.ageHeader}s last advanced ${P.toFixed(2)}s goal: ${N} skip sn ${H} to part ${x}`)}n.tuneInGoal=N}if(k=this.getDeliveryDirectives(n,t.deliveryDirectives,S,x),_||!L){n.requestScheduled=l,this.loadingPlaylist(m,k);return}}else(n.canBlockReload||n.canSkipUntil)&&(k=this.getDeliveryDirectives(n,t.deliveryDirectives,S,x));k&&S!==void 0&&n.canBlockReload&&(n.requestScheduled=a.loading.first+Math.max(b-u*2,b/2)),this.scheduleLoading(m,k,n)}else this.clearTimer()}scheduleLoading(e,t,s){const n=s||e.details;if(!n){this.loadingPlaylist(e,t);return}const a=self.performance.now(),l=n.requestScheduled;if(a>=l){this.loadingPlaylist(e,t);return}const u=l-a;this.log(`reload live playlist ${e.name||e.bitrate+"bps"} in ${Math.round(u)} ms`),this.clearTimer(),this.timer=self.setTimeout(()=>this.loadingPlaylist(e,t),u)}getDeliveryDirectives(e,t,s,n){let a=Qx(e);return t!=null&&t.skip&&e.deltaUpdateFailed&&(s=t.msn,n=t.part,a=Kh.No),new Zx(s,n,a)}checkRetry(e){const t=e.details,s=Rf(e),n=e.errorAction,{action:a,retryCount:l=0,retryConfig:u}=n||{},h=!!n&&!!u&&(a===Si.RetryRequest||!n.resolved&&a===Si.SendAlternateToPenaltyBox);if(h){var d;if(l>=u.maxNumRetry)return!1;if(s&&(d=e.context)!=null&&d.deliveryDirectives)this.warn(`Retrying playlist loading ${l+1}/${u.maxNumRetry} after "${t}" without delivery-directives`),this.loadPlaylist();else{const m=iv(u,l);this.clearTimer(),this.timer=self.setTimeout(()=>this.loadPlaylist(),m),this.warn(`Retrying playlist loading ${l+1}/${u.maxNumRetry} after "${t}" in ${m}ms`)}e.levelRetry=!0,n.resolved=!0}return h}}function G_(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(!Fc(i[t].attrs,e[t].attrs))return!1;return!0}function Fc(i,e,t){const s=i["STABLE-RENDITION-ID"];return s&&!t?s===e["STABLE-RENDITION-ID"]:!(t||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(n=>i[n]!==e[n])}function fy(i,e){return e.label.toLowerCase()===i.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(i.lang||"").toLowerCase())}class c$ extends pv{constructor(e){super(e,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.MANIFEST_PARSED,this.onManifestParsed,this),e.on(A.LEVEL_LOADING,this.onLevelLoading,this),e.on(A.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(A.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(A.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.MANIFEST_PARSED,this.onManifestParsed,this),e.off(A.LEVEL_LOADING,this.onLevelLoading,this),e.off(A.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(A.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(A.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.audioTracks||[]}onAudioTrackLoaded(e,t){const{id:s,groupId:n,details:a}=t,l=this.tracksInGroup[s];if(!l||l.groupId!==n){this.warn(`Audio track with id:${s} and group:${n} not found in active group ${l==null?void 0:l.groupId}`);return}const u=l.details;l.details=t.details,this.log(`Audio track ${s} "${l.name}" lang:${l.lang} group:${n} loaded [${a.startSN}-${a.endSN}]`),s===this.trackId&&this.playlistLoaded(s,t,u)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const s=t.audioGroups||null,n=this.groupIds;let a=this.currentTrack;if(!s||(n==null?void 0:n.length)!==(s==null?void 0:s.length)||s!=null&&s.some(u=>(n==null?void 0:n.indexOf(u))===-1)){this.groupIds=s,this.trackId=-1,this.currentTrack=null;const u=this.tracks.filter(g=>!s||s.indexOf(g.groupId)!==-1);if(u.length)this.selectDefaultTrack&&!u.some(g=>g.default)&&(this.selectDefaultTrack=!1),u.forEach((g,E)=>{g.id=E});else if(!a&&!this.tracksInGroup.length)return;this.tracksInGroup=u;const h=this.hls.config.audioPreference;if(!a&&h){const g=Sn(h,u,Na);if(g>-1)a=u[g];else{const E=Sn(h,this.tracks);a=this.tracks[E]}}let d=this.findTrackId(a);d===-1&&a&&(d=this.findTrackId(null));const m={audioTracks:u};this.log(`Updating audio tracks, ${u.length} track(s) found in group(s): ${s==null?void 0:s.join(",")}`),this.hls.trigger(A.AUDIO_TRACKS_UPDATED,m);const p=this.trackId;if(d!==-1&&p===-1)this.setAudioTrack(d);else if(u.length&&p===-1){var l;const g=new Error(`No audio track selected for current audio group-ID(s): ${(l=this.groupIds)==null?void 0:l.join(",")} track count: ${u.length}`);this.warn(g.message),this.hls.trigger(A.ERROR,{type:Ie.MEDIA_ERROR,details:Q.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:g})}}}onError(e,t){t.fatal||!t.context||t.context.type===st.AUDIO_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&this.checkRetry(t)}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const t=this.hls;if(t.config.audioPreference=e,e){const s=this.allAudioTracks;if(this.selectDefaultTrack=!1,s.length){const n=this.currentTrack;if(n&&eo(e,n,Na))return n;const a=Sn(e,this.tracksInGroup,Na);if(a>-1){const l=this.tracksInGroup[a];return this.setAudioTrack(a),l}else if(n){let l=t.loadLevel;l===-1&&(l=t.firstAutoLevel);const u=SB(e,t.levels,s,l,Na);if(u===-1)return null;t.nextLoadLevel=u}if(e.channels||e.audioCodec){const l=Sn(e,s);if(l>-1)return s[l]}}}return null}setAudioTrack(e){const t=this.tracksInGroup;if(e<0||e>=t.length){this.warn(`Invalid audio track id: ${e}`);return}this.selectDefaultTrack=!1;const s=this.currentTrack,n=t[e],a=n.details&&!n.details.live;if(e===this.trackId&&n===s&&a||(this.log(`Switching to audio-track ${e} "${n.name}" lang:${n.lang} group:${n.groupId} channels:${n.channels}`),this.trackId=e,this.currentTrack=n,this.hls.trigger(A.AUDIO_TRACK_SWITCHING,wt({},n)),a))return;const l=this.switchParams(n.url,s==null?void 0:s.details,n.details);this.loadPlaylist(l)}findTrackId(e){const t=this.tracksInGroup;for(let s=0;s<t.length;s++){const n=t[s];if(!(this.selectDefaultTrack&&!n.default)&&(!e||eo(e,n,Na)))return s}if(e){const{name:s,lang:n,assocLang:a,characteristics:l,audioCodec:u,channels:h}=e;for(let d=0;d<t.length;d++){const m=t[d];if(eo({name:s,lang:n,assocLang:a,characteristics:l,audioCodec:u,channels:h},m,Na))return d}for(let d=0;d<t.length;d++){const m=t[d];if(Fc(e.attrs,m.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return d}for(let d=0;d<t.length;d++){const m=t[d];if(Fc(e.attrs,m.attrs,["LANGUAGE"]))return d}}return-1}loadPlaylist(e){super.loadPlaylist();const t=this.currentTrack;this.shouldLoadPlaylist(t)&&_f(t.url,this.hls)&&this.scheduleLoading(t,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const s=e.id,n=e.groupId,a=this.getUrlWithDirectives(e.url,t),l=e.details,u=l==null?void 0:l.age;this.log(`Loading audio-track ${s} "${e.name}" lang:${e.lang} group:${n}${(t==null?void 0:t.msn)!==void 0?" at sn "+t.msn+" part "+t.part:""}${u&&l.live?" age "+u.toFixed(1)+(l.type&&" "+l.type||""):""} ${a}`),this.hls.trigger(A.AUDIO_TRACK_LOADING,{url:a,id:s,groupId:n,deliveryDirectives:t||null,track:e})}}class d${constructor(e){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=e}destroy(){this.tracks=this.queues=null}append(e,t,s){if(this.queues===null||this.tracks===null)return;const n=this.queues[t];n.push(e),n.length===1&&!s&&this.executeNext(t)}appendBlocker(e){return new Promise(t=>{const s={label:"async-blocker",execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(s,e)})}prependBlocker(e){return new Promise(t=>{if(this.queues){const s={label:"async-blocker-prepend",execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[e].unshift(s)}})}removeBlockers(){this.queues!==null&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(e=>{var t;const s=(t=e[0])==null?void 0:t.label;(s==="async-blocker"||s==="async-blocker-prepend")&&(e[0].execute(),e.splice(0,1))})}unblockAudio(e){if(this.queues===null)return;this.queues.audio[0]===e&&this.shiftAndExecuteNext("audio")}executeNext(e){if(this.queues===null||this.tracks===null)return;const t=this.queues[e];if(t.length){const n=t[0];try{n.execute()}catch(a){var s;if(n.onError(a),this.queues===null||this.tracks===null)return;const l=(s=this.tracks[e])==null?void 0:s.buffer;l!=null&&l.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues!==null&&(this.queues[e].shift(),this.executeNext(e))}current(e){var t;return((t=this.queues)==null?void 0:t[e][0])||null}toString(){const{queues:e,tracks:t}=this;return e===null||t===null?"<destroyed>":`
${this.list("video")}
${this.list("audio")}
${this.list("audiovideo")}}`}list(e){var t,s;return(t=this.queues)!=null&&t[e]||(s=this.tracks)!=null&&s[e]?`${e}: (${this.listSbInfo(e)}) ${this.listOps(e)}`:""}listSbInfo(e){var t;const s=(t=this.tracks)==null?void 0:t[e],n=s==null?void 0:s.buffer;return n?`SourceBuffer${n.updating?" updating":""}${s.ended?" ended":""}${s.ending?" ending":""}`:"none"}listOps(e){var t;return((t=this.queues)==null?void 0:t[e].map(s=>s.label).join(", "))||""}}const NT=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,H_="HlsJsTrackRemovedError";class h$ extends Error{constructor(e){super(e),this.name=H_}}class f$ extends Ps{constructor(e,t){super("buffer-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=s=>{var n;this.hls&&((n=this.mediaSource)==null?void 0:n.readyState)==="open"&&this.hls.pauseBuffering()},this._onStartStreaming=s=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=s=>{const{media:n,mediaSource:a}=this;s&&this.log("Media source opened"),!(!n||!a)&&(a.removeEventListener("sourceopen",this._onMediaSourceOpen),n.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(A.MEDIA_ATTACHED,{media:n,mediaSource:a}),this.mediaSource!==null&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:s,_objectUrl:n}=this;s!==n&&this.error(`Media element src was set while attaching MediaSource (${n} > ${s})`)},this.hls=e,this.fragmentTracker=t,this.appendSource=M4(ca(e.config.preferManagedMediaSource)),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:e}=this;e.on(A.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.MANIFEST_PARSED,this.onManifestParsed,this),e.on(A.BUFFER_RESET,this.onBufferReset,this),e.on(A.BUFFER_APPENDING,this.onBufferAppending,this),e.on(A.BUFFER_CODECS,this.onBufferCodecs,this),e.on(A.BUFFER_EOS,this.onBufferEos,this),e.on(A.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(A.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(A.FRAG_PARSED,this.onFragParsed,this),e.on(A.FRAG_CHANGED,this.onFragChanged,this),e.on(A.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(A.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.MANIFEST_PARSED,this.onManifestParsed,this),e.off(A.BUFFER_RESET,this.onBufferReset,this),e.off(A.BUFFER_APPENDING,this.onBufferAppending,this),e.off(A.BUFFER_CODECS,this.onBufferCodecs,this),e.off(A.BUFFER_EOS,this.onBufferEos,this),e.off(A.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(A.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(A.FRAG_PARSED,this.onFragParsed,this),e.off(A.FRAG_CHANGED,this.onFragChanged,this),e.off(A.ERROR,this.onError,this)}transferMedia(){const{media:e,mediaSource:t}=this;if(!e)return null;const s={};if(this.operationQueue){const a=this.isUpdating();a||this.operationQueue.removeBlockers();const l=this.isQueued();(a||l)&&this.warn(`Transfering MediaSource with${l?" operations in queue":""}${a?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const n=this.transferData;return!this.sourceBufferCount&&n&&n.mediaSource===t?Dt(s,n.tracks):this.sourceBuffers.forEach(a=>{const[l]=a;l&&(s[l]=Dt({},this.tracks[l]),this.removeBuffer(l)),a[0]=a[1]=null}),{media:e,mediaSource:t,tracks:s}}initTracks(){const e={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=e,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,t){var s;let n=2;(t.audio&&!t.video||!t.altAudio)&&(n=1),this.bufferCodecEventsTotal=n,this.log(`${n} bufferCodec event(s) expected.`),(s=this.transferData)!=null&&s.mediaSource&&this.sourceBufferCount&&n&&this.bufferCreated()}onMediaAttaching(e,t){const s=this.media=t.media;this.transferData=this.overrides=void 0;const n=ca(this.appendSource);if(n){const a=!!t.mediaSource;(a||t.overrides)&&(this.transferData=t,this.overrides=t.overrides);const l=this.mediaSource=t.mediaSource||new n;if(this.assignMediaSource(l),a)this._objectUrl=s.src,this.attachTransferred();else{const u=this._objectUrl=self.URL.createObjectURL(l);if(this.appendSource)try{s.removeAttribute("src");const h=self.ManagedMediaSource;s.disableRemotePlayback=s.disableRemotePlayback||h&&l instanceof h,FT(s),m$(s,u),s.load()}catch{s.src=u}else s.src=u}s.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(e){var t,s;this.log(`${((t=this.transferData)==null?void 0:t.mediaSource)===e?"transferred":"created"} media source: ${(s=e.constructor)==null?void 0:s.name}`),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const e=this.media,t=this.transferData;if(!t||!e)return;const s=this.tracks,n=t.tracks,a=n?Object.keys(n):null,l=a?a.length:0,u=()=>{Promise.resolve().then(()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()})};if(n&&a&&l){if(!this.tracksReady){this.hls.config.startFragPrefetch=!0,this.log("attachTransferred: waiting for SourceBuffer track info");return}if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})
required tracks: ${Ot(s,(h,d)=>h==="initSegment"?void 0:d)};
transfer tracks: ${Ot(n,(h,d)=>h==="initSegment"?void 0:d)}}`),!Uw(n,s)){t.mediaSource=null,t.tracks=void 0;const h=e.currentTime,d=this.details,m=Math.max(h,(d==null?void 0:d.fragments[0].start)||0);if(m-h>1){this.log(`attachTransferred: waiting for playback to reach new tracks start time ${h} -> ${m}`);return}this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(n)}"->"${Object.keys(s)}") start time: ${m} currentTime: ${h}`),this.onMediaDetaching(A.MEDIA_DETACHING,{}),this.onMediaAttaching(A.MEDIA_ATTACHING,t),e.currentTime=m;return}this.transferData=void 0,a.forEach(h=>{const d=h,m=n[d];if(m){const p=m.buffer;if(p){const g=this.fragmentTracker,E=m.id;if(g.hasFragments(E)||g.hasParts(E)){const S=Ke.getBuffered(p);g.detectEvictedFragments(d,S,E,null,!0)}const b=s0(d),k=[d,p];this.sourceBuffers[b]=k,p.updating&&this.operationQueue&&this.operationQueue.prependBlocker(d),this.trackSourceBuffer(d,m)}}}),u(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),u()}get mediaSourceOpenOrEnded(){var e;const t=(e=this.mediaSource)==null?void 0:e.readyState;return t==="open"||t==="ended"}onMediaDetaching(e,t){const s=!!t.transferMedia;this.transferData=this.overrides=void 0;const{media:n,mediaSource:a,_objectUrl:l}=this;if(a){if(this.log(`media source ${s?"transferring":"detaching"}`),s)this.sourceBuffers.forEach(([u])=>{u&&this.removeBuffer(u)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const u=a.readyState==="open";try{const h=a.sourceBuffers;for(let d=h.length;d--;)u&&h[d].abort(),a.removeSourceBuffer(h[d]);u&&a.endOfStream()}catch(h){this.warn(`onMediaDetaching: ${h.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}a.removeEventListener("sourceopen",this._onMediaSourceOpen),a.removeEventListener("sourceended",this._onMediaSourceEnded),a.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(a.removeEventListener("startstreaming",this._onStartStreaming),a.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}n&&(n.removeEventListener("emptied",this._onMediaEmptied),s||(l&&self.URL.revokeObjectURL(l),this.mediaSrc===l?(n.removeAttribute("src"),this.appendSource&&FT(n),n.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(A.MEDIA_DETACHED,t)}onBufferReset(){this.sourceBuffers.forEach(([e])=>{e&&this.resetBuffer(e)}),this.initTracks()}resetBuffer(e){var t;const s=(t=this.tracks[e])==null?void 0:t.buffer;if(this.removeBuffer(e),s)try{var n;(n=this.mediaSource)!=null&&n.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(s)}catch(a){this.warn(`onBufferReset ${e}`,a)}delete this.tracks[e]}removeBuffer(e){this.removeBufferListeners(e),this.sourceBuffers[s0(e)]=[null,null];const t=this.tracks[e];t&&(t.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new d$(this.tracks)}onBufferCodecs(e,t){var s;const n=this.tracks,a=Object.keys(t);this.log(`BUFFER_CODECS: "${a}" (current SB count ${this.sourceBufferCount})`);const l="audiovideo"in t&&(n.audio||n.video)||n.audiovideo&&("audio"in t||"video"in t),u=!l&&this.sourceBufferCount&&this.media&&a.some(h=>!n[h]);if(l||u){this.warn(`Unsupported transition between "${Object.keys(n)}" and "${a}" SourceBuffers`);return}a.forEach(h=>{var d,m;const p=t[h],{id:g,codec:E,levelCodec:b,container:k,metadata:S,supplemental:x}=p;let _=n[h];const w=(d=this.transferData)==null||(d=d.tracks)==null?void 0:d[h],R=w!=null&&w.buffer?w:_,C=(R==null?void 0:R.pendingCodec)||(R==null?void 0:R.codec),I=R==null?void 0:R.levelCodec;_||(_=n[h]={buffer:void 0,listeners:[],codec:E,supplemental:x,container:k,levelCodec:b,metadata:S,id:g});const L=Vh(C,I),P=L==null?void 0:L.replace(NT,"$1");let M=Vh(E,b);const N=(m=M)==null?void 0:m.replace(NT,"$1");M&&L&&P!==N&&(h.slice(0,5)==="audio"&&(M=Af(M,this.appendSource)),this.log(`switching codec ${C} to ${M}`),M!==(_.pendingCodec||_.codec)&&(_.pendingCodec=M),_.container=k,this.appendChangeType(h,k,M))}),(this.tracksReady||this.sourceBufferCount)&&(t.tracks=this.sourceBufferTracks),!this.sourceBufferCount&&(this.bufferCodecEventsTotal>1&&!this.tracks.video&&!t.video&&((s=t.audio)==null?void 0:s.id)==="main"&&(this.log("Main audio-only"),this.bufferCodecEventsTotal=1),this.mediaSourceOpenOrEnded&&this.checkPendingTracks())}get sourceBufferTracks(){return Object.keys(this.tracks).reduce((e,t)=>{const s=this.tracks[t];return e[t]={id:s.id,container:s.container,codec:s.codec,levelCodec:s.levelCodec},e},{})}appendChangeType(e,t,s){const n=`${t};codecs=${s}`,a={label:`change-type=${n}`,execute:()=>{const l=this.tracks[e];if(l){const u=l.buffer;u!=null&&u.changeType&&(this.log(`changing ${e} sourceBuffer type to ${n}`),u.changeType(n),l.codec=s,l.container=t)}this.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:l=>{this.warn(`Failed to change ${e} SourceBuffer type`,l)}};this.append(a,e,this.isPending(this.tracks[e]))}blockAudio(e){var t;const s=e.start,n=s+e.duration*.05;if(((t=this.fragmentTracker.getAppendedFrag(s,Re.MAIN))==null?void 0:t.gap)===!0)return;const l={label:"block-audio",execute:()=>{var u;const h=this.tracks.video;(this.lastVideoAppendEnd>n||h!=null&&h.buffer&&Ke.isBuffered(h.buffer,n)||((u=this.fragmentTracker.getAppendedFrag(n,Re.MAIN))==null?void 0:u.gap)===!0)&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:u=>{this.warn("Error executing block-audio operation",u)}};this.blockedAudioAppend={op:l,frag:e},this.append(l,"audio",!0)}unblockAudio(){const{blockedAudioAppend:e,operationQueue:t}=this;e&&t&&(this.blockedAudioAppend=null,t.unblockAudio(e.op))}onBufferAppending(e,t){const{tracks:s}=this,{data:n,type:a,parent:l,frag:u,part:h,chunkMeta:d,offset:m}=t,p=d.buffering[a],{sn:g,cc:E}=u,b=self.performance.now();p.start=b;const k=u.stats.buffering,S=h?h.stats.buffering:null;k.start===0&&(k.start=b),S&&S.start===0&&(S.start=b);const x=s.audio;let _=!1;a==="audio"&&(x==null?void 0:x.container)==="audio/mpeg"&&(_=!this.lastMpegAudioChunk||d.id===1||this.lastMpegAudioChunk.sn!==d.sn,this.lastMpegAudioChunk=d);const w=s.video,R=w==null?void 0:w.buffer;if(R&&g!=="initSegment"){const L=h||u,P=this.blockedAudioAppend;if(a==="audio"&&l!=="main"&&!this.blockedAudioAppend&&!(w.ending||w.ended)){const N=L.start+L.duration*.05,H=R.buffered,se=this.currentOp("video");!H.length&&!se?this.blockAudio(L):!se&&!Ke.isBuffered(R,N)&&this.lastVideoAppendEnd<N&&this.blockAudio(L)}else if(a==="video"){const M=L.end;if(P){const N=P.frag.start;(M>N||M<this.lastVideoAppendEnd||Ke.isBuffered(R,N))&&this.unblockAudio()}this.lastVideoAppendEnd=M}}const C=(h||u).start,I={label:`append-${a}`,execute:()=>{var L;p.executeStart=self.performance.now();const P=(L=this.tracks[a])==null?void 0:L.buffer;P&&(_?this.updateTimestampOffset(P,C,.1,a,g,E):m!==void 0&&Ae(m)&&this.updateTimestampOffset(P,m,1e-6,a,g,E)),this.appendExecutor(n,a)},onStart:()=>{},onComplete:()=>{const L=self.performance.now();p.executeEnd=p.end=L,k.first===0&&(k.first=L),S&&S.first===0&&(S.first=L);const P={};this.sourceBuffers.forEach(([M,N])=>{M&&(P[M]=Ke.getBuffered(N))}),this.appendErrors[a]=0,a==="audio"||a==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(A.BUFFER_APPENDED,{type:a,frag:u,part:h,chunkMeta:d,parent:u.type,timeRanges:P})},onError:L=>{var P;const M={type:Ie.MEDIA_ERROR,parent:u.type,details:Q.BUFFER_APPEND_ERROR,sourceBufferName:a,frag:u,part:h,chunkMeta:d,error:L,err:L,fatal:!1},N=(P=this.media)==null?void 0:P.error;if(L.code===DOMException.QUOTA_EXCEEDED_ERR||L.name=="QuotaExceededError"||"quota"in L)M.details=Q.BUFFER_FULL_ERROR;else if(L.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!N)M.errorAction=bl(!0);else if(L.name===H_&&this.sourceBufferCount===0)M.errorAction=bl(!0);else{const H=++this.appendErrors[a];this.warn(`Failed ${H}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${a}" sourceBuffer (${N||"no media error"})`),(H>=this.hls.config.appendErrorMaxRetry||N)&&(M.fatal=!0)}this.hls.trigger(A.ERROR,M)}};this.log(`queuing "${a}" append sn: ${g}${h?" p: "+h.index:""} of ${u.type===Re.MAIN?"level":"track"} ${u.level} cc: ${E}`),this.append(I,a,this.isPending(this.tracks[a]))}getFlushOp(e,t,s){return this.log(`queuing "${e}" remove ${t}-${s}`),{label:"remove",execute:()=>{this.removeExecutor(e,t,s)},onStart:()=>{},onComplete:()=>{this.hls.trigger(A.BUFFER_FLUSHED,{type:e})},onError:n=>{this.warn(`Failed to remove ${t}-${s} from "${e}" SourceBuffer`,n)}}}onBufferFlushing(e,t){const{type:s,startOffset:n,endOffset:a}=t;s?this.append(this.getFlushOp(s,n,a),s):this.sourceBuffers.forEach(([l])=>{l&&this.append(this.getFlushOp(l,n,a),l)})}onFragParsed(e,t){const{frag:s,part:n}=t,a=[],l=n?n.elementaryStreams:s.elementaryStreams;l[jt.AUDIOVIDEO]?a.push("audiovideo"):(l[jt.AUDIO]&&a.push("audio"),l[jt.VIDEO]&&a.push("video"));const u=()=>{const h=self.performance.now();s.stats.buffering.end=h,n&&(n.stats.buffering.end=h);const d=n?n.stats:s.stats;this.hls.trigger(A.FRAG_BUFFERED,{frag:s,part:n,stats:d,id:s.type})};a.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${s.type} level: ${s.level} sn: ${s.sn}`),this.blockBuffers(u,a).catch(h=>{this.warn(`Fragment buffered callback ${h}`),this.stepOperationQueue(this.sourceBufferTypes)})}onFragChanged(e,t){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some(([e])=>{if(e){const t=this.tracks[e];if(t)return!t.ended||t.ending}return!1})}onBufferEos(e,t){var s;this.sourceBuffers.forEach(([l])=>{if(l){const u=this.tracks[l];(!t.type||t.type===l)&&(u.ending=!0,u.ended||(u.ended=!0,this.log(`${l} buffer reached EOS`)))}});const n=((s=this.overrides)==null?void 0:s.endOfStream)!==!1;this.sourceBufferCount>0&&!this.sourceBuffers.some(([l])=>{var u;return l&&!((u=this.tracks[l])!=null&&u.ended)})?n?(this.log("Queueing EOS"),this.blockUntilOpen(()=>{this.tracksEnded();const{mediaSource:l}=this;if(!l||l.readyState!=="open"){l&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${l.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),l.endOfStream(),this.hls.trigger(A.BUFFERED_TO_END,void 0)})):(this.tracksEnded(),this.hls.trigger(A.BUFFERED_TO_END,void 0)):t.type==="video"&&this.unblockAudio()}tracksEnded(){this.sourceBuffers.forEach(([e])=>{if(e!==null){const t=this.tracks[e];t&&(t.ending=!1)}})}onLevelUpdated(e,{details:t}){t.fragments.length&&(this.details=t,this.updateDuration())}updateDuration(){this.blockUntilOpen(()=>{const e=this.getDurationAndRange();e&&this.updateMediaSource(e)})}onError(e,t){if(t.details===Q.BUFFER_APPEND_ERROR&&t.frag){var s;const n=(s=t.errorAction)==null?void 0:s.nextAutoLevel;Ae(n)&&n!==t.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:e,details:t,media:s}=this;if(!s||t===null||!this.sourceBufferCount)return;const n=e.config,a=s.currentTime,l=t.levelTargetDuration,u=t.live&&n.liveBackBufferLength!==null?n.liveBackBufferLength:n.backBufferLength;if(Ae(u)&&u>=0){const d=Math.max(u,l),m=Math.floor(a/l)*l-d;this.flushBackBuffer(a,l,m)}const h=n.frontBufferFlushThreshold;if(Ae(h)&&h>0){const d=Math.max(n.maxBufferLength,h),m=Math.max(d,l),p=Math.floor(a/l)*l+m;this.flushFrontBuffer(a,l,p)}}flushBackBuffer(e,t,s){this.sourceBuffers.forEach(([n,a])=>{if(a){const u=Ke.getBuffered(a);if(u.length>0&&s>u.start(0)){var l;this.hls.trigger(A.BACK_BUFFER_REACHED,{bufferEnd:s});const h=this.tracks[n];if((l=this.details)!=null&&l.live)this.hls.trigger(A.LIVE_BACK_BUFFER_REACHED,{bufferEnd:s});else if(h!=null&&h.ended){this.log(`Cannot flush ${n} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(A.BUFFER_FLUSHING,{startOffset:0,endOffset:s,type:n})}}})}flushFrontBuffer(e,t,s){this.sourceBuffers.forEach(([n,a])=>{if(a){const l=Ke.getBuffered(a),u=l.length;if(u<2)return;const h=l.start(u-1),d=l.end(u-1);if(s>h||e>=h&&e<=d)return;this.hls.trigger(A.BUFFER_FLUSHING,{startOffset:h,endOffset:1/0,type:n})}})}getDurationAndRange(){var e;const{details:t,mediaSource:s}=this;if(!t||!this.media||(s==null?void 0:s.readyState)!=="open")return null;const n=t.edge;if(t.live&&this.hls.config.liveDurationInfinity){if(t.fragments.length&&s.setLiveSeekableRange){const d=Math.max(0,t.fragmentStart),m=Math.max(d,n);return{duration:1/0,start:d,end:m}}return{duration:1/0}}const a=(e=this.overrides)==null?void 0:e.duration;if(a)return Ae(a)?{duration:a}:null;const l=this.media.duration,u=Ae(s.duration)?s.duration:0;return n>u&&n>l||!Ae(l)?{duration:n}:null}updateMediaSource({duration:e,start:t,end:s}){const n=this.mediaSource;!this.media||!n||n.readyState!=="open"||(n.duration!==e&&(Ae(e)&&this.log(`Updating MediaSource duration to ${e.toFixed(3)}`),n.duration=e),t!==void 0&&s!==void 0&&(this.log(`MediaSource duration is set to ${n.duration}. Setting seekable range to ${t}-${s}.`),n.setLiveSeekableRange(t,s)))}get tracksReady(){const e=this.pendingTrackCount;return e>0&&(e>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:e,pendingTrackCount:t,tracks:s}=this;if(this.log(`checkPendingTracks (pending: ${t} codec events expected: ${e}) ${Ot(s)}`),this.tracksReady){var n;const a=(n=this.transferData)==null?void 0:n.tracks;a&&Object.keys(a).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const e={};this.sourceBuffers.forEach(([t,s])=>{if(t){const n=this.tracks[t];e[t]={buffer:s,container:n.container,codec:n.codec,supplemental:n.supplemental,levelCodec:n.levelCodec,id:n.id,metadata:n.metadata}}}),this.hls.trigger(A.BUFFER_CREATED,{tracks:e}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach(([t])=>{this.executeNext(t)})}else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(A.ERROR,{type:Ie.MEDIA_ERROR,details:Q.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}createSourceBuffers(){const{tracks:e,sourceBuffers:t,mediaSource:s}=this;if(!s)throw new Error("createSourceBuffers called when mediaSource was null");for(const a in e){const l=a,u=e[l];if(this.isPending(u)){const h=this.getTrackCodec(u,l),d=`${u.container};codecs=${h}`;u.codec=h,this.log(`creating sourceBuffer(${d})${this.currentOp(l)?" Queued":""} ${Ot(u)}`);try{const m=s.addSourceBuffer(d),p=s0(l),g=[l,m];t[p]=g,u.buffer=m}catch(m){var n;this.error(`error while trying to add sourceBuffer: ${m.message}`),this.shiftAndExecuteNext(l),(n=this.operationQueue)==null||n.removeBlockers(),delete this.tracks[l],this.hls.trigger(A.ERROR,{type:Ie.MEDIA_ERROR,details:Q.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:m,sourceBufferName:l,mimeType:d,parent:u.id});return}this.trackSourceBuffer(l,u)}}this.bufferCreated()}getTrackCodec(e,t){const s=e.supplemental;let n=e.codec;s&&(t==="video"||t==="audiovideo")&&Ic(s,"video")&&(n=sB(n,s));const a=Vh(n,e.levelCodec);return a?t.slice(0,5)==="audio"?Af(a,this.appendSource):a:""}trackSourceBuffer(e,t){const s=t.buffer;if(!s)return;const n=this.getTrackCodec(t,e);this.tracks[e]={buffer:s,codec:n,container:t.container,levelCodec:t.levelCodec,supplemental:t.supplemental,metadata:t.metadata,id:t.id,listeners:[]},this.removeBufferListeners(e),this.addBufferListener(e,"updatestart",this.onSBUpdateStart),this.addBufferListener(e,"updateend",this.onSBUpdateEnd),this.addBufferListener(e,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(e,"bufferedchange",(a,l)=>{const u=l.removedRanges;u!=null&&u.length&&this.hls.trigger(A.BUFFER_FLUSHED,{type:a})})}get mediaSrc(){var e,t;const s=((e=this.media)==null||(t=e.querySelector)==null?void 0:t.call(e,"source"))||this.media;return s==null?void 0:s.src}onSBUpdateStart(e){const t=this.currentOp(e);t&&t.onStart()}onSBUpdateEnd(e){var t;if(((t=this.mediaSource)==null?void 0:t.readyState)==="closed"){this.resetBuffer(e);return}const s=this.currentOp(e);s&&(s.onComplete(),this.shiftAndExecuteNext(e))}onSBUpdateError(e,t){var s;const n=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(s=this.mediaSource)==null?void 0:s.readyState}`);this.error(`${n}`,t),this.hls.trigger(A.ERROR,{type:Ie.MEDIA_ERROR,details:Q.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:n,fatal:!1});const a=this.currentOp(e);a&&a.onError(n)}updateTimestampOffset(e,t,s,n,a,l){const u=t-e.timestampOffset;Math.abs(u)>=s&&(this.log(`Updating ${n} SourceBuffer timestampOffset to ${t} (sn: ${a} cc: ${l})`),e.timestampOffset=t)}removeExecutor(e,t,s){const{media:n,mediaSource:a}=this,l=this.tracks[e],u=l==null?void 0:l.buffer;if(!n||!a||!u){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),this.shiftAndExecuteNext(e);return}const h=Ae(n.duration)?n.duration:1/0,d=Ae(a.duration)?a.duration:1/0,m=Math.max(0,t),p=Math.min(s,h,d);p>m&&(!l.ending||l.ended)?(l.ended=!1,this.log(`Removing [${m},${p}] from the ${e} SourceBuffer`),u.remove(m,p)):this.shiftAndExecuteNext(e)}appendExecutor(e,t){const s=this.tracks[t],n=s==null?void 0:s.buffer;if(!n)throw new h$(`Attempting to append to the ${t} SourceBuffer, but it does not exist`);s.ending=!1,s.ended=!1,n.appendBuffer(e)}blockUntilOpen(e){if(this.isUpdating()||this.isQueued())this.blockBuffers(e).catch(t=>{this.warn(`SourceBuffer blocked callback ${t}`),this.stepOperationQueue(this.sourceBufferTypes)});else try{e()}catch(t){this.warn(`Callback run without blocking ${this.operationQueue} ${t}`)}}isUpdating(){return this.sourceBuffers.some(([e,t])=>e&&t.updating)}isQueued(){return this.sourceBuffers.some(([e])=>e&&!!this.currentOp(e))}isPending(e){return!!e&&!e.buffer}blockBuffers(e,t=this.sourceBufferTypes){if(!t.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);const{operationQueue:s}=this,n=t.map(l=>this.appendBlocker(l));return t.length>1&&!!this.blockedAudioAppend&&this.unblockAudio(),Promise.all(n).then(l=>{s===this.operationQueue&&(e(),this.stepOperationQueue(this.sourceBufferTypes))})}stepOperationQueue(e){e.forEach(t=>{var s;const n=(s=this.tracks[t])==null?void 0:s.buffer;!n||n.updating||this.shiftAndExecuteNext(t)})}append(e,t,s){this.operationQueue&&this.operationQueue.append(e,t,s)}appendBlocker(e){if(this.operationQueue)return this.operationQueue.appendBlocker(e)}currentOp(e){return this.operationQueue?this.operationQueue.current(e):null}executeNext(e){e&&this.operationQueue&&this.operationQueue.executeNext(e)}shiftAndExecuteNext(e){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(e)}get pendingTrackCount(){return Object.keys(this.tracks).reduce((e,t)=>e+(this.isPending(this.tracks[t])?1:0),0)}get sourceBufferCount(){return this.sourceBuffers.reduce((e,[t])=>e+(t?1:0),0)}get sourceBufferTypes(){return this.sourceBuffers.map(([e])=>e).filter(e=>!!e)}addBufferListener(e,t,s){const n=this.tracks[e];if(!n)return;const a=n.buffer;if(!a)return;const l=s.bind(this,e);n.listeners.push({event:t,listener:l}),a.addEventListener(t,l)}removeBufferListeners(e){const t=this.tracks[e];if(!t)return;const s=t.buffer;s&&(t.listeners.forEach(n=>{s.removeEventListener(n.event,n.listener)}),t.listeners.length=0)}}function FT(i){const e=i.querySelectorAll("source");[].slice.call(e).forEach(t=>{i.removeChild(t)})}function m$(i,e){const t=self.document.createElement("source");t.type="video/mp4",t.src=e,i.appendChild(t)}function s0(i){return i==="audio"?1:0}class gv{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(A.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(A.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(A.MANIFEST_PARSED,this.onManifestParsed,this),e.on(A.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(A.BUFFER_CODECS,this.onBufferCodecs,this),e.on(A.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(A.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(A.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(A.MANIFEST_PARSED,this.onManifestParsed,this),e.off(A.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(A.BUFFER_CODECS,this.onBufferCodecs,this),e.off(A.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,t){const s=this.hls.levels[t.droppedLevel];this.isLevelAllowed(s)&&this.restrictedLevels.push({bitrate:s.bitrate,height:s.height,width:s.width})}onMediaAttaching(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,t){const s=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,s.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onLevelsUpdated(e,t){this.timer&&Ae(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const t=this.hls,s=this.getMaxLevel(e.length-1);s!==this.autoLevelCapping&&t.logger.log(`Setting autoLevelCapping to ${s}: ${e[s].height}p@${e[s].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),t.autoLevelCapping=s,t.autoLevelEnabled&&t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}getMaxLevel(e){const t=this.hls.levels;if(!t.length)return-1;const s=t.filter((n,a)=>this.isLevelAllowed(n)&&a<=e);return this.clientRect=null,gv.getMaxLevelByMediaSize(s,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,t={width:0,height:0};if(e){const s=e.getBoundingClientRect();t.width=s.width,t.height=s.height,!t.width&&!t.height&&(t.width=s.right-s.left||e.width||0,t.height=s.bottom-s.top||e.height||0)}return this.clientRect=t,t}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return Math.min(e,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(e){return!this.restrictedLevels.some(s=>e.bitrate===s.bitrate&&e.width===s.width&&e.height===s.height)}static getMaxLevelByMediaSize(e,t,s){if(!(e!=null&&e.length))return-1;const n=(u,h)=>h?u.width!==h.width||u.height!==h.height:!0;let a=e.length-1;const l=Math.max(t,s);for(let u=0;u<e.length;u+=1){const h=e[u];if((h.width>=l||h.height>=l)&&n(h,e[u+1])){a=u;break}}return a}}const p$={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},Zi=p$,g$={HLS:"h"},y$=g$;class _n{constructor(e,t){Array.isArray(e)&&(e=e.map(s=>s instanceof _n?s:new _n(s))),this.value=e,this.params=t}}const v$="Dict";function b$(i){return Array.isArray(i)?JSON.stringify(i):i instanceof Map?"Map{}":i instanceof Set?"Set{}":typeof i=="object"?JSON.stringify(i):String(i)}function E$(i,e,t,s){return new Error(`failed to ${i} "${b$(e)}" as ${t}`,{cause:s})}function Rn(i,e,t){return E$("serialize",i,e,t)}class q_{constructor(e){this.description=e}}const BT="Bare Item",k$="Boolean";function S$(i){if(typeof i!="boolean")throw Rn(i,k$);return i?"?1":"?0"}function x$(i){return btoa(String.fromCharCode(...i))}const T$="Byte Sequence";function A$(i){if(ArrayBuffer.isView(i)===!1)throw Rn(i,T$);return`:${x$(i)}:`}const w$="Integer";function _$(i){return i<-999999999999999||999999999999999<i}function V_(i){if(_$(i))throw Rn(i,w$);return i.toString()}function R$(i){return`@${V_(i.getTime()/1e3)}`}function K_(i,e){if(i<0)return-K_(-i,e);const t=Math.pow(10,e);if(Math.abs(i*t%1-.5)<Number.EPSILON){const n=Math.floor(i*t);return(n%2===0?n:n+1)/t}else return Math.round(i*t)/t}const L$="Decimal";function C$(i){const e=K_(i,3);if(Math.floor(Math.abs(e)).toString().length>12)throw Rn(i,L$);const t=e.toString();return t.includes(".")?t:`${t}.0`}const D$="String",I$=/[\x00-\x1f\x7f]+/;function j$(i){if(I$.test(i))throw Rn(i,D$);return`"${i.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function O$(i){return i.description||i.toString().slice(7,-1)}const M$="Token";function UT(i){const e=O$(i);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw Rn(e,M$);return e}function my(i){switch(typeof i){case"number":if(!Ae(i))throw Rn(i,BT);return Number.isInteger(i)?V_(i):C$(i);case"string":return j$(i);case"symbol":return UT(i);case"boolean":return S$(i);case"object":if(i instanceof Date)return R$(i);if(i instanceof Uint8Array)return A$(i);if(i instanceof q_)return UT(i);default:throw Rn(i,BT)}}const P$="Key";function py(i){if(/^[a-z*][a-z0-9\-_.*]*$/.test(i)===!1)throw Rn(i,P$);return i}function yv(i){return i==null?"":Object.entries(i).map(([e,t])=>t===!0?`;${py(e)}`:`;${py(e)}=${my(t)}`).join("")}function Y_(i){return i instanceof _n?`${my(i.value)}${yv(i.params)}`:my(i)}function N$(i){return`(${i.value.map(Y_).join(" ")})${yv(i.params)}`}function F$(i,e={whitespace:!0}){if(typeof i!="object"||i==null)throw Rn(i,v$);const t=i instanceof Map?i.entries():Object.entries(i),s=e!=null&&e.whitespace?" ":"";return Array.from(t).map(([n,a])=>{a instanceof _n||(a=new _n(a));let l=py(n);return a.value===!0?l+=yv(a.params):(l+="=",Array.isArray(a.value)?l+=N$(a):l+=Y_(a)),l}).join(`,${s}`)}function W_(i,e){return F$(i,e)}const hn="CMCD-Object",Vt="CMCD-Request",Ma="CMCD-Session",Pr="CMCD-Status",B$={br:hn,ab:hn,d:hn,ot:hn,tb:hn,tpb:hn,lb:hn,tab:hn,lab:hn,url:hn,pb:Vt,bl:Vt,tbl:Vt,dl:Vt,ltc:Vt,mtp:Vt,nor:Vt,nrr:Vt,rc:Vt,sn:Vt,sta:Vt,su:Vt,ttfb:Vt,ttfbb:Vt,ttlb:Vt,cmsdd:Vt,cmsds:Vt,smrt:Vt,df:Vt,cs:Vt,ts:Vt,cid:Ma,pr:Ma,sf:Ma,sid:Ma,st:Ma,v:Ma,msd:Ma,bs:Pr,bsd:Pr,cdn:Pr,rtp:Pr,bg:Pr,pt:Pr,ec:Pr,e:Pr},U$={REQUEST:Vt};function $$(i){return Object.keys(i).reduce((e,t)=>{var s;return(s=i[t])===null||s===void 0||s.forEach(n=>e[n]=t),e},{})}function z$(i,e){const t={};if(!i)return t;const s=Object.keys(i),n=e?$$(e):{};return s.reduce((a,l)=>{var u;const h=B$[l]||n[l]||U$.REQUEST,d=(u=a[h])!==null&&u!==void 0?u:a[h]={};return d[l]=i[l],a},t)}function G$(i){return["ot","sf","st","e","sta"].includes(i)}function H$(i){return typeof i=="number"?Ae(i):i!=null&&i!==""&&i!==!1}const X_="event";function q$(i,e){const t=new URL(i),s=new URL(e);if(t.origin!==s.origin)return i;const n=t.pathname.split("/").slice(1),a=s.pathname.split("/").slice(1,-1);for(;n[0]===a[0];)n.shift(),a.shift();for(;a.length;)a.shift(),n.unshift("..");return n.join("/")+t.search+t.hash}const Qh=i=>Math.round(i),gy=(i,e)=>Array.isArray(i)?i.map(t=>gy(t,e)):i instanceof _n&&typeof i.value=="string"?new _n(gy(i.value,e),i.params):(e.baseUrl&&(i=q$(i,e.baseUrl)),e.version===1?encodeURIComponent(i):i),Th=i=>Qh(i/100)*100,V$=(i,e)=>{let t=i;return e.version>=2&&(i instanceof _n&&typeof i.value=="string"?t=new _n([i]):typeof i=="string"&&(t=[i])),gy(t,e)},K$={br:Qh,d:Qh,bl:Th,dl:Th,mtp:Th,nor:V$,rtp:Th,tb:Qh},Q_="request",Z_="response",vv=["ab","bg","bl","br","bs","bsd","cdn","cid","cs","df","ec","lab","lb","ltc","msd","mtp","pb","pr","pt","sf","sid","sn","st","sta","tab","tb","tbl","tpb","ts","v"],Y$=["e"],W$=/^[a-zA-Z0-9-.]+-[a-zA-Z0-9-.]+$/;function rm(i){return W$.test(i)}function X$(i){return vv.includes(i)||Y$.includes(i)||rm(i)}const J_=["d","dl","nor","ot","rtp","su"];function Q$(i){return vv.includes(i)||J_.includes(i)||rm(i)}const Z$=["cmsdd","cmsds","rc","smrt","ttfb","ttfbb","ttlb","url"];function J$(i){return vv.includes(i)||J_.includes(i)||Z$.includes(i)||rm(i)}const e5=["bl","br","bs","cid","d","dl","mtp","nor","nrr","ot","pr","rtp","sf","sid","st","su","tb","v"];function t5(i){return e5.includes(i)||rm(i)}const i5={[Z_]:J$,[X_]:X$,[Q_]:Q$};function eR(i,e={}){const t={};if(i==null||typeof i!="object")return t;const s=e.version||i.v||1,n=e.reportingMode||Q_,a=s===1?t5:i5[n];let l=Object.keys(i).filter(a);const u=e.filter;typeof u=="function"&&(l=l.filter(u));const h=n===Z_||n===X_;h&&!l.includes("ts")&&l.push("ts"),s>1&&!l.includes("v")&&l.push("v");const d=Dt({},K$,e.formatters),m={version:s,reportingMode:n,baseUrl:e.baseUrl};return l.sort().forEach(p=>{let g=i[p];const E=d[p];if(typeof E=="function"&&(g=E(g,m)),p==="v"){if(s===1)return;g=s}p=="pr"&&g===1||(h&&p==="ts"&&!Ae(g)&&(g=Date.now()),H$(g)&&(G$(p)&&typeof g=="string"&&(g=new q_(g)),t[p]=g))}),t}function s5(i,e={}){const t={};if(!i)return t;const s=eR(i,e),n=z$(s,e==null?void 0:e.customHeaderMap);return Object.entries(n).reduce((a,[l,u])=>{const h=W_(u,{whitespace:!1});return h&&(a[l]=h),a},t)}function n5(i,e,t){return Dt(i,s5(e,t))}const r5="CMCD";function a5(i,e={}){return i?W_(eR(i,e),{whitespace:!1}):""}function o5(i,e={}){if(!i)return"";const t=a5(i,e);return encodeURIComponent(t)}function l5(i,e={}){if(!i)return"";const t=o5(i,e);return`${r5}=${t}`}const $T=/CMCD=[^&#]+/;function u5(i,e,t){const s=l5(e,t);if(!s)return i;if($T.test(i))return i.replace($T,s);const n=i.includes("?")?"&":"?";return`${i}${n}${s}`}class c5{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=n=>{try{this.apply(n,{ot:Zi.MANIFEST,su:!this.initialized})}catch(a){this.hls.logger.warn("Could not generate manifest CMCD data.",a)}},this.applyFragmentData=n=>{try{const{frag:a,part:l}=n,u=this.hls.levels[a.level],h=this.getObjectType(a),d={d:(l||a).duration*1e3,ot:h};(h===Zi.VIDEO||h===Zi.AUDIO||h==Zi.MUXED)&&(d.br=u.bitrate/1e3,d.tb=this.getTopBandwidth(h)/1e3,d.bl=this.getBufferLength(h));const m=l?this.getNextPart(l):this.getNextFrag(a);m!=null&&m.url&&m.url!==a.url&&(d.nor=m.url),this.apply(n,d)}catch(a){this.hls.logger.warn("Could not generate segment CMCD data.",a)}},this.hls=e;const t=this.config=e.config,{cmcd:s}=t;s!=null&&(t.pLoader=this.createPlaylistLoader(),t.fLoader=this.createFragmentLoader(),this.sid=s.sessionId||e.sessionId,this.cid=s.contentId,this.useHeaders=s.useHeaders===!0,this.includeKeys=s.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(A.MEDIA_DETACHED,this.onMediaDetached,this),e.on(A.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(A.MEDIA_DETACHED,this.onMediaDetached,this),e.off(A.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,t){var s,n;this.audioBuffer=(s=t.tracks.audio)==null?void 0:s.buffer,this.videoBuffer=(n=t.tracks.video)==null?void 0:n.buffer}createData(){var e;return{v:1,sf:y$.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,t={}){Dt(t,this.createData());const s=t.ot===Zi.INIT||t.ot===Zi.VIDEO||t.ot===Zi.MUXED;this.starved&&s&&(t.bs=!0,t.su=!0,this.starved=!1),t.su==null&&(t.su=this.buffering);const{includeKeys:n}=this;n&&(t=Object.keys(t).reduce((l,u)=>(n.includes(u)&&(l[u]=t[u]),l),{}));const a={baseUrl:e.url};this.useHeaders?(e.headers||(e.headers={}),n5(e.headers,t,a)):e.url=u5(e.url,t,a)}getNextFrag(e){var t;const s=(t=this.hls.levels[e.level])==null?void 0:t.details;if(s){const n=e.sn-s.startSN;return s.fragments[n+1]}}getNextPart(e){var t;const{index:s,fragment:n}=e,a=(t=this.hls.levels[n.level])==null||(t=t.details)==null?void 0:t.partList;if(a){const{sn:l}=n;for(let u=a.length-1;u>=0;u--){const h=a[u];if(h.index===s&&h.fragment.sn===l)return a[u+1]}}}getObjectType(e){const{type:t}=e;if(t==="subtitle")return Zi.TIMED_TEXT;if(e.sn==="initSegment")return Zi.INIT;if(t==="audio")return Zi.AUDIO;if(t==="main")return this.hls.audioTracks.length?Zi.VIDEO:Zi.MUXED}getTopBandwidth(e){let t=0,s;const n=this.hls;if(e===Zi.AUDIO)s=n.audioTracks;else{const a=n.maxAutoLevel,l=a>-1?a+1:n.levels.length;s=n.levels.slice(0,l)}return s.forEach(a=>{a.bitrate>t&&(t=a.bitrate)}),t>0?t:NaN}getBufferLength(e){const t=this.media,s=e===Zi.AUDIO?this.audioBuffer:this.videoBuffer;return!s||!t?NaN:Ke.bufferInfo(s,t.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,t=this.applyPlaylistData,s=e||this.config.loader;return class{constructor(a){this.loader=void 0,this.loader=new s(a)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(a,l,u){t(a),this.loader.load(a,l,u)}}}createFragmentLoader(){const{fLoader:e}=this.config,t=this.applyFragmentData,s=e||this.config.loader;return class{constructor(a){this.loader=void 0,this.loader=new s(a)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(a,l,u){t(a),this.loader.load(a,l,u)}}}}const d5=3e5;class h5 extends Ps{constructor(e){super("content-steering",e.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(A.MANIFEST_PARSED,this.onManifestParsed,this),e.on(A.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(A.MANIFEST_PARSED,this.onManifestParsed,this),e.off(A.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce((e,t)=>(e.indexOf(t.pathwayId)===-1&&e.push(t.pathwayId),e),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(e){this.updatePathwayPriority(e)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const t=this.levels;t&&(this.levels=t.filter(s=>s!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,t){const{contentSteering:s}=t;s!==null&&(this.pathwayId=s.pathwayId,this.uri=s.uri,this.started&&this.startLoad())}onManifestParsed(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}onError(e,t){const{errorAction:s}=t;if((s==null?void 0:s.action)===Si.SendAlternateToPenaltyBox&&s.flags===ms.MoveAllAlternatesMatchingHost){const n=this.levels;let a=this._pathwayPriority,l=this.pathwayId;if(t.context){const{groupId:u,pathwayId:h,type:d}=t.context;u&&n?l=this.getPathwayForGroupId(u,d,l):h&&(l=h)}l in this.penalizedPathways||(this.penalizedPathways[l]=performance.now()),!a&&n&&(a=this.pathways()),a&&a.length>1&&(this.updatePathwayPriority(a),s.resolved=this.pathwayId!==l),t.details===Q.BUFFER_APPEND_ERROR&&!t.fatal?s.resolved=!0:s.resolved||this.warn(`Could not resolve ${t.details} ("${t.error.message}") with content-steering for Pathway: ${l} levels: ${n&&n.length} priorities: ${Ot(a)} penalized: ${Ot(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let t=this.getLevelsForPathway(this.pathwayId);if(t.length===0){const s=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${s}"`),t=this.getLevelsForPathway(s),this.pathwayId=s}return t.length!==e.length&&this.log(`Found ${t.length}/${e.length} levels in Pathway "${this.pathwayId}"`),t}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(t=>e===t.pathwayId)}updatePathwayPriority(e){this._pathwayPriority=e;let t;const s=this.penalizedPathways,n=performance.now();Object.keys(s).forEach(a=>{n-s[a]>d5&&delete s[a]});for(let a=0;a<e.length;a++){const l=e[a];if(l in s)continue;if(l===this.pathwayId)return;const u=this.hls.nextLoadLevel,h=this.hls.levels[u];if(t=this.getLevelsForPathway(l),t.length>0){this.log(`Setting Pathway to "${l}"`),this.pathwayId=l,E_(t),this.hls.trigger(A.LEVELS_UPDATED,{levels:t});const d=this.hls.levels[u];h&&d&&this.levels&&(d.attrs["STABLE-VARIANT-ID"]!==h.attrs["STABLE-VARIANT-ID"]&&d.bitrate!==h.bitrate&&this.log(`Unstable Pathways change from bitrate ${h.bitrate} to ${d.bitrate}`),this.hls.nextLoadLevel=u);break}}}getPathwayForGroupId(e,t,s){const n=this.getLevelsForPathway(s).concat(this.levels||[]);for(let a=0;a<n.length;a++)if(t===st.AUDIO_TRACK&&n[a].hasAudioGroup(e)||t===st.SUBTITLE_TRACK&&n[a].hasSubtitleGroup(e))return n[a].pathwayId;return s}clonePathways(e){const t=this.levels;if(!t)return;const s={},n={};e.forEach(a=>{const{ID:l,"BASE-ID":u,"URI-REPLACEMENT":h}=a;if(t.some(m=>m.pathwayId===l))return;const d=this.getLevelsForPathway(u).map(m=>{const p=new $t(m.attrs);p["PATHWAY-ID"]=l;const g=p.AUDIO&&`${p.AUDIO}_clone_${l}`,E=p.SUBTITLES&&`${p.SUBTITLES}_clone_${l}`;g&&(s[p.AUDIO]=g,p.AUDIO=g),E&&(n[p.SUBTITLES]=E,p.SUBTITLES=E);const b=tR(m.uri,p["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",h),k=new Oc({attrs:p,audioCodec:m.audioCodec,bitrate:m.bitrate,height:m.height,name:m.name,url:b,videoCodec:m.videoCodec,width:m.width});if(m.audioGroups)for(let S=1;S<m.audioGroups.length;S++)k.addGroupId("audio",`${m.audioGroups[S]}_clone_${l}`);if(m.subtitleGroups)for(let S=1;S<m.subtitleGroups.length;S++)k.addGroupId("text",`${m.subtitleGroups[S]}_clone_${l}`);return k});t.push(...d),zT(this.audioTracks,s,h,l),zT(this.subtitleTracks,n,h,l)})}loadSteeringManifest(e){const t=this.hls.config,s=t.loader;this.loader&&this.loader.destroy(),this.loader=new s(t);let n;try{n=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(n.protocol!=="data:"){const m=(this.hls.bandwidthEstimate||t.abrEwmaDefaultEstimate)|0;n.searchParams.set("_HLS_pathway",this.pathwayId),n.searchParams.set("_HLS_throughput",""+m)}const a={responseType:"json",url:n.href},l=t.steeringManifestLoadPolicy.default,u=l.errorRetry||l.timeoutRetry||{},h={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:u.maxNumRetry||0,retryDelay:u.retryDelayMs||0,maxRetryDelay:u.maxRetryDelayMs||0},d={onSuccess:(m,p,g,E)=>{this.log(`Loaded steering manifest: "${n}"`);const b=m.data;if((b==null?void 0:b.VERSION)!==1){this.log(`Steering VERSION ${b.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=b.TTL;const{"RELOAD-URI":k,"PATHWAY-CLONES":S,"PATHWAY-PRIORITY":x}=b;if(k)try{this.uri=new self.URL(k,n).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${k}`);return}this.scheduleRefresh(this.uri||g.url),S&&this.clonePathways(S);const _={steeringManifest:b,url:n.toString()};this.hls.trigger(A.STEERING_MANIFEST_LOADED,_),x&&this.updatePathwayPriority(x)},onError:(m,p,g,E)=>{if(this.log(`Error loading steering manifest: ${m.code} ${m.text} (${p.url})`),this.stopLoad(),m.code===410){this.enabled=!1,this.log(`Steering manifest ${p.url} no longer available`);return}let b=this.timeToLoad*1e3;if(m.code===429){const k=this.loader;if(typeof(k==null?void 0:k.getResponseHeader)=="function"){const S=k.getResponseHeader("Retry-After");S&&(b=parseFloat(S)*1e3)}this.log(`Steering manifest ${p.url} rate limited`);return}this.scheduleRefresh(this.uri||p.url,b)},onTimeout:(m,p,g)=>{this.log(`Timeout loading steering manifest (${p.url})`),this.scheduleRefresh(this.uri||p.url)}};this.log(`Requesting steering manifest: ${n}`),this.loader.load(a,h,d)}scheduleRefresh(e,t=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var s;const n=(s=this.hls)==null?void 0:s.media;if(n&&!n.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},t)}}function zT(i,e,t,s){i&&Object.keys(e).forEach(n=>{const a=i.filter(l=>l.groupId===n).map(l=>{const u=Dt({},l);return u.details=void 0,u.attrs=new $t(u.attrs),u.url=u.attrs.URI=tR(l.url,l.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",t),u.groupId=u.attrs["GROUP-ID"]=e[n],u.attrs["PATHWAY-ID"]=s,u});i.push(...a)})}function tR(i,e,t,s){const{HOST:n,PARAMS:a,[t]:l}=s;let u;e&&(u=l==null?void 0:l[e],u&&(i=u));const h=new self.URL(i);return n&&!u&&(h.host=n),a&&Object.keys(a).sort().forEach(d=>{d&&h.searchParams.set(d,a[d])}),h.href}class kl extends Ps{constructor(e){super("eme",e.logger),this.hls=void 0,this.config=void 0,this.media=null,this.mediaResolved=void 0,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.mediaKeys=null,this.setMediaKeysQueue=kl.CDMCleanupPromise?[kl.CDMCleanupPromise]:[],this.bannedKeyIds={},this.onMediaEncrypted=t=>{const{initDataType:s,initData:n}=t,a=`"${t.type}" event: init data type: "${s}"`;if(this.debug(a),n!==null){if(!this.keyFormatPromise){let l=Object.keys(this.keySystemAccessPromises);l.length||(l=nc(this.config));const u=l.map(Wg).filter(h=>!!h);this.keyFormatPromise=this.getKeyFormatPromise(u)}this.keyFormatPromise.then(l=>{const u=Yh(l);if(s!=="sinf"||u!==Gt.FAIRPLAY){this.log(`Ignoring "${t.type}" event with init data type: "${s}" for selected key-system ${u}`);return}let h;try{const E=oi(new Uint8Array(n)),b=av(JSON.parse(E).sinf),k=Ww(b);if(!k)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");h=new Uint8Array(k.subarray(8,24))}catch(E){this.warn(`${a} Failed to parse sinf: ${E}`);return}const d=xi(h),{keyIdToKeySessionPromise:m,mediaKeySessions:p}=this;let g=m[d];for(let E=0;E<p.length;E++){const b=p[E],k=b.decryptdata;if(!k.keyId)continue;const S=xi(k.keyId);if(Cf(h,k.keyId)||k.uri.replace(/-/g,"").indexOf(d)!==-1){if(g=m[S],!g)continue;if(k.pssh)break;delete m[S],k.pssh=new Uint8Array(n),k.keyId=h,g=m[d]=g.then(()=>this.generateRequestWithPreferredKeySession(b,s,n,"encrypted-event-key-match")),g.catch(x=>this.handleError(x));break}}g||this.handleError(new Error(`Key ID ${d} not encountered in playlist. Key-system sessions ${p.length}.`))}).catch(l=>this.handleError(l))}},this.onWaitingForKey=t=>{this.log(`"${t.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.onDestroying(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(A.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(A.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(A.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(A.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.on(A.DESTROYING,this.onDestroying,this)}unregisterListeners(){this.hls.off(A.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(A.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(A.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(A.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.off(A.DESTROYING,this.onDestroying,this)}getLicenseServerUrl(e){const{drmSystems:t,widevineLicenseUrl:s}=this.config,n=t==null?void 0:t[e];if(n)return n.licenseUrl;if(e===Gt.WIDEVINE&&s)return s}getLicenseServerUrlOrThrow(e){const t=this.getLicenseServerUrl(e);if(t===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return t}getServerCertificateUrl(e){const{drmSystems:t}=this.config,s=t==null?void 0:t[e];if(s)return s.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const t=this.hls.levels,s=(l,u,h)=>!!l&&h.indexOf(l)===u,n=t.map(l=>l.audioCodec).filter(s),a=t.map(l=>l.videoCodec).filter(s);return n.length+a.length===0&&a.push("avc1.42e01e"),new Promise((l,u)=>{const h=d=>{const m=d.shift();this.getMediaKeysPromise(m,n,a).then(p=>l({keySystem:m,mediaKeys:p})).catch(p=>{d.length?h(d):p instanceof hs?u(p):u(new hs({type:Ie.KEY_SYSTEM_ERROR,details:Q.KEY_SYSTEM_NO_ACCESS,error:p,fatal:!0},p.message))})};h(e)})}requestMediaKeySystemAccess(e,t){const{requestMediaKeySystemAccessFunc:s}=this.config;if(typeof s!="function"){let n=`Configured requestMediaKeySystemAccess is not a function ${s}`;return h_===null&&self.location.protocol==="http:"&&(n=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(n))}return s(e,t)}getMediaKeysPromise(e,t,s){var n;const a=VB(e,t,s,this.config.drmSystemOptions||{});let l=this.keySystemAccessPromises[e],u=(n=l)==null?void 0:n.keySystemAccess;if(!u){this.log(`Requesting encrypted media "${e}" key-system access with config: ${Ot(a)}`),u=this.requestMediaKeySystemAccess(e,a);const h=l=this.keySystemAccessPromises[e]={keySystemAccess:u};return u.catch(d=>{this.log(`Failed to obtain access to key-system "${e}": ${d}`)}),u.then(d=>{this.log(`Access for key-system "${d.keySystem}" obtained`);const m=this.fetchServerCertificate(e);this.log(`Create media-keys for "${e}"`);const p=h.mediaKeys=d.createMediaKeys().then(g=>(this.log(`Media-keys created for "${e}"`),h.hasMediaKeys=!0,m.then(E=>E?this.setMediaKeysServerCertificate(g,e,E):g)));return p.catch(g=>{this.error(`Failed to create media-keys for "${e}"}: ${g}`)}),p})}return u.then(()=>l.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:t,mediaKeys:s}){this.log(`Creating key-system session "${t}" keyId: ${xi(e.keyId||[])} keyUri: ${e.uri}`);const n=s.createSession(),a={decryptdata:e,keySystem:t,mediaKeys:s,mediaKeysSession:n,keyStatus:"status-pending"};return this.mediaKeySessions.push(a),a}renewKeySession(e){const t=e.decryptdata;if(t.pssh){const s=this.createMediaKeySessionContext(e),n=Ah(t),a="cenc";this.keyIdToKeySessionPromise[n]=this.generateRequestWithPreferredKeySession(s,a,t.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}updateKeySession(e,t){const s=e.mediaKeysSession;return this.log(`Updating key-session "${s.sessionId}" for keyId ${xi(e.decryptdata.keyId||[])}
      } (data length: ${t.byteLength})`),s.update(t)}getSelectedKeySystemFormats(){return Object.keys(this.keySystemAccessPromises).map(e=>({keySystem:e,hasMediaKeys:this.keySystemAccessPromises[e].hasMediaKeys})).filter(({hasMediaKeys:e})=>!!e).map(({keySystem:e})=>Wg(e)).filter(e=>!!e)}getKeySystemAccess(e){return this.getKeySystemSelectionPromise(e).then(({keySystem:t,mediaKeys:s})=>this.attemptSetMediaKeys(t,s))}selectKeySystem(e){return new Promise((t,s)=>{this.getKeySystemSelectionPromise(e).then(({keySystem:n})=>{const a=Wg(n);a?t(a):s(new Error(`Unable to find format for key-system "${n}"`))}).catch(s)})}selectKeySystemFormat(e){const t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${t.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise}getKeyFormatPromise(e){const t=nc(this.config),s=e.map(Yh).filter(n=>!!n&&t.indexOf(n)!==-1);return this.selectKeySystem(s)}getKeyStatus(e){const{mediaKeySessions:t}=this;for(let s=0;s<t.length;s++){const n=f5(e,t[s]);if(n)return n}}loadKey(e){const t=e.keyInfo.decryptdata,s=Ah(t),n=this.bannedKeyIds[s];if(n||this.getKeyStatus(t)==="internal-error"){const u=GT(n||"internal-error",t);return this.handleError(u,e.frag),Promise.reject(u)}const a=`(keyId: ${s} format: "${t.keyFormat}" method: ${t.method} uri: ${t.uri})`;this.log(`Starting session for key ${a}`);const l=this.keyIdToKeySessionPromise[s];if(!l){const u=this.getKeySystemForKeyPromise(t).then(({keySystem:h,mediaKeys:d})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${a}`),this.attemptSetMediaKeys(h,d).then(()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:h,mediaKeys:d,decryptdata:t}))))).then(h=>{const d="cenc",m=t.pssh?t.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(h,d,m,"playlist-key")});return u.catch(h=>this.handleError(h,e.frag)),this.keyIdToKeySessionPromise[s]=u,u}return l.catch(u=>{if(u instanceof hs){const h=wt({},u.data);this.getKeyStatus(t)==="internal-error"&&(h.decryptdata=t);const d=new hs(h,u.message);this.handleError(d,e.frag)}}),l}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e,t){if(this.hls)if(e instanceof hs){t&&(e.data.frag=t);const s=e.data.decryptdata;this.error(`${e.message}${s?` (${xi(s.keyId||[])})`:""}`),this.hls.trigger(A.ERROR,e.data)}else this.error(e.message),this.hls.trigger(A.ERROR,{type:Ie.KEY_SYSTEM_ERROR,details:Q.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0})}getKeySystemForKeyPromise(e){const t=Ah(e),s=this.keyIdToKeySessionPromise[t];if(!s){const n=Yh(e.keyFormat),a=n?[n]:nc(this.config);return this.attemptKeySystemAccess(a)}return s}getKeySystemSelectionPromise(e){if(e.length||(e=nc(this.config)),e.length===0)throw new hs({type:Ie.KEY_SYSTEM_ERROR,details:Q.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${Ot({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,t){if(this.mediaResolved=void 0,this.mediaKeys===t)return Promise.resolve();const s=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const n=Promise.all(s).then(()=>this.media?this.media.setMediaKeys(t):new Promise((a,l)=>{this.mediaResolved=()=>{if(this.mediaResolved=void 0,!this.media)return l(new Error("Attempted to set mediaKeys without media element attached"));this.mediaKeys=t,this.media.setMediaKeys(t).then(a).catch(l)}}));return this.mediaKeys=t,this.setMediaKeysQueue.push(n),n.then(()=>{this.log(`Media-keys set for "${e}"`),s.push(n),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(a=>s.indexOf(a)===-1)})}generateRequestWithPreferredKeySession(e,t,s,n){var a;const l=(a=this.config.drmSystems)==null||(a=a[e.keySystem])==null?void 0:a.generateRequest;if(l)try{const b=l.call(this.hls,t,s,e);if(!b)throw new Error("Invalid response from configured generateRequest filter");t=b.initDataType,s=b.initData?b.initData:null,e.decryptdata.pssh=s?new Uint8Array(s):null}catch(b){if(this.warn(b.message),this.hls&&this.hls.config.debug)throw b}if(s===null)return this.log(`Skipping key-session request for "${n}" (no initData)`),Promise.resolve(e);const u=Ah(e.decryptdata),h=e.decryptdata.uri;this.log(`Generating key-session request for "${n}" keyId: ${u} URI: ${h} (init data type: ${t} length: ${s.byteLength})`);const d=new lv,m=e._onmessage=b=>{const k=e.mediaKeysSession;if(!k){d.emit("error",new Error("invalid state"));return}const{messageType:S,message:x}=b;this.log(`"${S}" message event for session "${k.sessionId}" message size: ${x.byteLength}`),S==="license-request"||S==="license-renewal"?this.renewLicense(e,x).catch(_=>{d.eventNames().length?d.emit("error",_):this.handleError(_)}):S==="license-release"?e.keySystem===Gt.FAIRPLAY&&this.updateKeySession(e,ly("acknowledged")).then(()=>this.removeSession(e)).catch(_=>this.handleError(_)):this.warn(`unhandled media key message type "${S}"`)},p=(b,k)=>{k.keyStatus=b;let S;b.startsWith("usable")?d.emit("resolved"):b==="internal-error"||b==="output-restricted"||b==="output-downscaled"?S=GT(b,k.decryptdata):b==="expired"?S=new Error(`key expired (keyId: ${u})`):b==="released"?S=new Error("key released"):b==="status-pending"||this.warn(`unhandled key status change "${b}" (keyId: ${u})`),S&&(d.eventNames().length?d.emit("error",S):this.handleError(S))},g=e._onkeystatuseschange=b=>{if(!e.mediaKeysSession){d.emit("error",new Error("invalid state"));return}const S=this.getKeyStatuses(e);if(!Object.keys(S).some(R=>S[R]!=="status-pending"))return;if(S[u]==="expired"){this.log(`Expired key ${Ot(S)} in key-session "${e.mediaKeysSession.sessionId}"`),this.renewKeySession(e);return}let _=S[u];if(_)p(_,e);else{var w;e.keyStatusTimeouts||(e.keyStatusTimeouts={}),(w=e.keyStatusTimeouts)[u]||(w[u]=self.setTimeout(()=>{if(!e.mediaKeysSession||!this.mediaKeys)return;const C=this.getKeyStatus(e.decryptdata);if(C&&C!=="status-pending")return this.log(`No status for keyId ${u} in key-session "${e.mediaKeysSession.sessionId}". Using session key-status ${C} from other session.`),p(C,e);this.log(`key status for ${u} in key-session "${e.mediaKeysSession.sessionId}" timed out after 1000ms`),_="internal-error",p(_,e)},1e3)),this.log(`No status for keyId ${u} (${Ot(S)}).`)}};Ui(e.mediaKeysSession,"message",m),Ui(e.mediaKeysSession,"keystatuseschange",g);const E=new Promise((b,k)=>{d.on("error",k),d.on("resolved",b)});return e.mediaKeysSession.generateRequest(t,s).then(()=>{this.log(`Request generated for key-session "${e.mediaKeysSession.sessionId}" keyId: ${u} URI: ${h}`)}).catch(b=>{throw new hs({type:Ie.KEY_SYSTEM_ERROR,details:Q.KEY_SYSTEM_NO_SESSION,error:b,decryptdata:e.decryptdata,fatal:!1},`Error generating key-session request: ${b}`)}).then(()=>E).catch(b=>(d.removeAllListeners(),this.removeSession(e).then(()=>{throw b}))).then(()=>(d.removeAllListeners(),e))}getKeyStatuses(e){const t={};return e.mediaKeysSession.keyStatuses.forEach((s,n)=>{if(typeof n=="string"&&typeof s=="object"){const u=n;n=s,s=u}const a="buffer"in n?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n);if(e.keySystem===Gt.PLAYREADY&&a.length===16){const u=xi(a);t[u]=s,c_(a)}const l=xi(a);s==="internal-error"&&(this.bannedKeyIds[l]=s),this.log(`key status change "${s}" for keyStatuses keyId: ${l} key-session "${e.mediaKeysSession.sessionId}"`),t[l]=s}),t}fetchServerCertificate(e){const t=this.config,s=t.loader,n=new s(t),a=this.getServerCertificateUrl(e);return a?(this.log(`Fetching server certificate for "${e}"`),new Promise((l,u)=>{const h={responseType:"arraybuffer",url:a},d=t.certLoadPolicy.default,m={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},p={onSuccess:(g,E,b,k)=>{l(g.data)},onError:(g,E,b,k)=>{u(new hs({type:Ie.KEY_SYSTEM_ERROR,details:Q.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:b,response:wt({url:h.url,data:void 0},g)},`"${e}" certificate request failed (${a}). Status: ${g.code} (${g.text})`))},onTimeout:(g,E,b)=>{u(new hs({type:Ie.KEY_SYSTEM_ERROR,details:Q.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:b,response:{url:h.url,data:void 0}},`"${e}" certificate request timed out (${a})`))},onAbort:(g,E,b)=>{u(new Error("aborted"))}};n.load(h,m,p)})):Promise.resolve()}setMediaKeysServerCertificate(e,t,s){return new Promise((n,a)=>{e.setServerCertificate(s).then(l=>{this.log(`setServerCertificate ${l?"success":"not supported by CDM"} (${s.byteLength}) on "${t}"`),n(e)}).catch(l=>{a(new hs({type:Ie.KEY_SYSTEM_ERROR,details:Q.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:l,fatal:!0},l.message))})})}renewLicense(e,t){return this.requestLicense(e,new Uint8Array(t)).then(s=>this.updateKeySession(e,new Uint8Array(s)).catch(n=>{throw new hs({type:Ie.KEY_SYSTEM_ERROR,details:Q.KEY_SYSTEM_SESSION_UPDATE_FAILED,decryptdata:e.decryptdata,error:n,fatal:!1},n.message)}))}unpackPlayReadyKeyMessage(e,t){const s=String.fromCharCode.apply(null,new Uint16Array(t.buffer));if(!s.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),t;const n=new DOMParser().parseFromString(s,"application/xml"),a=n.querySelectorAll("HttpHeader");if(a.length>0){let m;for(let p=0,g=a.length;p<g;p++){var l,u;m=a[p];const E=(l=m.querySelector("name"))==null?void 0:l.textContent,b=(u=m.querySelector("value"))==null?void 0:u.textContent;E&&b&&e.setRequestHeader(E,b)}}const h=n.querySelector("Challenge"),d=h==null?void 0:h.textContent;if(!d)throw new Error("Cannot find <Challenge> in key message");return ly(atob(d))}setupLicenseXHR(e,t,s,n){const a=this.config.licenseXhrSetup;return a?Promise.resolve().then(()=>{if(!s.decryptdata)throw new Error("Key removed");return a.call(this.hls,e,t,s,n)}).catch(l=>{if(!s.decryptdata)throw l;return e.open("POST",t,!0),a.call(this.hls,e,t,s,n)}).then(l=>(e.readyState||e.open("POST",t,!0),{xhr:e,licenseChallenge:l||n})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:n}))}requestLicense(e,t){const s=this.config.keyLoadPolicy.default;return new Promise((n,a)=>{const l=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${l}`);const u=new XMLHttpRequest;u.responseType="arraybuffer",u.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return a(new Error("invalid state"));if(u.readyState===4)if(u.status===200){this._requestLicenseFailureCount=0;let h=u.response;this.log(`License received ${h instanceof ArrayBuffer?h.byteLength:h}`);const d=this.config.licenseResponseCallback;if(d)try{h=d.call(this.hls,u,l,e)}catch(m){this.error(m)}n(h)}else{const h=s.errorRetry,d=h?h.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>d||u.status>=400&&u.status<500)a(new hs({type:Ie.KEY_SYSTEM_ERROR,details:Q.KEY_SYSTEM_LICENSE_REQUEST_FAILED,decryptdata:e.decryptdata,fatal:!0,networkDetails:u,response:{url:l,data:void 0,code:u.status,text:u.statusText}},`License Request XHR failed (${l}). Status: ${u.status} (${u.statusText})`));else{const m=d-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${m} attempts left`),this.requestLicense(e,t).then(n,a)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=u,this.setupLicenseXHR(u,l,e,t).then(({xhr:h,licenseChallenge:d})=>{e.keySystem==Gt.PLAYREADY&&(d=this.unpackPlayReadyKeyMessage(h,d)),h.send(d)}).catch(a)})}onDestroying(){this.unregisterListeners(),this._clear()}onMediaAttached(e,t){if(!this.config.emeEnabled)return;const s=t.media;this.media=s,Ui(s,"encrypted",this.onMediaEncrypted),Ui(s,"waitingforkey",this.onWaitingForKey);const n=this.mediaResolved;n?n():this.mediaKeys=s.mediaKeys}onMediaDetached(){const e=this.media;e&&(is(e,"encrypted",this.onMediaEncrypted),is(e,"waitingforkey",this.onWaitingForKey),this.media=null,this.mediaKeys=null)}_clear(){var e;this._requestLicenseFailureCount=0,this.keyIdToKeySessionPromise={},this.bannedKeyIds={};const t=this.mediaResolved;if(t&&t(),!this.mediaKeys&&!this.mediaKeySessions.length)return;const s=this.media,n=this.mediaKeySessions.slice();this.mediaKeySessions=[],this.mediaKeys=null,ia.clearKeyUriToKeyIdMap();const a=n.length;kl.CDMCleanupPromise=Promise.all(n.map(l=>this.removeSession(l)).concat((s==null||(e=s.setMediaKeys(null))==null?void 0:e.catch(l=>{this.log(`Could not clear media keys: ${l}`),this.hls&&this.hls.trigger(A.ERROR,{type:Ie.OTHER_ERROR,details:Q.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${l}`)})}))||Promise.resolve())).catch(l=>{this.log(`Could not close sessions and clear media keys: ${l}`),this.hls&&this.hls.trigger(A.ERROR,{type:Ie.OTHER_ERROR,details:Q.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${l}`)})}).then(()=>{a&&this.log("finished closing key sessions and clearing media keys")})}onManifestLoading(){this._clear()}onManifestLoaded(e,{sessionKeys:t}){if(!(!t||!this.config.emeEnabled)&&!this.keyFormatPromise){const s=t.reduce((n,a)=>(n.indexOf(a.keyFormat)===-1&&n.push(a.keyFormat),n),[]);this.log(`Selecting key-system from session-keys ${s.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(s)}}removeSession(e){const{mediaKeysSession:t,licenseXhr:s,decryptdata:n}=e;if(t){this.log(`Remove licenses and keys and close session "${t.sessionId}" keyId: ${xi((n==null?void 0:n.keyId)||[])}`),e._onmessage&&(t.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(t.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),s&&s.readyState!==XMLHttpRequest.DONE&&s.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const a=this.mediaKeySessions.indexOf(e);a>-1&&this.mediaKeySessions.splice(a,1);const{keyStatusTimeouts:l}=e;l&&Object.keys(l).forEach(d=>self.clearTimeout(l[d]));const{drmSystemOptions:u}=this.config;return(YB(u)?new Promise((d,m)=>{self.setTimeout(()=>m(new Error("MediaKeySession.remove() timeout")),8e3),t.remove().then(d).catch(m)}):Promise.resolve()).catch(d=>{this.log(`Could not remove session: ${d}`),this.hls&&this.hls.trigger(A.ERROR,{type:Ie.OTHER_ERROR,details:Q.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${d}`)})}).then(()=>t.close()).catch(d=>{this.log(`Could not close session: ${d}`),this.hls&&this.hls.trigger(A.ERROR,{type:Ie.OTHER_ERROR,details:Q.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${d}`)})})}return Promise.resolve()}}kl.CDMCleanupPromise=void 0;function Ah(i){if(!i)throw new Error("Could not read keyId of undefined decryptdata");if(i.keyId===null)throw new Error("keyId is null");return xi(i.keyId)}function f5(i,e){if(i.keyId&&e.mediaKeysSession.keyStatuses.has(i.keyId))return e.mediaKeysSession.keyStatuses.get(i.keyId);if(i.matches(e.decryptdata))return e.keyStatus}class hs extends Error{constructor(e,t){super(t),this.data=void 0,e.error||(e.error=new Error(t)),this.data=e,e.err=e.error}}function GT(i,e){const t=i==="output-restricted",s=t?Q.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:Q.KEY_SYSTEM_STATUS_INTERNAL_ERROR;return new hs({type:Ie.KEY_SYSTEM_ERROR,details:s,fatal:!1,decryptdata:e},t?"HDCP level output restricted":`key status changed to "${i}"`)}class m5{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(A.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(A.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(A.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(A.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,t){const s=this.hls.config;if(s.capLevelOnFPSDrop){const n=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=n,n&&typeof n.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),s.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(e,t,s){const n=performance.now();if(t){if(this.lastTime){const a=n-this.lastTime,l=s-this.lastDroppedFrames,u=t-this.lastDecodedFrames,h=1e3*l/a,d=this.hls;if(d.trigger(A.FPS_DROP,{currentDropped:l,currentDecoded:u,totalDroppedFrames:s}),h>0&&l>d.config.fpsDroppedMonitoringThreshold*u){let m=d.currentLevel;d.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+m),m>0&&(d.autoLevelCapping===-1||d.autoLevelCapping>=m)&&(m=m-1,d.trigger(A.FPS_DROP_LEVEL_CAPPING,{level:m,droppedLevel:d.currentLevel}),d.autoLevelCapping=m,this.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=s,this.lastDecodedFrames=t}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}function iR(i,e){let t;try{t=new Event("addtrack")}catch{t=document.createEvent("Event"),t.initEvent("addtrack",!1,!1)}t.track=i,e.dispatchEvent(t)}function sR(i,e){const t=i.mode;if(t==="disabled"&&(i.mode="hidden"),i.cues&&!i.cues.getCueById(e.id))try{if(i.addCue(e),!i.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(s){_t.debug(`[texttrack-utils]: ${s}`);try{const n=new self.TextTrackCue(e.startTime,e.endTime,e.text);n.id=e.id,i.addCue(n)}catch(n){_t.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${n}`)}}t==="disabled"&&(i.mode=t)}function ml(i,e){const t=i.mode;if(t==="disabled"&&(i.mode="hidden"),i.cues)for(let s=i.cues.length;s--;)e&&i.cues[s].removeEventListener("enter",e),i.removeCue(i.cues[s]);t==="disabled"&&(i.mode=t)}function yy(i,e,t,s){const n=i.mode;if(n==="disabled"&&(i.mode="hidden"),i.cues&&i.cues.length>0){const a=g5(i.cues,e,t);for(let l=0;l<a.length;l++)(!s||s(a[l]))&&i.removeCue(a[l])}n==="disabled"&&(i.mode=n)}function p5(i,e){if(e<=i[0].startTime)return 0;const t=i.length-1;if(e>i[t].endTime)return-1;let s=0,n=t,a;for(;s<=n;)if(a=Math.floor((n+s)/2),e<i[a].startTime)n=a-1;else if(e>i[a].startTime&&s<t)s=a+1;else return a;return i[s].startTime-e<e-i[n].startTime?s:n}function g5(i,e,t){const s=[],n=p5(i,e);if(n>-1)for(let a=n,l=i.length;a<l;a++){const u=i[a];if(u.startTime>=e&&u.endTime<=t)s.push(u);else if(u.startTime>t)return s}return s}function Zh(i){const e=[];for(let t=0;t<i.length;t++){const s=i[t];(s.kind==="subtitles"||s.kind==="captions")&&s.label&&e.push(i[t])}return e}class y5 extends pv{constructor(e){super(e,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let t=null;const s=Zh(this.media.textTracks);for(let a=0;a<s.length;a++)if(s[a].mode==="hidden")t=s[a];else if(s[a].mode==="showing"){t=s[a];break}const n=this.findTrackForTextTrack(t);this.subtitleTrack!==n&&this.setSubtitleTrack(n)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.MANIFEST_PARSED,this.onManifestParsed,this),e.on(A.LEVEL_LOADING,this.onLevelLoading,this),e.on(A.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(A.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(A.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.MANIFEST_PARSED,this.onManifestParsed,this),e.off(A.LEVEL_LOADING,this.onLevelLoading,this),e.off(A.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(A.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(A.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(e,t){const s=this.media;if(!s)return;const n=!!t.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||s.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,n)return;Zh(s.textTracks).forEach(l=>{ml(l)})}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.subtitleTracks}onSubtitleTrackLoaded(e,t){const{id:s,groupId:n,details:a}=t,l=this.tracksInGroup[s];if(!l||l.groupId!==n){this.warn(`Subtitle track with id:${s} and group:${n} not found in active group ${l==null?void 0:l.groupId}`);return}const u=l.details;l.details=t.details,this.log(`Subtitle track ${s} "${l.name}" lang:${l.lang} group:${n} loaded [${a.startSN}-${a.endSN}]`),s===this.trackId&&this.playlistLoaded(s,t,u)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const s=t.subtitleGroups||null,n=this.groupIds;let a=this.currentTrack;if(!s||(n==null?void 0:n.length)!==(s==null?void 0:s.length)||s!=null&&s.some(l=>(n==null?void 0:n.indexOf(l))===-1)){this.groupIds=s,this.trackId=-1,this.currentTrack=null;const l=this.tracks.filter(m=>!s||s.indexOf(m.groupId)!==-1);if(l.length)this.selectDefaultTrack&&!l.some(m=>m.default)&&(this.selectDefaultTrack=!1),l.forEach((m,p)=>{m.id=p});else if(!a&&!this.tracksInGroup.length)return;this.tracksInGroup=l;const u=this.hls.config.subtitlePreference;if(!a&&u){this.selectDefaultTrack=!1;const m=Sn(u,l);if(m>-1)a=l[m];else{const p=Sn(u,this.tracks);a=this.tracks[p]}}let h=this.findTrackId(a);h===-1&&a&&(h=this.findTrackId(null));const d={subtitleTracks:l};this.log(`Updating subtitle tracks, ${l.length} track(s) found in "${s==null?void 0:s.join(",")}" group-id`),this.hls.trigger(A.SUBTITLE_TRACKS_UPDATED,d),h!==-1&&this.trackId===-1&&this.setSubtitleTrack(h)}}findTrackId(e){const t=this.tracksInGroup,s=this.selectDefaultTrack;for(let n=0;n<t.length;n++){const a=t[n];if(!(s&&!a.default||!s&&!e)&&(!e||eo(a,e)))return n}if(e){for(let n=0;n<t.length;n++){const a=t[n];if(Fc(e.attrs,a.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return n}for(let n=0;n<t.length;n++){const a=t[n];if(Fc(e.attrs,a.attrs,["LANGUAGE"]))return n}}return-1}findTrackForTextTrack(e){if(e){const t=this.tracksInGroup;for(let s=0;s<t.length;s++){const n=t[s];if(fy(n,e))return s}}return-1}onError(e,t){t.fatal||!t.context||t.context.type===st.SUBTITLE_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&this.checkRetry(t)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){if(e.id===-1)return this.setSubtitleTrack(-1),null;const t=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,t.length){const s=this.currentTrack;if(s&&eo(e,s))return s;const n=Sn(e,this.tracksInGroup);if(n>-1){const a=this.tracksInGroup[n];return this.setSubtitleTrack(n),a}else{if(s)return null;{const a=Sn(e,t);if(a>-1)return t[a]}}}}return null}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const s=e.id,n=e.groupId,a=this.getUrlWithDirectives(e.url,t),l=e.details,u=l==null?void 0:l.age;this.log(`Loading subtitle ${s} "${e.name}" lang:${e.lang} group:${n}${(t==null?void 0:t.msn)!==void 0?" at sn "+t.msn+" part "+t.part:""}${u&&l.live?" age "+u.toFixed(1)+(l.type&&" "+l.type||""):""} ${a}`),this.hls.trigger(A.SUBTITLE_TRACK_LOADING,{url:a,id:s,groupId:n,deliveryDirectives:t||null,track:e})}toggleTrackModes(){const{media:e}=this;if(!e)return;const t=Zh(e.textTracks),s=this.currentTrack;let n;if(s&&(n=t.filter(a=>fy(s,a))[0],n||this.warn(`Unable to find subtitle TextTrack with name "${s.name}" and language "${s.lang}"`)),[].slice.call(t).forEach(a=>{a.mode!=="disabled"&&a!==n&&(a.mode="disabled")}),n){const a=this.subtitleDisplay?"showing":"hidden";n.mode!==a&&(n.mode=a)}}setSubtitleTrack(e){const t=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=t.length||!Ae(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.selectDefaultTrack=!1;const s=this.currentTrack,n=t[e]||null;if(this.trackId=e,this.currentTrack=n,this.toggleTrackModes(),!n){this.hls.trigger(A.SUBTITLE_TRACK_SWITCH,{id:e});return}const a=!!n.details&&!n.details.live;if(e===this.trackId&&n===s&&a)return;this.log(`Switching to subtitle-track ${e}`+(n?` "${n.name}" lang:${n.lang} group:${n.groupId}`:""));const{id:l,groupId:u="",name:h,type:d,url:m}=n;this.hls.trigger(A.SUBTITLE_TRACK_SWITCH,{id:l,groupId:u,name:h,type:d,url:m});const p=this.switchParams(n.url,s==null?void 0:s.details,n.details);this.loadPlaylist(p)}}function v5(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)}catch{let t=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const a=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(n=="x"?a:a&3|8).toString(16)})}}}function cc(i){let e=5381,t=i.length;for(;t;)e=e*33^i.charCodeAt(--t);return(e>>>0).toString()}const Sl=.025;let Of=function(i){return i[i.Point=0]="Point",i[i.Range=1]="Range",i}({});function b5(i,e,t){return`${i.identifier}-${t+1}-${cc(e)}`}class E5{constructor(e,t){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=t,this.dateRange=e,this.setDateRange(e)}setDateRange(e){this.dateRange=e,this.resumeOffset=e.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=e.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=e.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=e.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var e;this.appendInPlaceStarted=!1,(e=this.assetListLoader)==null||e.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(e){var t;if(e>0&&e>=this.assetList.length)return!0;const s=this.playoutLimit;return e<=0||isNaN(s)?!1:s===0?!0:(((t=this.assetList[e])==null?void 0:t.startOffset)||0)>s}findAssetIndex(e){return this.assetList.indexOf(e)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const e=this.dateRange.startTime;if(this.snapOptions.out){const t=this.dateRange.tagAnchor;if(t)return n0(e,t)}return e}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(this.startTime===0||this.snapOptions.out)return!0;const e=this.dateRange.tagAnchor;if(e){const t=this.dateRange.startTime,s=n0(t,e);return t-s<.1}return!1}get resumptionOffset(){const e=this.resumeOffset,t=Ae(e)?e:this.duration;return this.cumulativeDuration+t}get resumeTime(){const e=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const t=this.resumeAnchor;if(t)return n0(e,t)}return e}get appendInPlace(){return this.appendInPlaceStarted?!0:this.appendInPlaceDisabled?!1:!!(!this.cue.once&&!this.cue.pre&&this.startIsAligned&&(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<Sl))}set appendInPlace(e){if(this.appendInPlaceStarted){this.resetOnResume=!e;return}this.appendInPlaceDisabled=!e}get timelineStart(){return this._timelineStart!==null?this._timelineStart:this.startTime}set timelineStart(e){this._timelineStart=e}get duration(){const e=this.playoutLimit;let t;return this._duration!==null?t=this._duration:this.dateRange.duration?t=this.dateRange.duration:t=this.dateRange.plannedDuration||0,!isNaN(e)&&e<t&&(t=e),t}set duration(e){this._duration=e}get cue(){return this.dateRange.cue}get timelineOccupancy(){return this.dateRange.attr["X-TIMELINE-OCCUPIES"]==="RANGE"?Of.Range:Of.Point}get supplementsPrimary(){return this.dateRange.attr["X-TIMELINE-STYLE"]==="PRIMARY"}get contentMayVary(){return this.dateRange.attr["X-CONTENT-MAY-VARY"]!=="NO"}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||this.assetListResponse!==null}toString(){return k5(this)}}function n0(i,e){return i-e.start<e.duration/2&&!(Math.abs(i-(e.start+e.duration))<Sl)?e.start:e.start+e.duration}function nR(i,e,t){const s=new self.URL(i,t);return s.protocol!=="data:"&&s.searchParams.set("_HLS_primary_id",e),s}function r0(i,e){for(;(t=i.assetList[++e])!=null&&t.error;)var t;return e}function k5(i){return`["${i.identifier}" ${i.cue.pre?"<pre>":i.cue.post?"<post>":""}${i.timelineStart.toFixed(2)}-${i.resumeTime.toFixed(2)}]`}function dl(i){const e=i.timelineStart,t=i.duration||0;return`["${i.identifier}" ${e.toFixed(2)}-${(e+t).toFixed(2)}]`}class S5{constructor(e,t,s,n){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{this.reachedPlayout(this.currentTime)&&this.hls&&this.hls.trigger(A.PLAYOUT_LIMIT_REACHED,{})};const a=this.hls=new e(t);this.interstitial=s,this.assetItem=n;const l=()=>{this.hasDetails=!0};a.once(A.LEVEL_LOADED,l),a.once(A.AUDIO_TRACK_LOADED,l),a.once(A.SUBTITLE_TRACK_LOADED,l),a.on(A.MEDIA_ATTACHING,(u,{media:h})=>{this.removeMediaListeners(),this.mediaAttached=h,this.interstitial.playoutLimit&&(h.addEventListener("timeupdate",this.checkPlayout),this.appendInPlace&&a.on(A.BUFFER_APPENDED,()=>{const m=this.bufferedEnd;this.reachedPlayout(m)&&(this._bufferedEosTime=m,a.trigger(A.BUFFERED_TO_END,void 0))}))})}get appendInPlace(){return this.interstitial.appendInPlace}loadSource(){const e=this.hls;if(e)if(e.url)e.levels.length&&!e.started&&e.startLoad(-1,!0);else{let t=this.assetItem.uri;try{t=nR(t,e.config.primarySessionId||"").href}catch{}e.loadSource(t)}}bufferedInPlaceToEnd(e){var t;if(!this.appendInPlace)return!1;if((t=this.hls)!=null&&t.bufferedToEnd)return!0;if(!e)return!1;const s=Math.min(this._bufferedEosTime||1/0,this.duration),n=this.timelineOffset,a=Ke.bufferInfo(e,n,0);return this.getAssetTime(a.end)>=s-.02}reachedPlayout(e){const s=this.interstitial.playoutLimit;return this.startOffset+e>=s}get destroyed(){var e;return!((e=this.hls)!=null&&e.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var e;return((e=this.hls)==null?void 0:e.media)||null}get bufferedEnd(){const e=this.media||this.mediaAttached;if(!e)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const t=Ke.bufferInfo(e,e.currentTime,.001);return this.getAssetTime(t.end)}get currentTime(){const e=this.media||this.mediaAttached;return e?this.getAssetTime(e.currentTime):this._currentTime||0}get duration(){const e=this.assetItem.duration;if(!e)return 0;const t=this.interstitial.playoutLimit;if(t){const s=t-this.startOffset;if(s>0&&s<e)return s}return e}get remaining(){const e=this.duration;return e?Math.max(0,e-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var e;return((e=this.hls)==null?void 0:e.config.timelineOffset)||0}set timelineOffset(e){const t=this.timelineOffset;if(e!==t){const s=e-t;if(Math.abs(s)>1/9e4&&this.hls){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=e}}}getAssetTime(e){const t=this.timelineOffset,s=this.duration;return Math.min(Math.max(0,e-t),s)}removeMediaListeners(){const e=this.mediaAttached;e&&(this._currentTime=e.currentTime,this.bufferSnapShot(),e.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){if(this.mediaAttached){var e;(e=this.hls)!=null&&e.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)}}destroy(){this.removeMediaListeners(),this.hls&&this.hls.destroy(),this.hls=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(e){var t;this.loadSource(),(t=this.hls)==null||t.attachMedia(e)}detachMedia(){var e;this.removeMediaListeners(),this.mediaAttached=null,(e=this.hls)==null||e.detachMedia()}resumeBuffering(){var e;(e=this.hls)==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.hls)==null||e.pauseBuffering()}transferMedia(){var e;return this.bufferSnapShot(),((e=this.hls)==null?void 0:e.transferMedia())||null}resetDetails(){const e=this.hls;if(e&&this.hasDetails){e.stopLoad();const t=s=>delete s.details;e.levels.forEach(t),e.allAudioTracks.forEach(t),e.allSubtitleTracks.forEach(t),this.hasDetails=!1}}on(e,t,s){var n;(n=this.hls)==null||n.on(e,t)}once(e,t,s){var n;(n=this.hls)==null||n.once(e,t)}off(e,t,s){var n;(n=this.hls)==null||n.off(e,t)}toString(){var e;return`HlsAssetPlayer: ${dl(this.assetItem)} ${(e=this.hls)==null?void 0:e.sessionId} ${this.appendInPlace?"append-in-place":""}`}}const HT=.033;class x5 extends Ps{constructor(e,t){super("interstitials-sched",t),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=e}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(e=>e.reset()),this.events=this.items=null}resetErrorsInRange(e,t){return this.events?this.events.reduce((s,n)=>e<=n.startOffset&&t>n.startOffset?(delete n.error,s+1):s,0):0}get duration(){const e=this.items;return e?e[e.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(e){return e&&this.eventMap[e]||null}hasEvent(e){return e in this.eventMap}findItemIndex(e,t){if(e.event)return this.findEventIndex(e.event.identifier);let s=-1;e.nextEvent?s=this.findEventIndex(e.nextEvent.identifier)-1:e.previousEvent&&(s=this.findEventIndex(e.previousEvent.identifier)+1);const n=this.items;if(n)for(n[s]||(t===void 0&&(t=e.start),s=this.findItemIndexAtTime(t));s>=0&&(a=n[s])!=null&&a.event;){var a;s--}return s}findItemIndexAtTime(e,t){const s=this.items;if(s)for(let n=0;n<s.length;n++){let a=s[n];if(t&&t!=="primary"&&(a=a[t]),e===a.start||e>a.start&&e<a.end)return n}return-1}findJumpRestrictedIndex(e,t){const s=this.items;if(s)for(let n=e;n<=t&&s[n];n++){const a=s[n].event;if(a!=null&&a.restrictions.jump&&!a.appendInPlace)return n}return-1}findEventIndex(e){const t=this.items;if(t)for(let n=t.length;n--;){var s;if(((s=t[n].event)==null?void 0:s.identifier)===e)return n}return-1}findAssetIndex(e,t){const s=e.assetList,n=s.length;if(n>1)for(let a=0;a<n;a++){const l=s[a];if(!l.error){const u=l.timelineStart;if(t===u||t>u&&(t<u+(l.duration||0)||a===n-1))return a}}return 0}get assetIdAtEnd(){var e;const t=(e=this.items)==null||(e=e[this.length-1])==null?void 0:e.event;if(t){const s=t.assetList,n=s[s.length-1];if(n)return n.identifier}return null}parseInterstitialDateRanges(e,t){const s=e.main.details,{dateRanges:n}=s,a=this.events,l=this.parseDateRanges(n,{url:s.url},t),u=Object.keys(n),h=a?a.filter(d=>!u.includes(d.identifier)):[];l.length&&l.sort((d,m)=>{const p=d.cue.pre,g=d.cue.post,E=m.cue.pre,b=m.cue.post;if(p&&!E)return-1;if(E&&!p||g&&!b)return 1;if(b&&!g)return-1;if(!p&&!E&&!g&&!b){const k=d.startTime,S=m.startTime;if(k!==S)return k-S}return d.dateRange.tagOrder-m.dateRange.tagOrder}),this.events=l,h.forEach(d=>{this.removeEvent(d)}),this.updateSchedule(e,h)}updateSchedule(e,t=[],s=!1){const n=this.events||[];if(n.length||t.length||this.length<2){const a=this.items,l=this.parseSchedule(n,e);(s||t.length||(a==null?void 0:a.length)!==l.length||l.some((h,d)=>Math.abs(h.playout.start-a[d].playout.start)>.005||Math.abs(h.playout.end-a[d].playout.end)>.005))&&(this.items=l,this.onScheduleUpdate(t,a))}}parseDateRanges(e,t,s){const n=[],a=Object.keys(e);for(let l=0;l<a.length;l++){const u=a[l],h=e[u];if(h.isInterstitial){let d=this.eventMap[u];d?d.setDateRange(h):(d=new E5(h,t),this.eventMap[u]=d,s===!1&&(d.appendInPlace=s)),n.push(d)}}return n}parseSchedule(e,t){const s=[],n=t.main.details,a=n.live?1/0:n.edge;let l=0;if(e=e.filter(h=>!h.error&&!(h.cue.once&&h.hasPlayed)),e.length){this.resolveOffsets(e,t);let h=0,d=0;if(e.forEach((m,p)=>{const g=m.cue.pre,E=m.cue.post,b=e[p-1]||null,k=m.appendInPlace,S=E?a:m.startOffset,x=m.duration,_=m.timelineOccupancy===Of.Range?x:0,w=m.resumptionOffset,R=(b==null?void 0:b.startTime)===S,C=S+m.cumulativeDuration;let I=k?C+x:S+w;if(g||!E&&S<=0){const P=d;d+=_,m.timelineStart=C;const M=l;l+=x,s.push({event:m,start:C,end:I,playout:{start:M,end:l},integrated:{start:P,end:d}})}else if(S<=a){if(!R){const N=S-h;if(N>HT){const H=h,se=d;d+=N;const ge=l;l+=N;const ve={previousEvent:e[p-1]||null,nextEvent:m,start:H,end:H+N,playout:{start:ge,end:l},integrated:{start:se,end:d}};s.push(ve)}else N>0&&b&&(b.cumulativeDuration+=N,s[s.length-1].end=S)}E&&(I=C),m.timelineStart=C;const P=d;d+=_;const M=l;l+=x,s.push({event:m,start:C,end:I,playout:{start:M,end:l},integrated:{start:P,end:d}})}else return;const L=m.resumeTime;E||L>a?h=a:h=L}),h<a){var u;const m=h,p=d,g=a-h;d+=g;const E=l;l+=g,s.push({previousEvent:((u=s[s.length-1])==null?void 0:u.event)||null,nextEvent:null,start:h,end:m+g,playout:{start:E,end:l},integrated:{start:p,end:d}})}this.setDurations(a,l,d)}else s.push({previousEvent:null,nextEvent:null,start:0,end:a,playout:{start:0,end:a},integrated:{start:0,end:a}}),this.setDurations(a,a,a);return s}setDurations(e,t,s){this.durations={primary:e,playout:t,integrated:s}}resolveOffsets(e,t){const s=t.main.details,n=s.live?1/0:s.edge;let a=0,l=-1;e.forEach((u,h)=>{const d=u.cue.pre,m=u.cue.post,p=d?0:m?n:u.startTime;this.updateAssetDurations(u),l===p?u.cumulativeDuration=a:(a=0,l=p),!m&&u.snapOptions.in&&(u.resumeAnchor=uo(null,s.fragments,u.startOffset+u.resumptionOffset,0,0)||void 0),u.appendInPlace&&!u.appendInPlaceStarted&&(this.primaryCanResumeInPlaceAt(u,t)||(u.appendInPlace=!1)),!u.appendInPlace&&h+1<e.length&&e[h+1].startTime-e[h].resumeTime<HT&&(e[h+1].appendInPlace=!1,e[h+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${u}`));const E=Ae(u.resumeOffset)?u.resumeOffset:u.duration;a+=E})}primaryCanResumeInPlaceAt(e,t){const s=e.resumeTime,n=e.startTime+e.resumptionOffset;return Math.abs(s-n)>Sl?(this.log(`"${e.identifier}" resumption ${s} not aligned with estimated timeline end ${n}`),!1):!Object.keys(t).some(l=>{const u=t[l].details,h=u.edge;if(s>=h)return this.log(`"${e.identifier}" resumption ${s} past ${l} playlist end ${h}`),!1;const d=uo(null,u.fragments,s);if(!d)return this.log(`"${e.identifier}" resumption ${s} does not align with any fragments in ${l} playlist (${u.fragStart}-${u.fragmentEnd})`),!0;const m=l==="audio"?.175:0;return Math.abs(d.start-s)<Sl+m||Math.abs(d.end-s)<Sl+m?!1:(this.log(`"${e.identifier}" resumption ${s} not aligned with ${l} fragment bounds (${d.start}-${d.end} sn: ${d.sn} cc: ${d.cc})`),!0)})}updateAssetDurations(e){if(!e.assetListLoaded)return;const t=e.timelineStart;let s=0,n=!1,a=!1;for(let l=0;l<e.assetList.length;l++){const u=e.assetList[l],h=t+s;u.startOffset=s,u.timelineStart=h,n||(n=u.duration===null),a||(a=!!u.error);const d=u.error?0:u.duration||0;s+=d}n&&!a?e.duration=Math.max(s,e.duration):e.duration=s}removeEvent(e){e.reset(),delete this.eventMap[e.identifier]}}function zs(i){return`[${i.event?'"'+i.event.identifier+'"':"primary"}: ${i.start.toFixed(2)}-${i.end.toFixed(2)}]`}class T5{constructor(e){this.hls=void 0,this.hls=e}destroy(){this.hls=null}loadAssetList(e,t){const s=e.assetListUrl;let n;try{n=nR(s,this.hls.sessionId,e.baseUrl)}catch(g){const E=this.assignAssetListError(e,Q.ASSET_LIST_LOAD_ERROR,g,s);this.hls.trigger(A.ERROR,E);return}t&&n.protocol!=="data:"&&n.searchParams.set("_HLS_start_offset",""+t);const a=this.hls.config,l=a.loader,u=new l(a),h={responseType:"json",url:n.href},d=a.interstitialAssetListLoadPolicy.default,m={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},p={onSuccess:(g,E,b,k)=>{const S=g.data,x=S==null?void 0:S.ASSETS;if(!Array.isArray(x)){const _=this.assignAssetListError(e,Q.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),b.url,E,k);this.hls.trigger(A.ERROR,_);return}e.assetListResponse=S,this.hls.trigger(A.ASSET_LIST_LOADED,{event:e,assetListResponse:S,networkDetails:k})},onError:(g,E,b,k)=>{const S=this.assignAssetListError(e,Q.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${g.code} ${g.text} (${E.url})`),E.url,k,b);this.hls.trigger(A.ERROR,S)},onTimeout:(g,E,b)=>{const k=this.assignAssetListError(e,Q.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${E.url})`),E.url,g,b);this.hls.trigger(A.ERROR,k)}};return u.load(h,m,p),this.hls.trigger(A.ASSET_LIST_LOADING,{event:e}),u}assignAssetListError(e,t,s,n,a,l){return e.error=s,{type:Ie.NETWORK_ERROR,details:t,fatal:!1,interstitial:e,url:n,error:s,networkDetails:l,stats:a}}}function qT(i){var e;i==null||(e=i.play())==null||e.catch(()=>{})}function wh(i,e){return`[${i}] Advancing timeline position to ${e}`}class A5 extends Ps{constructor(e,t){super("interstitials",e.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const s=this.currentTime;if(s===void 0||this.playbackDisabled||!this.schedule)return;const n=s-this.timelinePos;if(Math.abs(n)<1/7056e5)return;const l=n<=-.01;this.timelinePos=s,this.bufferedPos=s;const u=this.playingItem;if(!u){this.checkBuffer();return}if(l&&this.schedule.resetErrorsInRange(s,s-n)&&this.updateSchedule(!0),this.checkBuffer(),l&&s<u.start||s>=u.end){var h;const E=this.findItemIndex(u);let b=this.schedule.findItemIndexAtTime(s);if(b===-1&&(b=E+(l?-1:1),this.log(`seeked ${l?"back ":""}to position not covered by schedule ${s} (resolving from ${E} to ${b})`)),!this.isInterstitial(u)&&(h=this.media)!=null&&h.paused&&(this.shouldPlay=!1),!l&&b>E){const k=this.schedule.findJumpRestrictedIndex(E+1,b);if(k>E){this.setSchedulePosition(k);return}}this.setSchedulePosition(b);return}const d=this.playingAsset;if(!d){if(this.playingLastItem&&this.isInterstitial(u)){const E=u.event.assetList[0];E&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(s,E))}return}const m=d.timelineStart,p=d.duration||0;if(l&&s<m||s>=m+p){var g;(g=u.event)!=null&&g.appendInPlace&&(this.clearAssetPlayers(u.event,u),this.flushFrontBuffer(s)),this.setScheduleToAssetAtTime(s,d)}},this.onTimeupdate=()=>{const s=this.currentTime;if(s===void 0||this.playbackDisabled)return;if(s>this.timelinePos)this.timelinePos=s,s>this.bufferedPos&&this.checkBuffer();else return;const n=this.playingItem;if(!n||this.playingLastItem)return;if(s>=n.end){this.timelinePos=n.end;const u=this.findItemIndex(n);this.setSchedulePosition(u+1)}const a=this.playingAsset;if(!a)return;const l=a.timelineStart+(a.duration||0);s>=l&&this.setScheduleToAssetAtTime(s,a)},this.onScheduleUpdate=(s,n)=>{const a=this.schedule;if(!a)return;const l=this.playingItem,u=a.events||[],h=a.items||[],d=a.durations,m=s.map(k=>k.identifier),p=!!(u.length||m.length);(p||n)&&this.log(`INTERSTITIALS_UPDATED (${u.length}): ${u}
Schedule: ${h.map(k=>zs(k))} pos: ${this.timelinePos}`),m.length&&this.log(`Removed events ${m}`);let g=null,E=null;l&&(g=this.updateItem(l,this.timelinePos),this.itemsMatch(l,g)?this.playingItem=g:this.waitingItem=this.endedItem=null),this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const b=this.bufferingItem;if(b&&(E=this.updateItem(b,this.bufferedPos),this.itemsMatch(b,E)?this.bufferingItem=E:b.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(b.event,null))),s.forEach(k=>{k.assetList.forEach(S=>{this.clearAssetPlayer(S.identifier,null)})}),this.playerQueue.forEach(k=>{if(k.interstitial.appendInPlace){const S=k.assetItem.timelineStart,x=k.timelineOffset-S;if(x)try{k.timelineOffset=S}catch(_){Math.abs(x)>Sl&&this.warn(`${_} ("${k.assetId}" ${k.timelineOffset}->${S})`)}}}),p||n){if(this.hls.trigger(A.INTERSTITIALS_UPDATED,{events:u.slice(0),schedule:h.slice(0),durations:d,removedIds:m}),this.isInterstitial(l)&&m.includes(l.event.identifier)){this.warn(`Interstitial "${l.event.identifier}" removed while playing`),this.primaryFallback(l.event);return}l&&this.trimInPlace(g,l),b&&E!==g&&this.trimInPlace(E,b),this.checkBuffer()}},this.hls=e,this.HlsPlayerClass=t,this.assetListLoader=new T5(e),this.schedule=new x5(this.onScheduleUpdate,e.logger),this.registerListeners()}registerListeners(){const e=this.hls;e&&(e.on(A.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(A.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(A.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.on(A.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(A.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.on(A.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.on(A.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.on(A.BUFFER_APPENDED,this.onBufferAppended,this),e.on(A.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(A.BUFFERED_TO_END,this.onBufferedToEnd,this),e.on(A.MEDIA_ENDED,this.onMediaEnded,this),e.on(A.ERROR,this.onError,this),e.on(A.DESTROYING,this.onDestroying,this))}unregisterListeners(){const e=this.hls;e&&(e.off(A.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(A.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(A.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.off(A.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(A.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.off(A.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.off(A.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.off(A.BUFFER_CODECS,this.onBufferCodecs,this),e.off(A.BUFFER_APPENDED,this.onBufferAppended,this),e.off(A.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(A.BUFFERED_TO_END,this.onBufferedToEnd,this),e.off(A.MEDIA_ENDED,this.onMediaEnded,this),e.off(A.ERROR,this.onError,this),e.off(A.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var e;(e=this.getBufferingPlayer())==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.getBufferingPlayer())==null||e.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.schedule=this.manager=null,this.hls=this.HlsPlayerClass=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const e=this.primaryMedia||this.media;e&&this.removeMediaListeners(e)}removeMediaListeners(e){is(e,"play",this.onPlay),is(e,"pause",this.onPause),is(e,"seeking",this.onSeeking),is(e,"timeupdate",this.onTimeupdate)}onMediaAttaching(e,t){const s=this.media=t.media;Ui(s,"seeking",this.onSeeking),Ui(s,"timeupdate",this.onTimeupdate),Ui(s,"play",this.onPlay),Ui(s,"pause",this.onPause)}onMediaAttached(e,t){const s=this.effectivePlayingItem,n=this.detachedData;if(this.detachedData=null,s===null)this.checkStart();else if(!n){this.clearScheduleState();const a=this.findItemIndex(s);this.setSchedulePosition(a)}}clearScheduleState(){this.log("clear schedule state"),this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(e,t){const s=!!t.transferMedia,n=this.media;if(this.media=null,!s&&(n&&this.removeMediaListeners(n),this.detachedData)){const a=this.getBufferingPlayer();a&&(this.log(`Removing schedule state for detachedData and ${a}`),this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,a.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.hls)return null;if(this.manager)return this.manager;const e=this,t=()=>e.bufferingItem||e.waitingItem,s=p=>p&&e.getAssetPlayer(p.identifier),n=(p,g,E,b,k)=>{if(p){let S=p[g].start;const x=p.event;if(x){if(g==="playout"||x.timelineOccupancy!==Of.Point){const _=s(E);(_==null?void 0:_.interstitial)===x&&(S+=_.assetItem.startOffset+_[k])}}else{const _=b==="bufferedPos"?l():e[b];S+=_-p.start}return S}return 0},a=(p,g)=>{var E;if(p!==0&&g!=="primary"&&(E=e.schedule)!=null&&E.length){var b;const k=e.schedule.findItemIndexAtTime(p),S=(b=e.schedule.items)==null?void 0:b[k];if(S){const x=S[g].start-S.start;return p+x}}return p},l=()=>{const p=e.bufferedPos;return p===Number.MAX_VALUE?u("primary"):Math.max(p,0)},u=p=>{var g,E;return(g=e.primaryDetails)!=null&&g.live?e.primaryDetails.edge:((E=e.schedule)==null?void 0:E.durations[p])||0},h=(p,g)=>{var E,b;const k=e.effectivePlayingItem;if(k!=null&&(E=k.event)!=null&&E.restrictions.skip||!e.schedule)return;e.log(`seek to ${p} "${g}"`);const S=e.effectivePlayingItem,x=e.schedule.findItemIndexAtTime(p,g),_=(b=e.schedule.items)==null?void 0:b[x],w=e.getBufferingPlayer(),R=w==null?void 0:w.interstitial,C=R==null?void 0:R.appendInPlace,I=S&&e.itemsMatch(S,_);if(S&&(C||I)){const L=s(e.playingAsset),P=(L==null?void 0:L.media)||e.primaryMedia;if(P){const M=g==="primary"?P.currentTime:n(S,g,e.playingAsset,"timelinePos","currentTime"),N=p-M,H=(C?M:P.currentTime)+N;if(H>=0&&(!L||C||H<=L.duration)){P.currentTime=H;return}}}if(_){let L=p;if(g!=="primary"){const M=_[g].start,N=p-M;L=_.start+N}const P=!e.isInterstitial(_);if((!e.isInterstitial(S)||S.event.appendInPlace)&&(P||_.event.appendInPlace)){const M=e.media||(C?w==null?void 0:w.media:null);M&&(M.currentTime=L)}else if(S){const M=e.findItemIndex(S);if(x>M){const H=e.schedule.findJumpRestrictedIndex(M+1,x);if(H>M){e.setSchedulePosition(H);return}}let N=0;if(P)e.timelinePos=L,e.checkBuffer();else{const H=_.event.assetList,se=p-(_[g]||_).start;for(let ge=H.length;ge--;){const ve=H[ge];if(ve.duration&&se>=ve.startOffset&&se<ve.startOffset+ve.duration){N=ge;break}}}e.setSchedulePosition(x,N)}}},d=()=>{const p=e.effectivePlayingItem;if(e.isInterstitial(p))return p;const g=t();return e.isInterstitial(g)?g:null},m={get bufferedEnd(){const p=t(),g=e.bufferingItem;if(g&&g===p){var E;return n(g,"playout",e.bufferingAsset,"bufferedPos","bufferedEnd")-g.playout.start||((E=e.bufferingAsset)==null?void 0:E.startOffset)||0}return 0},get currentTime(){const p=d(),g=e.effectivePlayingItem;return g&&g===p?n(g,"playout",e.effectivePlayingAsset,"timelinePos","currentTime")-g.playout.start:0},set currentTime(p){const g=d(),E=e.effectivePlayingItem;E&&E===g&&h(p+E.playout.start,"playout")},get duration(){const p=d();return p?p.playout.end-p.playout.start:0},get assetPlayers(){var p;const g=(p=d())==null?void 0:p.event.assetList;return g?g.map(E=>e.getAssetPlayer(E.identifier)):[]},get playingIndex(){var p;const g=(p=d())==null?void 0:p.event;return g&&e.effectivePlayingAsset?g.findAssetIndex(e.effectivePlayingAsset):-1},get scheduleItem(){return d()}};return this.manager={get events(){var p;return((p=e.schedule)==null||(p=p.events)==null?void 0:p.slice(0))||[]},get schedule(){var p;return((p=e.schedule)==null||(p=p.items)==null?void 0:p.slice(0))||[]},get interstitialPlayer(){return d()?m:null},get playerQueue(){return e.playerQueue.slice(0)},get bufferingAsset(){return e.bufferingAsset},get bufferingItem(){return t()},get bufferingIndex(){const p=t();return e.findItemIndex(p)},get playingAsset(){return e.effectivePlayingAsset},get playingItem(){return e.effectivePlayingItem},get playingIndex(){const p=e.effectivePlayingItem;return e.findItemIndex(p)},primary:{get bufferedEnd(){return l()},get currentTime(){const p=e.timelinePos;return p>0?p:0},set currentTime(p){h(p,"primary")},get duration(){return u("primary")},get seekableStart(){var p;return((p=e.primaryDetails)==null?void 0:p.fragmentStart)||0}},integrated:{get bufferedEnd(){return n(t(),"integrated",e.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return n(e.effectivePlayingItem,"integrated",e.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(p){h(p,"integrated")},get duration(){return u("integrated")},get seekableStart(){var p;return a(((p=e.primaryDetails)==null?void 0:p.fragmentStart)||0,"integrated")}},skip:()=>{const p=e.effectivePlayingItem,g=p==null?void 0:p.event;if(g&&!g.restrictions.skip){const E=e.findItemIndex(p);if(g.appendInPlace){const b=p.playout.start+p.event.duration;h(b+.001,"playout")}else e.advanceAfterAssetEnded(g,E,1/0)}}}}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var e;const t=this.playingItem,s=(e=this.schedule)==null?void 0:e.items;return!this.playbackStarted||!t||!s?!1:this.findItemIndex(t)===s.length-1}get playbackStarted(){return this.effectivePlayingItem!==null}get currentTime(){var e,t;if(this.mediaSelection===null)return;const s=this.waitingItem||this.playingItem;if(this.isInterstitial(s)&&!s.event.appendInPlace)return;let n=this.media;!n&&(e=this.bufferingItem)!=null&&(e=e.event)!=null&&e.appendInPlace&&(n=this.primaryMedia);const a=(t=n)==null?void 0:t.currentTime;if(!(a===void 0||!Ae(a)))return a}get primaryMedia(){var e;return this.media||((e=this.detachedData)==null?void 0:e.media)||null}isInterstitial(e){return!!(e!=null&&e.event)}retreiveMediaSource(e,t){const s=this.getAssetPlayer(e);s&&this.transferMediaFromPlayer(s,t)}transferMediaFromPlayer(e,t){const s=e.interstitial.appendInPlace,n=e.media;if(s&&n===this.primaryMedia){if(this.bufferingAsset=null,(!t||this.isInterstitial(t)&&!t.event.appendInPlace)&&t&&n){this.detachedData={media:n};return}const a=e.transferMedia();this.log(`transfer MediaSource from ${e} ${Ot(a)}`),this.detachedData=a}else t&&n&&(this.shouldPlay||(this.shouldPlay=!n.paused))}transferMediaTo(e,t){var s,n;if(e.media===t)return;let a=null;const l=this.hls,u=e!==l,h=u&&e.interstitial.appendInPlace,d=(s=this.detachedData)==null?void 0:s.mediaSource;let m;if(l.media)h&&(a=l.transferMedia(),this.detachedData=a),m="Primary";else if(d){const b=this.getBufferingPlayer();b?(a=b.transferMedia(),m=`${b}`):m="detached MediaSource"}else m="detached media";if(!a){if(d)a=this.detachedData,this.log(`using detachedData: MediaSource ${Ot(a)}`);else if(!this.detachedData||l.media===t){const b=this.playerQueue;b.length>1&&b.forEach(k=>{if(u&&k.interstitial.appendInPlace!==h){const S=k.interstitial;this.clearInterstitial(k.interstitial,null),S.appendInPlace=!1,S.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${S}`)}}),this.hls.detachMedia(),this.detachedData={media:t}}}const p=a&&"mediaSource"in a&&((n=a.mediaSource)==null?void 0:n.readyState)!=="closed",g=p&&a?a:t;this.log(`${p?"transfering MediaSource":"attaching media"} to ${u?e:"Primary"} from ${m} (media.currentTime: ${t.currentTime})`);const E=this.schedule;if(g===a&&E){const b=u&&e.assetId===E.assetIdAtEnd;g.overrides={duration:E.duration,endOfStream:!u||b,cueRemoval:!u}}e.attachMedia(g)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const e=this.schedule,t=e==null?void 0:e.events;if(!t||this.playbackDisabled||!this.media)return;this.bufferedPos===-1&&(this.bufferedPos=0);const s=this.timelinePos,n=this.effectivePlayingItem;if(s===-1){const a=this.hls.startPosition;if(this.log(wh("checkStart",a)),this.timelinePos=a,t.length&&t[0].cue.pre){const l=e.findEventIndex(t[0].identifier);this.setSchedulePosition(l)}else if(a>=0||!this.primaryLive){const l=this.timelinePos=a>0?a:0,u=e.findItemIndexAtTime(l);this.setSchedulePosition(u)}}else if(n&&!this.playingItem){const a=e.findItemIndex(n);this.setSchedulePosition(a)}}advanceAssetBuffering(e,t){const s=e.event,n=s.findAssetIndex(t),a=r0(s,n);if(!s.isAssetPastPlayoutLimit(a))this.bufferedToEvent(e,a);else if(this.schedule){var l;const u=(l=this.schedule.items)==null?void 0:l[this.findItemIndex(e)+1];u&&this.bufferedToItem(u)}}advanceAfterAssetEnded(e,t,s){const n=r0(e,s);if(e.isAssetPastPlayoutLimit(n)){if(this.schedule){const a=this.schedule.items;if(a){const l=t+1,u=a.length;if(l>=u){this.setSchedulePosition(-1);return}const h=e.resumeTime;this.timelinePos<h&&(this.log(wh("advanceAfterAssetEnded",h)),this.timelinePos=h,e.appendInPlace&&this.advanceInPlace(h),this.checkBuffer(this.bufferedPos<h)),this.setSchedulePosition(l)}}}else{if(e.appendInPlace){const a=e.assetList[n];a&&this.advanceInPlace(a.timelineStart)}this.setSchedulePosition(t,n)}}setScheduleToAssetAtTime(e,t){const s=this.schedule;if(!s)return;const n=t.parentIdentifier,a=s.getEvent(n);if(a){const l=s.findEventIndex(n),u=s.findAssetIndex(a,e);this.advanceAfterAssetEnded(a,l,u-1)}}setSchedulePosition(e,t){var s;const n=(s=this.schedule)==null?void 0:s.items;if(!n||this.playbackDisabled)return;const a=e>=0?n[e]:null;this.log(`setSchedulePosition ${e}, ${t} (${a&&zs(a)}) pos: ${this.timelinePos}`);const l=this.waitingItem||this.playingItem,u=this.playingLastItem;if(this.isInterstitial(l)){const m=l.event,p=this.playingAsset,g=p==null?void 0:p.identifier,E=g?this.getAssetPlayer(g):null;if(E&&g&&(!this.eventItemsMatch(l,a)||t!==void 0&&g!==m.assetList[t].identifier)){var h;const b=m.findAssetIndex(p);if(this.log(`INTERSTITIAL_ASSET_ENDED ${b+1}/${m.assetList.length} ${dl(p)}`),this.endedAsset=p,this.playingAsset=null,this.hls.trigger(A.INTERSTITIAL_ASSET_ENDED,{asset:p,assetListIndex:b,event:m,schedule:n.slice(0),scheduleIndex:e,player:E}),l!==this.playingItem){this.itemsMatch(l,this.playingItem)&&!this.playingAsset&&this.advanceAfterAssetEnded(m,this.findItemIndex(this.playingItem),b);return}this.retreiveMediaSource(g,a),E.media&&!((h=this.detachedData)!=null&&h.mediaSource)&&E.detachMedia()}if(!this.eventItemsMatch(l,a)&&(this.endedItem=l,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${m} ${zs(l)}`),m.hasPlayed=!0,this.hls.trigger(A.INTERSTITIAL_ENDED,{event:m,schedule:n.slice(0),scheduleIndex:e}),m.cue.once)){var d;this.updateSchedule();const b=(d=this.schedule)==null?void 0:d.items;if(a&&b){const k=this.findItemIndex(a);this.advanceSchedule(k,b,t,l,u)}return}}this.advanceSchedule(e,n,t,l,u)}advanceSchedule(e,t,s,n,a){const l=this.schedule;if(!l)return;const u=t[e]||null,h=this.primaryMedia,d=this.playerQueue;if(d.length&&d.forEach(m=>{const p=m.interstitial,g=l.findEventIndex(p.identifier);(g<e||g>e+1)&&this.clearInterstitial(p,u)}),this.isInterstitial(u)){this.timelinePos=Math.min(Math.max(this.timelinePos,u.start),u.end);const m=u.event;if(s===void 0){s=l.findAssetIndex(m,this.timelinePos);const b=r0(m,s-1);if(m.isAssetPastPlayoutLimit(b)||m.appendInPlace&&this.timelinePos===u.end){this.advanceAfterAssetEnded(m,e,s);return}s=b}const p=this.waitingItem;this.assetsBuffered(u,h)||this.setBufferingItem(u);let g=this.preloadAssets(m,s);if(this.eventItemsMatch(u,p||n)||(this.waitingItem=u,this.log(`INTERSTITIAL_STARTED ${zs(u)} ${m.appendInPlace?"append in place":""}`),this.hls.trigger(A.INTERSTITIAL_STARTED,{event:m,schedule:t.slice(0),scheduleIndex:e})),!m.assetListLoaded){this.log(`Waiting for ASSET-LIST to complete loading ${m}`);return}if(m.assetListLoader&&(m.assetListLoader.destroy(),m.assetListLoader=void 0),!h){this.log(`Waiting for attachMedia to start Interstitial ${m}`);return}this.waitingItem=this.endedItem=null,this.playingItem=u;const E=m.assetList[s];if(!E){this.advanceAfterAssetEnded(m,e,s||0);return}if(g||(g=this.getAssetPlayer(E.identifier)),g===null||g.destroyed){const b=m.assetList.length;this.warn(`asset ${s+1}/${b} player destroyed ${m}`),g=this.createAssetPlayer(m,E,s),g.loadSource()}if(!this.eventItemsMatch(u,this.bufferingItem)&&m.appendInPlace&&this.isAssetBuffered(E))return;this.startAssetPlayer(g,s,t,e,h),this.shouldPlay&&qT(g.media)}else u?(this.resumePrimary(u,e,n),this.shouldPlay&&qT(this.hls.media)):a&&this.isInterstitial(n)&&(this.endedItem=null,this.playingItem=n,n.event.appendInPlace||this.attachPrimary(l.durations.primary,null))}get playbackDisabled(){return this.hls.config.enableInterstitialPlayback===!1}get primaryDetails(){var e;return(e=this.mediaSelection)==null?void 0:e.main.details}get primaryLive(){var e;return!!((e=this.primaryDetails)!=null&&e.live)}resumePrimary(e,t,s){var n,a;if(this.playingItem=e,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(e),this.log(`resuming ${zs(e)}`),!((n=this.detachedData)!=null&&n.mediaSource)){let u=this.timelinePos;(u<e.start||u>=e.end)&&(u=this.getPrimaryResumption(e,t),this.log(wh("resumePrimary",u)),this.timelinePos=u),this.attachPrimary(u,e)}if(!s)return;const l=(a=this.schedule)==null?void 0:a.items;l&&(this.log(`INTERSTITIALS_PRIMARY_RESUMED ${zs(e)}`),this.hls.trigger(A.INTERSTITIALS_PRIMARY_RESUMED,{schedule:l.slice(0),scheduleIndex:t}),this.checkBuffer())}getPrimaryResumption(e,t){const s=e.start;if(this.primaryLive){const n=this.primaryDetails;if(t===0)return this.hls.startPosition;if(n&&(s<n.fragmentStart||s>n.edge))return this.hls.liveSyncPosition||-1}return s}isAssetBuffered(e){const t=this.getAssetPlayer(e.identifier);return t!=null&&t.hls?t.hls.bufferedToEnd:Ke.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=e.timelineStart+(e.duration||0)}attachPrimary(e,t,s){t?this.setBufferingItem(t):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const n=this.primaryMedia;if(!n)return;const a=this.hls;a.media?this.checkBuffer():(this.transferMediaTo(a,n),s&&this.startLoadingPrimaryAt(e,s)),s||(this.log(wh("attachPrimary",e)),this.timelinePos=e,this.startLoadingPrimaryAt(e,s))}startLoadingPrimaryAt(e,t){var s;const n=this.hls;!n.loadingEnabled||!n.media||Math.abs((((s=n.mainForwardBufferInfo)==null?void 0:s.start)||n.media.currentTime)-e)>.5?n.startLoad(e,t):n.bufferingEnabled||n.resumeBuffering()}onManifestLoading(){var e;this.stopLoad(),(e=this.schedule)==null||e.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(A.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(A.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(e,t){if(t.level===-1||!this.schedule)return;const s=this.hls.levels[t.level];if(!s.details)return;const n=wt(wt({},this.mediaSelection||this.altSelection),{},{main:s});this.mediaSelection=n,this.schedule.parseInterstitialDateRanges(n,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(e,t){const s=this.hls.audioTracks[t.id],n=this.mediaSelection;if(!n){this.altSelection=wt(wt({},this.altSelection),{},{audio:s});return}const a=wt(wt({},n),{},{audio:s});this.mediaSelection=a}onSubtitleTrackUpdated(e,t){const s=this.hls.subtitleTracks[t.id],n=this.mediaSelection;if(!n){this.altSelection=wt(wt({},this.altSelection),{},{subtitles:s});return}const a=wt(wt({},n),{},{subtitles:s});this.mediaSelection=a}onAudioTrackSwitching(e,t){const s=eT(t);this.playerQueue.forEach(({hls:n})=>n&&(n.setAudioOption(t)||n.setAudioOption(s)))}onSubtitleTrackSwitch(e,t){const s=eT(t);this.playerQueue.forEach(({hls:n})=>n&&(n.setSubtitleOption(t)||t.id!==-1&&n.setSubtitleOption(s)))}onBufferCodecs(e,t){const s=t.tracks;s&&(this.requiredTracks=s)}onBufferAppended(e,t){this.checkBuffer()}onBufferFlushed(e,t){const s=this.playingItem;if(s&&!this.itemsMatch(s,this.bufferingItem)&&!this.isInterstitial(s)){const n=this.timelinePos;this.bufferedPos=n,this.checkBuffer()}}onBufferedToEnd(e){if(!this.schedule)return;const t=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&t){for(let n=0;n<t.length;n++){const a=t[n];if(a.cue.post){var s;const l=this.schedule.findEventIndex(a.identifier),u=(s=this.schedule.items)==null?void 0:s[l];this.isInterstitial(u)&&this.eventItemsMatch(u,this.bufferingItem)&&this.bufferedToItem(u,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(e){const t=this.playingItem;if(!this.playingLastItem&&t){const s=this.findItemIndex(t);this.setSchedulePosition(s+1)}else this.shouldPlay=!1}updateItem(e,t){var s;const n=(s=this.schedule)==null?void 0:s.items;if(e&&n){const a=this.findItemIndex(e,t);return n[a]||null}return null}trimInPlace(e,t){if(this.isInterstitial(e)&&e.event.appendInPlace&&t.end-e.end>.25){e.event.assetList.forEach((a,l)=>{e.event.isAssetPastPlayoutLimit(l)&&this.clearAssetPlayer(a.identifier,null)});const s=e.end+.25,n=Ke.bufferInfo(this.primaryMedia,s,0);(n.end>s||(n.nextStart||0)>s)&&(this.log(`trim buffered interstitial ${zs(e)} (was ${zs(t)})`),this.attachPrimary(s,null,!0),this.flushFrontBuffer(s))}}itemsMatch(e,t){return!!t&&(e===t||e.event&&t.event&&this.eventItemsMatch(e,t)||!e.event&&!t.event&&this.findItemIndex(e)===this.findItemIndex(t))}eventItemsMatch(e,t){var s;return!!t&&(e===t||e.event.identifier===((s=t.event)==null?void 0:s.identifier))}findItemIndex(e,t){return e&&this.schedule?this.schedule.findItemIndex(e,t):-1}updateSchedule(e=!1){var t;const s=this.mediaSelection;s&&((t=this.schedule)==null||t.updateSchedule(s,[],e))}checkBuffer(e){var t;const s=(t=this.schedule)==null?void 0:t.items;if(!s)return;const n=Ke.bufferInfo(this.primaryMedia,this.timelinePos,0);e&&(this.bufferedPos=this.timelinePos),e||(e=n.len<1),this.updateBufferedPos(n.end,s,e)}updateBufferedPos(e,t,s){const n=this.schedule,a=this.bufferingItem;if(this.bufferedPos>e||!n)return;if(t.length===1&&this.itemsMatch(t[0],a)){this.bufferedPos=e;return}const l=this.playingItem,u=this.findItemIndex(l);let h=n.findItemIndexAtTime(e);if(this.bufferedPos<e){var d;const m=this.findItemIndex(a),p=Math.min(m+1,t.length-1),g=t[p];if((h===-1&&a&&e>=a.end||(d=g.event)!=null&&d.appendInPlace&&e+.01>=g.start)&&(h=p),this.isInterstitial(a)){const E=a.event;if(p-u>1&&E.appendInPlace===!1||E.assetList.length===0&&E.assetListLoader)return}if(this.bufferedPos=e,h>m&&h>u)this.bufferedToItem(g);else{const E=this.primaryDetails;this.primaryLive&&E&&e>E.edge-E.targetduration&&g.start<E.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(g)&&this.preloadAssets(g.event,0)}}else s&&l&&!this.itemsMatch(l,a)&&(h===u?this.bufferedToItem(l):h===u+1&&this.bufferedToItem(t[h]))}assetsBuffered(e,t){return e.event.assetList.length===0?!1:!e.event.assetList.some(n=>{const a=this.getAssetPlayer(n.identifier);return!(a!=null&&a.bufferedInPlaceToEnd(t))})}setBufferingItem(e){const t=this.bufferingItem,s=this.schedule;if(!this.itemsMatch(e,t)&&s){const{items:n,events:a}=s;if(!n||!a)return t;const l=this.isInterstitial(e),u=this.getBufferingPlayer();this.bufferingItem=e,this.bufferedPos=Math.max(e.start,Math.min(e.end,this.timelinePos));const h=u?u.remaining:t?t.end-this.timelinePos:0;if(this.log(`INTERSTITIALS_BUFFERED_TO_BOUNDARY ${zs(e)}`+(t?` (${h.toFixed(2)} remaining)`:"")),!this.playbackDisabled)if(l){const d=s.findAssetIndex(e.event,this.bufferedPos);e.event.assetList.forEach((m,p)=>{const g=this.getAssetPlayer(m.identifier);g&&(p===d&&g.loadSource(),g.resumeBuffering())})}else this.hls.resumeBuffering(),this.playerQueue.forEach(d=>d.pauseBuffering());this.hls.trigger(A.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:a.slice(0),schedule:n.slice(0),bufferingIndex:this.findItemIndex(e),playingIndex:this.findItemIndex(this.playingItem)})}else this.bufferingItem!==e&&(this.bufferingItem=e);return t}bufferedToItem(e,t=0){const s=this.setBufferingItem(e);if(!this.playbackDisabled){if(this.isInterstitial(e))this.bufferedToEvent(e,t);else if(s!==null){this.bufferingAsset=null;const n=this.detachedData;n?n.mediaSource?this.attachPrimary(e.start,e,!0):this.preloadPrimary(e):this.preloadPrimary(e)}}}preloadPrimary(e){const t=this.findItemIndex(e),s=this.getPrimaryResumption(e,t);this.startLoadingPrimaryAt(s)}bufferedToEvent(e,t){const s=e.event,n=s.assetList.length===0&&!s.assetListLoader,a=s.cue.once;if(n||!a){const l=this.preloadAssets(s,t);if(l!=null&&l.interstitial.appendInPlace){const u=this.primaryMedia;u&&this.bufferAssetPlayer(l,u)}}}preloadAssets(e,t){const s=e.assetUrl,n=e.assetList.length,a=n===0&&!e.assetListLoader,l=e.cue.once;if(a){const h=e.timelineStart;if(e.appendInPlace){var u;const g=this.playingItem;!this.isInterstitial(g)&&(g==null||(u=g.nextEvent)==null?void 0:u.identifier)===e.identifier&&this.flushFrontBuffer(h+.25)}let d,m=0;if(!this.playingItem&&this.primaryLive&&(m=this.hls.startPosition,m===-1&&(m=this.hls.liveSyncPosition||0)),m&&!(e.cue.pre||e.cue.post)){const g=m-h;g>0&&(d=Math.round(g*1e3)/1e3)}if(this.log(`Load interstitial asset ${t+1}/${s?1:n} ${e}${d?` live-start: ${m} start-offset: ${d}`:""}`),s)return this.createAsset(e,0,0,h,e.duration,s);const p=this.assetListLoader.loadAssetList(e,d);p&&(e.assetListLoader=p)}else if(!l&&n){for(let d=t;d<n;d++){const m=e.assetList[d],p=this.getAssetPlayerQueueIndex(m.identifier);(p===-1||this.playerQueue[p].destroyed)&&!m.error&&this.createAssetPlayer(e,m,d)}const h=e.assetList[t];if(h){const d=this.getAssetPlayer(h.identifier);return d&&d.loadSource(),d}}return null}flushFrontBuffer(e){const t=this.requiredTracks;if(!t)return;this.log(`Removing front buffer starting at ${e}`),Object.keys(t).forEach(n=>{this.hls.trigger(A.BUFFER_FLUSHING,{startOffset:e,endOffset:1/0,type:n})})}getAssetPlayerQueueIndex(e){const t=this.playerQueue;for(let s=0;s<t.length;s++)if(e===t[s].assetId)return s;return-1}getAssetPlayer(e){const t=this.getAssetPlayerQueueIndex(e);return this.playerQueue[t]||null}getBufferingPlayer(){const{playerQueue:e,primaryMedia:t}=this;if(t){for(let s=0;s<e.length;s++)if(e[s].media===t)return e[s]}return null}createAsset(e,t,s,n,a,l){const u={parentIdentifier:e.identifier,identifier:b5(e,l,t),duration:a,startOffset:s,timelineStart:n,uri:l};return this.createAssetPlayer(e,u,t)}createAssetPlayer(e,t,s){const n=this.hls,a=n.userConfig;let l=a.videoPreference;const u=n.loadLevelObj||n.levels[n.currentLevel];(l||u)&&(l=Dt({},l),u.videoCodec&&(l.videoCodec=u.videoCodec),u.videoRange&&(l.allowedVideoRanges=[u.videoRange]));const h=n.audioTracks[n.audioTrack],d=n.subtitleTracks[n.subtitleTrack];let m=0;if(this.primaryLive||e.appendInPlace){const R=this.timelinePos-t.timelineStart;if(R>1){const C=t.duration;C&&R<C&&(m=R)}}const p=t.identifier,g=wt(wt({},a),{},{maxMaxBufferLength:Math.min(180,n.config.maxMaxBufferLength),autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:n.sessionId,assetPlayerId:p,abrEwmaDefaultEstimate:n.bandwidthEstimate,interstitialsController:void 0,startPosition:m,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:l,audioPreference:h||a.audioPreference,subtitlePreference:d||a.subtitlePreference});e.appendInPlace&&(e.appendInPlaceStarted=!0,t.timelineStart&&(g.timelineOffset=t.timelineStart));const E=g.cmcd;E!=null&&E.sessionId&&E.contentId&&(g.cmcd=Dt({},E,{contentId:cc(t.uri)})),this.getAssetPlayer(p)&&this.warn(`Duplicate date range identifier ${e} and asset ${p}`);const b=new S5(this.HlsPlayerClass,g,e,t);this.playerQueue.push(b),e.assetList[s]=t;let k=!0;const S=R=>{if(R.live){var C;const P=new Error(`Interstitials MUST be VOD assets ${e}`),M={fatal:!0,type:Ie.OTHER_ERROR,details:Q.INTERSTITIAL_ASSET_ITEM_ERROR,error:P},N=((C=this.schedule)==null?void 0:C.findEventIndex(e.identifier))||-1;this.handleAssetItemError(M,e,N,s,P.message);return}const I=R.edge-R.fragmentStart,L=t.duration;(k||L===null||I>L)&&(k=!1,this.log(`Interstitial asset "${p}" duration change ${L} > ${I}`),t.duration=I,this.updateSchedule())};b.on(A.LEVEL_UPDATED,(R,{details:C})=>S(C)),b.on(A.LEVEL_PTS_UPDATED,(R,{details:C})=>S(C)),b.on(A.EVENT_CUE_ENTER,()=>this.onInterstitialCueEnter());const x=(R,C)=>{const I=this.getAssetPlayer(p);if(I&&C.tracks){I.off(A.BUFFER_CODECS,x),I.tracks=C.tracks;const L=this.primaryMedia;this.bufferingAsset===I.assetItem&&L&&!I.media&&this.bufferAssetPlayer(I,L)}};b.on(A.BUFFER_CODECS,x);const _=()=>{var R;const C=this.getAssetPlayer(p);if(this.log(`buffered to end of asset ${C}`),!C||!this.schedule)return;const I=this.schedule.findEventIndex(e.identifier),L=(R=this.schedule.items)==null?void 0:R[I];this.isInterstitial(L)&&this.advanceAssetBuffering(L,t)};b.on(A.BUFFERED_TO_END,_);const w=R=>()=>{if(!this.getAssetPlayer(p)||!this.schedule)return;this.shouldPlay=!0;const I=this.schedule.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,I,R)};return b.once(A.MEDIA_ENDED,w(s)),b.once(A.PLAYOUT_LIMIT_REACHED,w(1/0)),b.on(A.ERROR,(R,C)=>{if(!this.schedule)return;const I=this.getAssetPlayer(p);if(C.details===Q.BUFFER_STALLED_ERROR){if(I!=null&&I.appendInPlace){this.handleInPlaceStall(e);return}this.onTimeupdate(),this.checkBuffer(!0);return}this.handleAssetItemError(C,e,this.schedule.findEventIndex(e.identifier),s,`Asset player error ${C.error} ${e}`)}),b.on(A.DESTROYING,()=>{if(!this.getAssetPlayer(p)||!this.schedule)return;const C=new Error(`Asset player destroyed unexpectedly ${p}`),I={fatal:!0,type:Ie.OTHER_ERROR,details:Q.INTERSTITIAL_ASSET_ITEM_ERROR,error:C};this.handleAssetItemError(I,e,this.schedule.findEventIndex(e.identifier),s,C.message)}),this.log(`INTERSTITIAL_ASSET_PLAYER_CREATED ${dl(t)}`),this.hls.trigger(A.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:t,assetListIndex:s,event:e,player:b}),b}clearInterstitial(e,t){this.clearAssetPlayers(e,t),e.reset()}clearAssetPlayers(e,t){e.assetList.forEach(s=>{this.clearAssetPlayer(s.identifier,t)})}resetAssetPlayer(e){const t=this.getAssetPlayerQueueIndex(e);if(t!==-1){this.log(`reset asset player "${e}" after error`);const s=this.playerQueue[t];this.transferMediaFromPlayer(s,null),s.resetDetails()}}clearAssetPlayer(e,t){const s=this.getAssetPlayerQueueIndex(e);if(s!==-1){const n=this.playerQueue[s];this.log(`clear ${n} toSegment: ${t&&zs(t)}`),this.transferMediaFromPlayer(n,t),this.playerQueue.splice(s,1),n.destroy()}}emptyPlayerQueue(){let e;for(;e=this.playerQueue.pop();)e.destroy();this.playerQueue=[]}startAssetPlayer(e,t,s,n,a){const{interstitial:l,assetItem:u,assetId:h}=e,d=l.assetList.length,m=this.playingAsset;this.endedAsset=null,this.playingAsset=u,(!m||m.identifier!==h)&&(m&&(this.clearAssetPlayer(m.identifier,s[n]),delete m.error),this.log(`INTERSTITIAL_ASSET_STARTED ${t+1}/${d} ${dl(u)}`),this.hls.trigger(A.INTERSTITIAL_ASSET_STARTED,{asset:u,assetListIndex:t,event:l,schedule:s.slice(0),scheduleIndex:n,player:e})),this.bufferAssetPlayer(e,a)}bufferAssetPlayer(e,t){var s,n;if(!this.schedule)return;const{interstitial:a,assetItem:l}=e,u=this.schedule.findEventIndex(a.identifier),h=(s=this.schedule.items)==null?void 0:s[u];if(!h)return;e.loadSource(),this.setBufferingItem(h),this.bufferingAsset=l;const d=this.getBufferingPlayer();if(d===e)return;const m=a.appendInPlace;if(m&&(d==null?void 0:d.interstitial.appendInPlace)===!1)return;const p=(d==null?void 0:d.tracks)||((n=this.detachedData)==null?void 0:n.tracks)||this.requiredTracks;if(m&&l!==this.playingAsset){if(!e.tracks){this.log(`Waiting for track info before buffering ${e}`);return}if(p&&!Uw(p,e.tracks)){const g=new Error(`Asset ${dl(l)} SourceBuffer tracks ('${Object.keys(e.tracks)}') are not compatible with primary content tracks ('${Object.keys(p)}')`),E={fatal:!0,type:Ie.OTHER_ERROR,details:Q.INTERSTITIAL_ASSET_ITEM_ERROR,error:g},b=a.findAssetIndex(l);this.handleAssetItemError(E,a,u,b,g.message);return}}this.transferMediaTo(e,t)}handleInPlaceStall(e){const t=this.schedule,s=this.primaryMedia;if(!t||!s)return;const n=s.currentTime,a=t.findAssetIndex(e,n),l=e.assetList[a];if(l){const u=this.getAssetPlayer(l.identifier);if(u){const h=u.currentTime||n-l.timelineStart,d=u.duration-h;if(this.warn(`Stalled at ${h} of ${h+d} in ${u} ${e} (media.currentTime: ${n})`),h&&(d/s.playbackRate<.5||u.bufferedInPlaceToEnd(s))&&u.hls){const m=t.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,m,a)}}}}advanceInPlace(e){const t=this.primaryMedia;t&&t.currentTime<e&&(t.currentTime=e)}handleAssetItemError(e,t,s,n,a){if(e.details===Q.BUFFER_STALLED_ERROR)return;const l=t.assetList[n]||null;if(this.warn(`INTERSTITIAL_ASSET_ERROR ${l&&dl(l)} ${e.error}`),!this.schedule)return;const u=(l==null?void 0:l.identifier)||"",h=this.getAssetPlayerQueueIndex(u),d=this.playerQueue[h]||null,m=this.schedule.items,p=Dt({},e,{fatal:!1,errorAction:bl(!0),asset:l,assetListIndex:n,event:t,schedule:m,scheduleIndex:s,player:d});if(this.hls.trigger(A.INTERSTITIAL_ASSET_ERROR,p),!e.fatal)return;const g=this.playingAsset,E=this.bufferingAsset,b=new Error(a);if(l&&(this.clearAssetPlayer(u,null),l.error=b),!t.assetList.some(k=>!k.error))t.error=b;else for(let k=n;k<t.assetList.length;k++)this.resetAssetPlayer(t.assetList[k].identifier);this.updateSchedule(!0),t.error?this.primaryFallback(t):g&&g.identifier===u?this.advanceAfterAssetEnded(t,s,n):E&&E.identifier===u&&this.isInterstitial(this.bufferingItem)&&this.advanceAssetBuffering(this.bufferingItem,E)}primaryFallback(e){const t=e.timelineStart,s=this.effectivePlayingItem;let n=this.timelinePos;if(s){this.log(`Fallback to primary from event "${e.identifier}" start: ${t} pos: ${n} playing: ${zs(s)} error: ${e.error}`),n===-1&&(n=this.hls.startPosition);const l=this.updateItem(s,n);this.itemsMatch(s,l)&&this.clearInterstitial(e,null),e.appendInPlace&&(this.attachPrimary(t,null),this.flushFrontBuffer(t))}else if(n===-1){this.checkStart();return}if(!this.schedule)return;const a=this.schedule.findItemIndexAtTime(n);this.setSchedulePosition(a)}onAssetListLoaded(e,t){var s,n;const a=t.event,l=a.identifier,u=t.assetListResponse.ASSETS;if(!((s=this.schedule)!=null&&s.hasEvent(l)))return;const h=a.timelineStart,d=a.duration;let m=0;u.forEach((k,S)=>{const x=parseFloat(k.DURATION);this.createAsset(a,S,m,h+m,x,k.URI),m+=x}),a.duration=m,this.log(`Loaded asset-list with duration: ${m} (was: ${d}) ${a}`);const p=this.waitingItem,g=(p==null?void 0:p.event.identifier)===l;this.updateSchedule();const E=(n=this.bufferingItem)==null?void 0:n.event;if(g){var b;const k=this.schedule.findEventIndex(l),S=(b=this.schedule.items)==null?void 0:b[k];if(S){if(!this.playingItem&&this.timelinePos>S.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==k){a.error=new Error(`Interstitial ${u.length?"no longer within playback range":"asset-list is empty"} ${this.timelinePos} ${a}`),this.log(a.error.message),this.updateSchedule(!0),this.primaryFallback(a);return}this.setBufferingItem(S)}this.setSchedulePosition(k)}else if((E==null?void 0:E.identifier)===l){const k=a.assetList[0];if(k){const S=this.getAssetPlayer(k.identifier);if(E.appendInPlace){const x=this.primaryMedia;S&&x&&this.bufferAssetPlayer(S,x)}else S&&S.loadSource()}}}onError(e,t){if(this.schedule)switch(t.details){case Q.ASSET_LIST_PARSING_ERROR:case Q.ASSET_LIST_LOAD_ERROR:case Q.ASSET_LIST_LOAD_TIMEOUT:{const s=t.interstitial;s&&(this.updateSchedule(!0),this.primaryFallback(s));break}case Q.BUFFER_STALLED_ERROR:{const s=this.endedItem||this.waitingItem||this.playingItem;if(this.isInterstitial(s)&&s.event.appendInPlace){this.handleInPlaceStall(s.event);return}this.log(`Primary player stall @${this.timelinePos} bufferedPos: ${this.bufferedPos}`),this.onTimeupdate(),this.checkBuffer(!0);break}}}}const VT=500;class w5 extends ov{constructor(e,t,s){super(e,t,s,"subtitle-stream-controller",Re.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(A.LEVEL_LOADED,this.onLevelLoaded,this),e.on(A.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(A.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(A.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(A.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(A.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(A.LEVEL_LOADED,this.onLevelLoaded,this),e.off(A.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(A.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(A.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(A.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(A.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(e,t){this.stopLoad(),this.state=ce.IDLE,this.setInterval(VT),this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(e,t){this.tracksBuffered=[],super.onMediaDetaching(e,t)}onLevelLoaded(e,t){this.mainDetails=t.details}onSubtitleFragProcessed(e,t){const{frag:s,success:n}=t;if(this.fragContextChanged(s)||(Qt(s)&&(this.fragPrevious=s),this.state=ce.IDLE),!n)return;const a=this.tracksBuffered[this.currentTrackId];if(!a)return;let l;const u=s.start;for(let d=0;d<a.length;d++)if(u>=a[d].start&&u<=a[d].end){l=a[d];break}const h=s.start+s.duration;l?l.end=h:(l={start:u,end:h},a.push(l)),this.fragmentTracker.fragBuffered(s),this.fragBufferedComplete(s,null),this.media&&this.tick()}onBufferFlushing(e,t){const{startOffset:s,endOffset:n}=t;if(s===0&&n!==Number.POSITIVE_INFINITY){const a=n-1;if(a<=0)return;t.endOffsetSubtitles=Math.max(0,a),this.tracksBuffered.forEach(l=>{for(let u=0;u<l.length;){if(l[u].end<=a){l.shift();continue}else if(l[u].start<a)l[u].start=a;else break;u++}}),this.fragmentTracker.removeFragmentsInRange(s,a,Re.SUBTITLE)}}onError(e,t){const s=t.frag;(s==null?void 0:s.type)===Re.SUBTITLE&&(t.details===Q.FRAG_GAP&&this.fragmentTracker.fragBuffered(s,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==ce.STOPPED&&(this.state=ce.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:t}){if(this.levels&&G_(this.levels,t)){this.levels=t.map(s=>new Oc(s));return}this.tracksBuffered=[],this.levels=t.map(s=>{const n=new Oc(s);return this.tracksBuffered[n.id]=[],n}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Re.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,t){var s;if(this.currentTrackId=t.id,!((s=this.levels)!=null&&s.length)||this.currentTrackId===-1){this.clearInterval();return}const n=this.levels[this.currentTrackId];n!=null&&n.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,n&&this.state!==ce.STOPPED&&this.setInterval(VT)}onSubtitleTrackLoaded(e,t){var s;const{currentTrackId:n,levels:a}=this,{details:l,id:u}=t;if(!a){this.warn(`Subtitle tracks were reset while loading level ${u}`);return}const h=a[u];if(u>=a.length||!h)return;this.log(`Subtitle track ${u} loaded [${l.startSN},${l.endSN}]${l.lastPartSn?`[part-${l.lastPartSn}-${l.lastPartIndex}]`:""},duration:${l.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let d=0;if(l.live||(s=h.details)!=null&&s.live){if(l.deltaUpdateFailed)return;const p=this.mainDetails;if(!p){this.startFragRequested=!1;return}const g=p.fragments[0];if(!h.details)l.hasProgramDateTime&&p.hasProgramDateTime?(If(l,p),d=l.fragmentStart):g&&(d=g.start,cy(l,d));else{var m;d=this.alignPlaylists(l,h.details,(m=this.levelLastLoaded)==null?void 0:m.details),d===0&&g&&(d=g.start,cy(l,d))}p&&!this.startFragRequested&&this.setStartPosition(p,d)}h.details=l,this.levelLastLoaded=h,u===n&&(this.hls.trigger(A.SUBTITLE_TRACK_UPDATED,{details:l,id:u,groupId:t.groupId}),this.tick(),l.live&&!this.fragCurrent&&this.media&&this.state===ce.IDLE&&(uo(null,l.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),h.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:t,payload:s}=e,n=t.decryptdata,a=this.hls;if(!this.fragContextChanged(t)&&s&&s.byteLength>0&&n!=null&&n.key&&n.iv&&El(n.method)){const l=performance.now();this.decrypter.decrypt(new Uint8Array(s),n.key.buffer,n.iv.buffer,rv(n.method)).catch(u=>{throw a.trigger(A.ERROR,{type:Ie.MEDIA_ERROR,details:Q.FRAG_DECRYPT_ERROR,fatal:!1,error:u,reason:u.message,frag:t}),u}).then(u=>{const h=performance.now();a.trigger(A.FRAG_DECRYPTED,{frag:t,payload:u,stats:{tstart:l,tdecrypt:h}})}).catch(u=>{this.warn(`${u.name}: ${u.message}`),this.state=ce.IDLE})}}doTick(){if(!this.media){this.state=ce.IDLE;return}if(this.state===ce.IDLE){const{currentTrackId:e,levels:t}=this,s=t==null?void 0:t[e];if(!s||!t.length||!s.details||this.waitForLive(s))return;const{config:n}=this,a=this.getLoadPosition(),l=Ke.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],a,n.maxBufferHole),{end:u,len:h}=l,d=s.details,m=this.hls.maxBufferLength+d.levelTargetDuration;if(h>m)return;const p=d.fragments,g=p.length,E=d.edge;let b=null;const k=this.fragPrevious;if(u<E){const _=n.maxFragLookUpTolerance,w=u>E-_?0:_;b=uo(k,p,Math.max(p[0].start,u),w),!b&&k&&k.start<p[0].start&&(b=p[0])}else b=p[g-1];if(b=this.filterReplacedPrimary(b,s.details),!b)return;const S=b.sn-d.startSN,x=p[S-1];if(x&&x.cc===b.cc&&this.fragmentTracker.getState(x)===li.NOT_LOADED&&(b=x),this.fragmentTracker.getState(b)===li.NOT_LOADED){const _=this.mapToInitFragWhenRequired(b);_&&this.loadFragment(_,s,u)}}}loadFragment(e,t,s){Qt(e)?super.loadFragment(e,t,s):this._loadInitSegment(e,t)}get mediaBufferTimeRanges(){return new _5(this.tracksBuffered[this.currentTrackId]||[])}}class _5{constructor(e){this.buffered=void 0;const t=(s,n,a)=>{if(n=n>>>0,n>a-1)throw new DOMException(`Failed to execute '${s}' on 'TimeRanges': The index provided (${n}) is greater than the maximum bound (${a})`);return e[n][s]};this.buffered={get length(){return e.length},end(s){return t("end",s,e.length)},start(s){return t("start",s,e.length)}}}}const R5={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},rR=i=>String.fromCharCode(R5[i]||i),Gs=15,Wn=100,L5={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},C5={17:2,18:4,21:6,22:8,23:10,19:13,20:15},D5={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},I5={25:2,26:4,29:6,30:8,31:10,27:13,28:15},j5=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class O5{constructor(){this.time=null,this.verboseLevel=0}log(e,t){if(this.verboseLevel>=e){const s=typeof t=="function"?t():t;_t.log(`${this.time} [${e}] ${s}`)}}}const Pa=function(e){const t=[];for(let s=0;s<e.length;s++)t.push(e[s].toString(16));return t};class aR{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const t=["foreground","underline","italics","background","flash"];for(let s=0;s<t.length;s++){const n=t[s];e.hasOwnProperty(n)&&(this[n]=e[n])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class M5{constructor(){this.uchar=" ",this.penState=new aR}reset(){this.uchar=" ",this.penState.reset()}setChar(e,t){this.uchar=e,this.penState.copy(t)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class P5{constructor(e){this.chars=[],this.pos=0,this.currPenState=new aR,this.cueStartTime=null,this.logger=void 0;for(let t=0;t<Wn;t++)this.chars.push(new M5);this.logger=e}equals(e){for(let t=0;t<Wn;t++)if(!this.chars[t].equals(e.chars[t]))return!1;return!0}copy(e){for(let t=0;t<Wn;t++)this.chars[t].copy(e.chars[t])}isEmpty(){let e=!0;for(let t=0;t<Wn;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Wn&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Wn)}moveCursor(e){const t=this.pos+e;if(e>1)for(let s=this.pos+1;s<t+1;s++)this.chars[s].setPenState(this.currPenState);this.setCursor(t)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const t=rR(e);if(this.pos>=Wn){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1)}clearFromPos(e){let t;for(t=e;t<Wn;t++)this.chars[t].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let t=!0;for(let s=0;s<Wn;s++){const n=this.chars[s].uchar;n!==" "&&(t=!1),e.push(n)}return t?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class a0{constructor(e){this.rows=[],this.currRow=Gs-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let t=0;t<Gs;t++)this.rows.push(new P5(e));this.logger=e}reset(){for(let e=0;e<Gs;e++)this.rows[e].clear();this.currRow=Gs-1}equals(e){let t=!0;for(let s=0;s<Gs;s++)if(!this.rows[s].equals(e.rows[s])){t=!1;break}return t}copy(e){for(let t=0;t<Gs;t++)this.rows[t].copy(e.rows[t])}isEmpty(){let e=!0;for(let t=0;t<Gs;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+Ot(e));let t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(let u=0;u<Gs;u++)this.rows[u].clear();const a=this.currRow+1-this.nrRollUpRows,l=this.lastOutputScreen;if(l){const u=l.rows[a].cueStartTime,h=this.logger.time;if(u!==null&&h!==null&&u<h)for(let d=0;d<this.nrRollUpRows;d++)this.rows[t-this.nrRollUpRows+d+1].copy(l.rows[a+d])}}this.currRow=t;const s=this.rows[this.currRow];if(e.indent!==null){const a=e.indent,l=Math.max(a-1,0);s.setCursor(e.indent),e.color=s.chars[l].penState.foreground}const n={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(n)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+Ot(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const t=[];let s="",n=-1;for(let a=0;a<Gs;a++){const l=this.rows[a].getTextString();l&&(n=a+1,e?t.push("Row "+n+": '"+l+"'"):t.push(l.trim()))}return t.length>0&&(e?s="["+t.join(" | ")+"]":s=t.join(`
`)),s}getTextAndFormat(){return this.rows}}class KT{constructor(e,t,s){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new a0(s),this.nonDisplayedMemory=new a0(s),this.lastOutputScreen=new a0(s),this.currRollUpRow=this.displayedMemory.rows[Gs-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=s}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[Gs-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let s=0;s<e.length;s++)this.writeScreen.insertChar(e[s]);const t=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>t+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{const s=Math.floor(e/2)-16,n=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=n[s]}this.logger.log(2,"MIDROW: "+Ot(t)),this.writeScreen.setPen(t)}outputDataUpdate(e=!1){const t=this.logger.time;t!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=t:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class YT{constructor(e,t,s){this.channels=void 0,this.currentChannel=0,this.cmdHistory=F5(),this.logger=void 0;const n=this.logger=new O5;this.channels=[null,new KT(e,t,n),new KT(e+1,s,n)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,t){this.channels[e].setHandler(t)}addData(e,t){this.logger.time=e;for(let s=0;s<t.length;s+=2){const n=t[s]&127,a=t[s+1]&127;let l=!1,u=null;if(n===0&&a===0)continue;this.logger.log(3,()=>"["+Pa([t[s],t[s+1]])+"] -> ("+Pa([n,a])+")");const h=this.cmdHistory;if(n>=16&&n<=31){if(N5(n,a,h)){_h(null,null,h),this.logger.log(3,()=>"Repeated command ("+Pa([n,a])+") is dropped");continue}_h(n,a,this.cmdHistory),l=this.parseCmd(n,a),l||(l=this.parseMidrow(n,a)),l||(l=this.parsePAC(n,a)),l||(l=this.parseBackgroundAttributes(n,a))}else _h(null,null,h);if(!l&&(u=this.parseChars(n,a),u)){const m=this.currentChannel;m&&m>0?this.channels[m].insertChars(u):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!l&&!u&&this.logger.log(2,()=>"Couldn't parse cleaned data "+Pa([n,a])+" orig: "+Pa([t[s],t[s+1]]))}}parseCmd(e,t){const s=(e===20||e===28||e===21||e===29)&&t>=32&&t<=47,n=(e===23||e===31)&&t>=33&&t<=35;if(!(s||n))return!1;const a=e===20||e===21||e===23?1:2,l=this.channels[a];return e===20||e===21||e===28||e===29?t===32?l.ccRCL():t===33?l.ccBS():t===34?l.ccAOF():t===35?l.ccAON():t===36?l.ccDER():t===37?l.ccRU(2):t===38?l.ccRU(3):t===39?l.ccRU(4):t===40?l.ccFON():t===41?l.ccRDC():t===42?l.ccTR():t===43?l.ccRTD():t===44?l.ccEDM():t===45?l.ccCR():t===46?l.ccENM():t===47&&l.ccEOC():l.ccTO(t-32),this.currentChannel=a,!0}parseMidrow(e,t){let s=0;if((e===17||e===25)&&t>=32&&t<=47){if(e===17?s=1:s=2,s!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const n=this.channels[s];return n?(n.ccMIDROW(t),this.logger.log(3,()=>"MIDROW ("+Pa([e,t])+")"),!0):!1}return!1}parsePAC(e,t){let s;const n=(e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127,a=(e===16||e===24)&&t>=64&&t<=95;if(!(n||a))return!1;const l=e<=23?1:2;t>=64&&t<=95?s=l===1?L5[e]:D5[e]:s=l===1?C5[e]:I5[e];const u=this.channels[l];return u?(u.setPAC(this.interpretPAC(s,t)),this.currentChannel=l,!0):!1}interpretPAC(e,t){let s;const n={color:null,italics:!1,indent:null,underline:!1,row:e};return t>95?s=t-96:s=t-64,n.underline=(s&1)===1,s<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(s/2)]:s<=15?(n.italics=!0,n.color="white"):n.indent=Math.floor((s-16)/2)*4,n}parseChars(e,t){let s,n=null,a=null;if(e>=25?(s=2,a=e-8):(s=1,a=e),a>=17&&a<=19){let l;a===17?l=t+80:a===18?l=t+112:l=t+144,this.logger.log(2,()=>"Special char '"+rR(l)+"' in channel "+s),n=[l]}else e>=32&&e<=127&&(n=t===0?[e]:[e,t]);return n&&this.logger.log(3,()=>"Char codes =  "+Pa(n).join(",")),n}parseBackgroundAttributes(e,t){const s=(e===16||e===24)&&t>=32&&t<=47,n=(e===23||e===31)&&t>=45&&t<=47;if(!(s||n))return!1;let a;const l={};e===16||e===24?(a=Math.floor((t-32)/2),l.background=j5[a],t%2===1&&(l.background=l.background+"_semi")):t===45?l.background="transparent":(l.foreground="black",t===47&&(l.underline=!0));const u=e<=23?1:2;return this.channels[u].setBkgData(l),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const t=this.channels[e];t&&t.reset()}_h(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let t=0;t<this.channels.length;t++){const s=this.channels[t];s&&s.cueSplitAtTime(e)}}}function _h(i,e,t){t.a=i,t.b=e}function N5(i,e,t){return t.a===i&&t.b===e}function F5(){return{a:null,b:null}}var bv=function(){if(Df!=null&&Df.VTTCue)return self.VTTCue;const i=["","lr","rl"],e=["start","middle","end","left","right"];function t(u,h){if(typeof h!="string"||!Array.isArray(u))return!1;const d=h.toLowerCase();return~u.indexOf(d)?d:!1}function s(u){return t(i,u)}function n(u){return t(e,u)}function a(u,...h){let d=1;for(;d<arguments.length;d++){const m=arguments[d];for(const p in m)u[p]=m[p]}return u}function l(u,h,d){const m=this,p={enumerable:!0};m.hasBeenReset=!1;let g="",E=!1,b=u,k=h,S=d,x=null,_="",w=!0,R="auto",C="start",I=50,L="middle",P=50,M="middle";Object.defineProperty(m,"id",a({},p,{get:function(){return g},set:function(N){g=""+N}})),Object.defineProperty(m,"pauseOnExit",a({},p,{get:function(){return E},set:function(N){E=!!N}})),Object.defineProperty(m,"startTime",a({},p,{get:function(){return b},set:function(N){if(typeof N!="number")throw new TypeError("Start time must be set to a number.");b=N,this.hasBeenReset=!0}})),Object.defineProperty(m,"endTime",a({},p,{get:function(){return k},set:function(N){if(typeof N!="number")throw new TypeError("End time must be set to a number.");k=N,this.hasBeenReset=!0}})),Object.defineProperty(m,"text",a({},p,{get:function(){return S},set:function(N){S=""+N,this.hasBeenReset=!0}})),Object.defineProperty(m,"region",a({},p,{get:function(){return x},set:function(N){x=N,this.hasBeenReset=!0}})),Object.defineProperty(m,"vertical",a({},p,{get:function(){return _},set:function(N){const H=s(N);if(H===!1)throw new SyntaxError("An invalid or illegal string was specified.");_=H,this.hasBeenReset=!0}})),Object.defineProperty(m,"snapToLines",a({},p,{get:function(){return w},set:function(N){w=!!N,this.hasBeenReset=!0}})),Object.defineProperty(m,"line",a({},p,{get:function(){return R},set:function(N){if(typeof N!="number"&&N!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");R=N,this.hasBeenReset=!0}})),Object.defineProperty(m,"lineAlign",a({},p,{get:function(){return C},set:function(N){const H=n(N);if(!H)throw new SyntaxError("An invalid or illegal string was specified.");C=H,this.hasBeenReset=!0}})),Object.defineProperty(m,"position",a({},p,{get:function(){return I},set:function(N){if(N<0||N>100)throw new Error("Position must be between 0 and 100.");I=N,this.hasBeenReset=!0}})),Object.defineProperty(m,"positionAlign",a({},p,{get:function(){return L},set:function(N){const H=n(N);if(!H)throw new SyntaxError("An invalid or illegal string was specified.");L=H,this.hasBeenReset=!0}})),Object.defineProperty(m,"size",a({},p,{get:function(){return P},set:function(N){if(N<0||N>100)throw new Error("Size must be between 0 and 100.");P=N,this.hasBeenReset=!0}})),Object.defineProperty(m,"align",a({},p,{get:function(){return M},set:function(N){const H=n(N);if(!H)throw new SyntaxError("An invalid or illegal string was specified.");M=H,this.hasBeenReset=!0}})),m.displayState=void 0}return l.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},l}();class B5{decode(e,t){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function oR(i){function e(s,n,a,l){return(s|0)*3600+(n|0)*60+(a|0)+parseFloat(l||0)}const t=i.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return t?parseFloat(t[2])>59?e(t[2],t[3],0,t[4]):e(t[1],t[2],t[3],t[4]):null}class U5{constructor(){this.values=Object.create(null)}set(e,t){!this.get(e)&&t!==""&&(this.values[e]=t)}get(e,t,s){return s?this.has(e)?this.values[e]:t[s]:this.has(e)?this.values[e]:t}has(e){return e in this.values}alt(e,t,s){for(let n=0;n<s.length;++n)if(t===s[n]){this.set(e,t);break}}integer(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))}percent(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){const s=parseFloat(t);if(s>=0&&s<=100)return this.set(e,s),!0}return!1}}function lR(i,e,t,s){const n=s?i.split(s):[i];for(const a in n){if(typeof n[a]!="string")continue;const l=n[a].split(t);if(l.length!==2)continue;const u=l[0],h=l[1];e(u,h)}}const vy=new bv(0,0,""),Rh=vy.align==="middle"?"middle":"center";function $5(i,e,t){const s=i;function n(){const u=oR(i);if(u===null)throw new Error("Malformed timestamp: "+s);return i=i.replace(/^[^\sa-zA-Z-]+/,""),u}function a(u,h){const d=new U5;lR(u,function(g,E){let b;switch(g){case"region":for(let k=t.length-1;k>=0;k--)if(t[k].id===E){d.set(g,t[k].region);break}break;case"vertical":d.alt(g,E,["rl","lr"]);break;case"line":b=E.split(","),d.integer(g,b[0]),d.percent(g,b[0])&&d.set("snapToLines",!1),d.alt(g,b[0],["auto"]),b.length===2&&d.alt("lineAlign",b[1],["start",Rh,"end"]);break;case"position":b=E.split(","),d.percent(g,b[0]),b.length===2&&d.alt("positionAlign",b[1],["start",Rh,"end","line-left","line-right","auto"]);break;case"size":d.percent(g,E);break;case"align":d.alt(g,E,["start",Rh,"end","left","right"]);break}},/:/,/\s/),h.region=d.get("region",null),h.vertical=d.get("vertical","");let m=d.get("line","auto");m==="auto"&&vy.line===-1&&(m=-1),h.line=m,h.lineAlign=d.get("lineAlign","start"),h.snapToLines=d.get("snapToLines",!0),h.size=d.get("size",100),h.align=d.get("align",Rh);let p=d.get("position","auto");p==="auto"&&vy.position===50&&(p=h.align==="start"||h.align==="left"?0:h.align==="end"||h.align==="right"?100:50),h.position=p}function l(){i=i.replace(/^\s+/,"")}if(l(),e.startTime=n(),l(),i.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+s);i=i.slice(3),l(),e.endTime=n(),l(),a(i,e)}function uR(i){return i.replace(/<br(?: \/)?>/gi,`
`)}class z5{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new B5,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const t=this;e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));function s(){let a=t.buffer,l=0;for(a=uR(a);l<a.length&&a[l]!=="\r"&&a[l]!==`
`;)++l;const u=a.slice(0,l);return a[l]==="\r"&&++l,a[l]===`
`&&++l,t.buffer=a.slice(l),u}function n(a){lR(a,function(l,u){},/:/)}try{let a="";if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer))return this;a=s();const u=a.match(/^()?WEBVTT([ \t].*)?$/);if(!(u!=null&&u[0]))throw new Error("Malformed WebVTT signature.");t.state="HEADER"}let l=!1;for(;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(l?l=!1:a=s(),t.state){case"HEADER":/:/.test(a)?n(a):a||(t.state="ID");continue;case"NOTE":a||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){t.state="NOTE";break}if(!a)continue;if(t.cue=new bv(0,0,""),t.state="CUE",a.indexOf("-->")===-1){t.cue.id=a;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{$5(a,t.cue,t.regionList)}catch{t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":{const u=a.indexOf("-->")!==-1;if(!a||u&&(l=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(t.cue===null)continue;t.cue.text&&(t.cue.text+=`
`),t.cue.text+=a}continue;case"BADCUE":a||(t.state="ID")}}}catch{t.state==="CUETEXT"&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this}}const G5=/\r\n|\n\r|\n|\r/g,o0=function(e,t,s=0){return e.slice(s,s+t.length)===t},H5=function(e){let t=parseInt(e.slice(-3));const s=parseInt(e.slice(-6,-4)),n=parseInt(e.slice(-9,-7)),a=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!Ae(t)||!Ae(s)||!Ae(n)||!Ae(a))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return t+=1e3*s,t+=60*1e3*n,t+=60*60*1e3*a,t};function Ev(i,e,t){return cc(i.toString())+cc(e.toString())+cc(t)}const q5=function(e,t,s){let n=e[t],a=e[n.prevCC];if(!a||!a.new&&n.new){e.ccOffset=e.presentationOffset=n.start,n.new=!1;return}for(;(l=a)!=null&&l.new;){var l;e.ccOffset+=n.start-a.start,n.new=!1,n=a,a=e[n.prevCC]}e.presentationOffset=s};function V5(i,e,t,s,n,a,l){const u=new z5,h=Es(new Uint8Array(i)).trim().replace(G5,`
`).split(`
`),d=[],m=e?ZU(e.baseTime,e.timescale):0;let p="00:00.000",g=0,E=0,b,k=!0;u.oncue=function(S){const x=t[s];let _=t.ccOffset;const w=(g-m)/9e4;if(x!=null&&x.new&&(E!==void 0?_=t.ccOffset=x.start:q5(t,s,w)),w){if(!e){b=new Error("Missing initPTS for VTT MPEGTS");return}_=w-t.presentationOffset}const R=S.endTime-S.startTime,C=ps((S.startTime+_-E)*9e4,n*9e4)/9e4;S.startTime=Math.max(C,0),S.endTime=Math.max(C+R,0);const I=S.text.trim();S.text=decodeURIComponent(encodeURIComponent(I)),S.id||(S.id=Ev(S.startTime,S.endTime,I)),S.endTime>0&&d.push(S)},u.onparsingerror=function(S){b=S},u.onflush=function(){if(b){l(b);return}a(d)},h.forEach(S=>{if(k)if(o0(S,"X-TIMESTAMP-MAP=")){k=!1,S.slice(16).split(",").forEach(x=>{o0(x,"LOCAL:")?p=x.slice(6):o0(x,"MPEGTS:")&&(g=parseInt(x.slice(7)))});try{E=H5(p)/1e3}catch(x){b=x}return}else S===""&&(k=!1);u.parse(S+`
`)}),u.flush()}const l0="stpp.ttml.im1t",cR=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,dR=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,K5={left:"start",center:"center",right:"end",start:"start",end:"end"};function WT(i,e,t,s){const n=it(new Uint8Array(i),["mdat"]);if(n.length===0){s(new Error("Could not parse IMSC1 mdat"));return}const a=n.map(u=>Es(u)),l=QU(e.baseTime,1,e.timescale);try{a.forEach(u=>t(Y5(u,l)))}catch(u){s(u)}}function Y5(i,e){const n=new DOMParser().parseFromString(i,"text/xml").getElementsByTagName("tt")[0];if(!n)throw new Error("Invalid ttml");const a={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},l=Object.keys(a).reduce((p,g)=>(p[g]=n.getAttribute(`ttp:${g}`)||a[g],p),{}),u=n.getAttribute("xml:space")!=="preserve",h=XT(u0(n,"styling","style")),d=XT(u0(n,"layout","region")),m=u0(n,"body","[begin]");return[].map.call(m,p=>{const g=hR(p,u);if(!g||!p.hasAttribute("begin"))return null;const E=d0(p.getAttribute("begin"),l),b=d0(p.getAttribute("dur"),l);let k=d0(p.getAttribute("end"),l);if(E===null)throw QT(p);if(k===null){if(b===null)throw QT(p);k=E+b}const S=new bv(E-e,k-e,g);S.id=Ev(S.startTime,S.endTime,S.text);const x=d[p.getAttribute("region")],_=h[p.getAttribute("style")],w=W5(x,_,h),{textAlign:R}=w;if(R){const C=K5[R];C&&(S.lineAlign=C),S.align=R}return Dt(S,w),S}).filter(p=>p!==null)}function u0(i,e,t){const s=i.getElementsByTagName(e)[0];return s?[].slice.call(s.querySelectorAll(t)):[]}function XT(i){return i.reduce((e,t)=>{const s=t.getAttribute("xml:id");return s&&(e[s]=t),e},{})}function hR(i,e){return[].slice.call(i.childNodes).reduce((t,s,n)=>{var a;return s.nodeName==="br"&&n?t+`
`:(a=s.childNodes)!=null&&a.length?hR(s,e):e?t+s.textContent.trim().replace(/\s+/g," "):t+s.textContent},"")}function W5(i,e,t){const s="http://www.w3.org/ns/ttml#styling";let n=null;const a=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],l=i!=null&&i.hasAttribute("style")?i.getAttribute("style"):null;return l&&t.hasOwnProperty(l)&&(n=t[l]),a.reduce((u,h)=>{const d=c0(e,s,h)||c0(i,s,h)||c0(n,s,h);return d&&(u[h]=d),u},{})}function c0(i,e,t){return i&&i.hasAttributeNS(e,t)?i.getAttributeNS(e,t):null}function QT(i){return new Error(`Could not parse ttml timestamp ${i}`)}function d0(i,e){if(!i)return null;let t=oR(i);return t===null&&(cR.test(i)?t=X5(i,e):dR.test(i)&&(t=Q5(i,e))),t}function X5(i,e){const t=cR.exec(i),s=(t[4]|0)+(t[5]|0)/e.subFrameRate;return(t[1]|0)*3600+(t[2]|0)*60+(t[3]|0)+s/e.frameRate}function Q5(i,e){const t=dR.exec(i),s=Number(t[1]);switch(t[2]){case"h":return s*3600;case"m":return s*60;case"ms":return s*1e3;case"f":return s/e.frameRate;case"t":return s/e.tickRate}return s}class Lh{constructor(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,t,s){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=s,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}class Z5{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=JT(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(A.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(A.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(A.FRAG_LOADING,this.onFragLoading,this),e.on(A.FRAG_LOADED,this.onFragLoaded,this),e.on(A.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(A.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(A.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(A.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(A.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(A.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(A.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(A.FRAG_LOADING,this.onFragLoading,this),e.off(A.FRAG_LOADED,this.onFragLoaded,this),e.off(A.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(A.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(A.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(A.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(A.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const e=new Lh(this,"textTrack1"),t=new Lh(this,"textTrack2"),s=new Lh(this,"textTrack3"),n=new Lh(this,"textTrack4");this.cea608Parser1=new YT(1,e,t),this.cea608Parser2=new YT(3,s,n)}addCues(e,t,s,n,a){let l=!1;for(let u=a.length;u--;){const h=a[u],d=J5(h[0],h[1],t,s);if(d>=0&&(h[0]=Math.min(h[0],t),h[1]=Math.max(h[1],s),l=!0,d/(s-t)>.5))return}if(l||a.push([t,s]),this.config.renderTextTracksNatively){const u=this.captionsTracks[e];this.Cues.newCue(u,t,s,n)}else{const u=this.Cues.newCue(null,t,s,n);this.hls.trigger(A.CUES_PARSED,{type:"captions",cues:u,track:e})}}onInitPtsFound(e,{frag:t,id:s,initPTS:n,timescale:a,trackId:l}){const{unparsedVttFrags:u}=this;s===Re.MAIN&&(this.initPTS[t.cc]={baseTime:n,timescale:a,trackId:l}),u.length&&(this.unparsedVttFrags=[],u.forEach(h=>{this.initPTS[h.frag.cc]?this.onFragLoaded(A.FRAG_LOADED,h):this.hls.trigger(A.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:h.frag,error:new Error("Subtitle discontinuity domain does not match main")})}))}getExistingTrack(e,t){const{media:s}=this;if(s)for(let n=0;n<s.textTracks.length;n++){const a=s.textTracks[n];if(ZT(a,{name:e,lang:t,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return a}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:t,captionsTracks:s,media:n}=this,{label:a,languageCode:l}=t[e],u=this.getExistingTrack(a,l);if(u)s[e]=u,ml(s[e]),iR(s[e],n);else{const h=this.createTextTrack("captions",a,l);h&&(h[e]=!0,s[e]=h)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const t=this.captionsProperties[e];if(!t)return;const s=t.label,n={_id:e,label:s,kind:"captions",default:t.media?!!t.media.default:!1,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=n,this.hls.trigger(A.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}createTextTrack(e,t,s){const n=this.media;if(n)return n.addTextTrack(e,t,s)}onMediaAttaching(e,t){this.media=t.media,t.mediaSource||this._cleanTracks()}onMediaDetaching(e,t){const s=!!t.transferMedia;if(this.media=null,s)return;const{captionsTracks:n}=this;Object.keys(n).forEach(a=>{ml(n[a]),delete n[a]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=JT(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const t=e.textTracks;if(t)for(let s=0;s<t.length;s++)ml(t[s])}onSubtitleTracksUpdated(e,t){const s=t.subtitleTracks||[],n=s.some(a=>a.textCodec===l0);if(this.config.enableWebVTT||n&&this.config.enableIMSC1){if(G_(this.tracks,s)){this.tracks=s;return}if(this.textTracks=[],this.tracks=s,this.config.renderTextTracksNatively){const l=this.media,u=l?Zh(l.textTracks):null;if(this.tracks.forEach((h,d)=>{let m;if(u){let p=null;for(let g=0;g<u.length;g++)if(u[g]&&ZT(u[g],h)){p=u[g],u[g]=null;break}p&&(m=p)}if(m)ml(m);else{const p=fR(h);m=this.createTextTrack(p,h.name,h.lang),m&&(m.mode="disabled")}m&&this.textTracks.push(m)}),u!=null&&u.length){const h=u.filter(d=>d!==null).map(d=>d.label);h.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${h.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const l=this.tracks.map(u=>({label:u.name,kind:u.type.toLowerCase(),default:u.default,subtitleTrack:u}));this.hls.trigger(A.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:l})}}}onManifestLoaded(e,t){this.config.enableCEA708Captions&&t.captions&&t.captions.forEach(s=>{const n=/(?:CC|SERVICE)([1-4])/.exec(s.instreamId);if(!n)return;const a=`textTrack${n[1]}`,l=this.captionsProperties[a];l&&(l.label=s.name,s.lang&&(l.languageCode=s.lang),l.media=s)})}closedCaptionsForLevel(e){const t=this.hls.levels[e.level];return t==null?void 0:t.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,t){if(this.enabled&&t.frag.type===Re.MAIN){var s,n;const{cea608Parser1:a,cea608Parser2:l,lastSn:u}=this,{cc:h,sn:d}=t.frag,m=(s=(n=t.part)==null?void 0:n.index)!=null?s:-1;a&&l&&(d!==u+1||d===u&&m!==this.lastPartIndex+1||h!==this.lastCc)&&(a.reset(),l.reset()),this.lastCc=h,this.lastSn=d,this.lastPartIndex=m}}onFragLoaded(e,t){const{frag:s,payload:n}=t;if(s.type===Re.SUBTITLE)if(n.byteLength){const a=s.decryptdata,l="stats"in t;if(a==null||!a.encrypted||l){const u=this.tracks[s.level],h=this.vttCCs;h[s.cc]||(h[s.cc]={start:s.start,prevCC:this.prevCC,new:!0},this.prevCC=s.cc),u&&u.textCodec===l0?this._parseIMSC1(s,n):this._parseVTTs(t)}}else this.hls.trigger(A.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:s,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,t){const s=this.hls;WT(t,this.initPTS[e.cc],n=>{this._appendCues(n,e.level),s.trigger(A.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},n=>{s.logger.log(`Failed to parse IMSC1: ${n}`),s.trigger(A.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:n})})}_parseVTTs(e){var t;const{frag:s,payload:n}=e,{initPTS:a,unparsedVttFrags:l}=this,u=a.length-1;if(!a[s.cc]&&u===-1){l.push(e);return}const h=this.hls,d=(t=s.initSegment)!=null&&t.data?Ms(s.initSegment.data,new Uint8Array(n)).buffer:n;V5(d,this.initPTS[s.cc],this.vttCCs,s.cc,s.start,m=>{this._appendCues(m,s.level),h.trigger(A.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:s})},m=>{const p=m.message==="Missing initPTS for VTT MPEGTS";p?l.push(e):this._fallbackToIMSC1(s,n),h.logger.log(`Failed to parse VTT cue: ${m}`),!(p&&u>s.cc)&&h.trigger(A.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:s,error:m})})}_fallbackToIMSC1(e,t){const s=this.tracks[e.level];s.textCodec||WT(t,this.initPTS[e.cc],()=>{s.textCodec=l0,this._parseIMSC1(e,t)},()=>{s.textCodec="wvtt"})}_appendCues(e,t){const s=this.hls;if(this.config.renderTextTracksNatively){const n=this.textTracks[t];if(!n||n.mode==="disabled")return;e.forEach(a=>sR(n,a))}else{const n=this.tracks[t];if(!n)return;const a=n.default?"default":"subtitles"+t;s.trigger(A.CUES_PARSED,{type:"subtitles",cues:e,track:a})}}onFragDecrypted(e,t){const{frag:s}=t;s.type===Re.SUBTITLE&&this.onFragLoaded(A.FRAG_LOADED,t)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,t){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:s,samples:n}=t;if(!(s.type===Re.MAIN&&this.closedCaptionsForLevel(s)==="NONE"))for(let a=0;a<n.length;a++){const l=n[a].bytes;if(l){this.cea608Parser1||this.initCea608Parsers();const u=this.extractCea608Data(l);this.cea608Parser1.addData(n[a].pts,u[0]),this.cea608Parser2.addData(n[a].pts,u[1])}}}onBufferFlushing(e,{startOffset:t,endOffset:s,endOffsetSubtitles:n,type:a}){const{media:l}=this;if(!(!l||l.currentTime<s)){if(!a||a==="video"){const{captionsTracks:u}=this;Object.keys(u).forEach(h=>yy(u[h],t,s))}if(this.config.renderTextTracksNatively&&t===0&&n!==void 0){const{textTracks:u}=this;Object.keys(u).forEach(h=>yy(u[h],t,n))}}}extractCea608Data(e){const t=[[],[]],s=e[0]&31;let n=2;for(let a=0;a<s;a++){const l=e[n++],u=127&e[n++],h=127&e[n++];if(u===0&&h===0)continue;if((4&l)!==0){const m=3&l;(m===0||m===1)&&(t[m].push(u),t[m].push(h))}}return t}}function fR(i){return i.characteristics&&/transcribes-spoken-dialog/gi.test(i.characteristics)&&/describes-music-and-sound/gi.test(i.characteristics)?"captions":"subtitles"}function ZT(i,e){return!!i&&i.kind===fR(e)&&fy(e,i)}function J5(i,e,t,s){return Math.min(e,s)-Math.max(i,t)}function JT(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}const e6=/\s/,t6={newCue(i,e,t,s){const n=[];let a,l,u,h,d;const m=self.VTTCue||self.TextTrackCue;for(let g=0;g<s.rows.length;g++)if(a=s.rows[g],u=!0,h=0,d="",!a.isEmpty()){var p;for(let k=0;k<a.chars.length;k++)e6.test(a.chars[k].uchar)&&u?h++:(d+=a.chars[k].uchar,u=!1);a.cueStartTime=e,e===t&&(t+=1e-4),h>=16?h--:h++;const E=uR(d.trim()),b=Ev(e,t,E);i!=null&&(p=i.cues)!=null&&p.getCueById(b)||(l=new m(e,t,E),l.id=b,l.line=g+1,l.align="left",l.position=10+Math.min(80,Math.floor(h*8/32)*10),n.push(l))}return i&&n.length&&(n.sort((g,E)=>g.line==="auto"||E.line==="auto"?0:g.line>8&&E.line>8?E.line-g.line:g.line-E.line),n.forEach(g=>sR(i,g))),n}};function i6(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const s6=/(\d+)-(\d+)\/(\d+)/;class e1{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||o6,this.controller=new self.AbortController,this.stats=new Zy}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,t,s){const n=this.stats;if(n.loading.start)throw new Error("Loader can only be used once.");n.loading.start=self.performance.now();const a=n6(e,this.controller.signal),l=e.responseType==="arraybuffer",u=l?"byteLength":"length",{maxTimeToFirstByteMs:h,maxLoadTimeMs:d}=t.loadPolicy;this.context=e,this.config=t,this.callbacks=s,this.request=this.fetchSetup(e,a),self.clearTimeout(this.requestTimeout),t.timeout=h&&Ae(h)?h:d,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(n,e,this.response))},t.timeout),(Nc(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(p=>{var g;this.response=this.loader=p;const E=Math.max(self.performance.now(),n.loading.start);if(self.clearTimeout(this.requestTimeout),t.timeout=d,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(n,e,this.response))},d-(E-n.loading.start)),!p.ok){const{status:k,statusText:S}=p;throw new l6(S||"fetch, bad network response",k,p)}n.loading.first=E,n.total=a6(p.headers)||n.total;const b=(g=this.callbacks)==null?void 0:g.onProgress;return b&&Ae(t.highWaterMark)?this.loadProgressively(p,n,e,t.highWaterMark,b):l?p.arrayBuffer():e.responseType==="json"?p.json():p.text()}).then(p=>{var g,E;const b=this.response;if(!b)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),n.loading.end=Math.max(self.performance.now(),n.loading.first);const k=p[u];k&&(n.loaded=n.total=k);const S={url:b.url,data:p,code:b.status},x=(g=this.callbacks)==null?void 0:g.onProgress;x&&!Ae(t.highWaterMark)&&x(n,e,p,b),(E=this.callbacks)==null||E.onSuccess(S,n,e,b)}).catch(p=>{var g;if(self.clearTimeout(this.requestTimeout),n.aborted)return;const E=p&&p.code||0,b=p?p.message:null;(g=this.callbacks)==null||g.onError({code:E,text:b},e,p?p.details:null,n)})}getCacheAge(){let e=null;if(this.response){const t=this.response.headers.get("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,t,s,n=0,a){const l=new x_,u=e.body.getReader(),h=()=>u.read().then(d=>{if(d.done)return l.dataLength&&a(t,s,l.flush().buffer,e),Promise.resolve(new ArrayBuffer(0));const m=d.value,p=m.length;return t.loaded+=p,p<n||l.dataLength?(l.push(m),l.dataLength>=n&&a(t,s,l.flush().buffer,e)):a(t,s,m.buffer,e),h()}).catch(()=>Promise.reject());return h()}}function n6(i,e){const t={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(Dt({},i.headers))};return i.rangeEnd&&t.headers.set("Range","bytes="+i.rangeStart+"-"+String(i.rangeEnd-1)),t}function r6(i){const e=s6.exec(i);if(e)return parseInt(e[2])-parseInt(e[1])+1}function a6(i){const e=i.get("Content-Range");if(e){const s=r6(e);if(Ae(s))return s}const t=i.get("Content-Length");if(t)return parseInt(t)}function o6(i,e){return new self.Request(i.url,e)}class l6 extends Error{constructor(e,t,s){super(e),this.code=void 0,this.details=void 0,this.code=t,this.details=s}}const u6=/^age:\s*[\d.]+\s*$/im;class mR{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new Zy,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,t,s){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=s,this.loadInternal()}loadInternal(){const{config:e,context:t}=this;if(!e||!t)return;const s=this.loader=new self.XMLHttpRequest,n=this.stats;n.loading.first=0,n.loaded=0,n.aborted=!1;const a=this.xhrSetup;a?Promise.resolve().then(()=>{if(!(this.loader!==s||this.stats.aborted))return a(s,t.url)}).catch(l=>{if(!(this.loader!==s||this.stats.aborted))return s.open("GET",t.url,!0),a(s,t.url)}).then(()=>{this.loader!==s||this.stats.aborted||this.openAndSendXhr(s,t,e)}).catch(l=>{var u;(u=this.callbacks)==null||u.onError({code:s.status,text:l.message},t,s,n)}):this.openAndSendXhr(s,t,e)}openAndSendXhr(e,t,s){e.readyState||e.open("GET",t.url,!0);const n=t.headers,{maxTimeToFirstByteMs:a,maxLoadTimeMs:l}=s.loadPolicy;if(n)for(const u in n)e.setRequestHeader(u,n[u]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),s.timeout=a&&Ae(a)?a:l,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.timeout),e.send()}readystatechange(){const{context:e,loader:t,stats:s}=this;if(!e||!t)return;const n=t.readyState,a=this.config;if(!s.aborted&&n>=2&&(s.loading.first===0&&(s.loading.first=Math.max(self.performance.now(),s.loading.start),a.timeout!==a.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),a.timeout=a.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),a.loadPolicy.maxLoadTimeMs-(s.loading.first-s.loading.start)))),n===4)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;const d=t.status,m=t.responseType==="text"?t.responseText:null;if(d>=200&&d<300){const b=m??t.response;if(b!=null){var l,u;s.loading.end=Math.max(self.performance.now(),s.loading.first);const k=t.responseType==="arraybuffer"?b.byteLength:b.length;s.loaded=s.total=k,s.bwEstimate=s.total*8e3/(s.loading.end-s.loading.first);const S=(l=this.callbacks)==null?void 0:l.onProgress;S&&S(s,e,b,t);const x={url:t.responseURL,data:b,code:d};(u=this.callbacks)==null||u.onSuccess(x,s,e,t);return}}const p=a.loadPolicy.errorRetry,g=s.retry,E={url:e.url,data:void 0,code:d};if(Lf(p,g,!1,E))this.retry(p);else{var h;_t.error(`${d} while loading ${e.url}`),(h=this.callbacks)==null||h.onError({code:d,text:t.statusText},e,t,s)}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,t=this.stats.retry;if(Lf(e,t,!0))this.retry(e);else{var s;_t.warn(`timeout while loading ${(s=this.context)==null?void 0:s.url}`);const n=this.callbacks;n&&(this.abortInternal(),n.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:t,stats:s}=this;this.retryDelay=iv(e,s.retry),s.retry++,_t.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${t==null?void 0:t.url}, retrying ${s.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)}getCacheAge(){let e=null;if(this.loader&&u6.test(this.loader.getAllResponseHeaders())){const t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const c6={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},d6=wt(wt({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,startOnSegmentBoundary:!1,maxBufferSize:60*1e3*1e3,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncMode:"edge",liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:mR,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:xB,bufferController:f$,capLevelController:gv,errorController:RB,fpsController:m5,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:h_,requireKeySystemAccessOnStart:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,preserveManualLevelOnError:!1,certLoadPolicy:{default:c6},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},h6()),{},{subtitleStreamController:w5,subtitleTrackController:y5,timelineController:Z5,audioStreamController:u$,audioTrackController:c$,emeController:kl,cmcdController:c5,contentSteeringController:h5,interstitialsController:A5});function h6(){return{cueHandler:t6,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function f6(i,e,t){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const s=by(i),n=["manifest","level","frag"],a=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return n.forEach(l=>{const u=`${l==="level"?"playlist":l}LoadPolicy`,h=e[u]===void 0,d=[];a.forEach(m=>{const p=`${l}Loading${m}`,g=e[p];if(g!==void 0&&h){d.push(p);const E=s[u].default;switch(e[u]={default:E},m){case"TimeOut":E.maxLoadTimeMs=g,E.maxTimeToFirstByteMs=g;break;case"MaxRetry":E.errorRetry.maxNumRetry=g,E.timeoutRetry.maxNumRetry=g;break;case"RetryDelay":E.errorRetry.retryDelayMs=g,E.timeoutRetry.retryDelayMs=g;break;case"MaxRetryTimeout":E.errorRetry.maxRetryDelayMs=g,E.timeoutRetry.maxRetryDelayMs=g;break}}}),d.length&&t.warn(`hls.js config: "${d.join('", "')}" setting(s) are deprecated, use "${u}": ${Ot(e[u])}`)}),wt(wt({},s),e)}function by(i){return i&&typeof i=="object"?Array.isArray(i)?i.map(by):Object.keys(i).reduce((e,t)=>(e[t]=by(i[t]),e),{}):i}function m6(i,e){const t=i.loader;t!==e1&&t!==mR?(e.log("[config]: Custom loader detected, cannot enable progressive streaming"),i.progressive=!1):i6()&&(i.loader=e1,i.progressive=!0,i.enableSoftwareAES=!0,e.log("[config]: Progressive streaming enabled, using FetchLoader"))}const Jh=2,p6=.1,g6=.05,y6=100;class v6 extends o_{constructor(e,t){super("gap-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var s;(s=this.media)!=null&&s.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{if(this.hls){var s;this.ended=((s=this.media)==null?void 0:s.currentTime)||1,this.hls.trigger(A.MEDIA_ENDED,{stalled:!1})}},this.hls=e,this.fragmentTracker=t,this.registerListeners()}registerListeners(){const{hls:e}=this;e&&(e.on(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(A.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(A.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(e,t){this.setInterval(y6),this.mediaSource=t.mediaSource;const s=this.media=t.media;Ui(s,"playing",this.onMediaPlaying),Ui(s,"waiting",this.onMediaWaiting),Ui(s,"ended",this.onMediaEnded)}onMediaDetaching(e,t){this.clearInterval();const{media:s}=this;s&&(is(s,"playing",this.onMediaPlaying),is(s,"waiting",this.onMediaWaiting),is(s,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(e,t){this.buffered=t.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var e;if(!((e=this.media)!=null&&e.readyState)||!this.hasBuffered)return;const t=this.media.currentTime;this.poll(t,this.lastCurrentTime),this.lastCurrentTime=t}poll(e,t){var s,n;const a=(s=this.hls)==null?void 0:s.config;if(!a)return;const l=this.media;if(!l)return;const{seeking:u}=l,h=this.seeking&&!u,d=!this.seeking&&u,m=l.paused&&!u||l.ended||l.playbackRate===0;if(this.seeking=u,e!==t){t&&(this.ended=0),this.moved=!0,u||(this.nudgeRetry=0,a.nudgeOnVideoHole&&!m&&e>t&&this.nudgeOnVideoHole(e,t)),this.waiting===0&&this.stallResolved(e);return}if(d||h){h&&this.stallResolved(e);return}if(m){this.nudgeRetry=0,this.stallResolved(e),!this.ended&&l.ended&&this.hls&&(this.ended=e||1,this.hls.trigger(A.MEDIA_ENDED,{stalled:!1}));return}if(!Ke.getBuffered(l).length){this.nudgeRetry=0;return}const p=Ke.bufferInfo(l,e,0),g=p.nextStart||0,E=this.fragmentTracker;if(u&&E&&this.hls){const I=t1(this.hls.inFlightFragments,e),L=p.len>Jh,P=!g||I||g-e>Jh&&!E.getPartialFragment(e);if(L||P)return;this.moved=!1}const b=(n=this.hls)==null?void 0:n.latestLevelDetails;if(!this.moved&&this.stalled!==null&&E){if(!(p.len>0)&&!g)return;const L=Math.max(g,p.start||0)-e,M=!!(b!=null&&b.live)?b.targetduration*2:Jh,N=Ch(e,E);if(L>0&&(L<=M||N)){l.paused||this._trySkipBufferHole(N);return}}const k=a.detectStallWithCurrentTimeMs,S=self.performance.now(),x=this.waiting;let _=this.stalled;if(_===null)if(x>0&&S-x<k)_=this.stalled=x;else{this.stalled=S;return}const w=S-_;if(!u&&(w>=k||x)&&this.hls){var R;if(((R=this.mediaSource)==null?void 0:R.readyState)==="ended"&&!(b!=null&&b.live)&&Math.abs(e-((b==null?void 0:b.edge)||0))<1){if(this.ended)return;this.ended=e||1,this.hls.trigger(A.MEDIA_ENDED,{stalled:!0});return}if(this._reportStall(p),!this.media||!this.hls)return}const C=Ke.bufferInfo(l,e,a.maxBufferHole);this._tryFixBufferStall(C,w,e)}stallResolved(e){const t=this.stalled;if(t&&this.hls&&(this.stalled=null,this.stallReported)){const s=self.performance.now()-t;this.log(`playback not stuck anymore @${e}, after ${Math.round(s)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(A.STALL_RESOLVED,{})}}nudgeOnVideoHole(e,t){var s;const n=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&(s=this.buffered.audio)!=null&&s.length&&n&&n.length>1&&e>n.end(0)){const a=Ke.bufferedInfo(Ke.timeRangesToArray(this.buffered.audio),e,0);if(a.len>1&&t>=a.start){const l=Ke.timeRangesToArray(n),u=Ke.bufferedInfo(l,t,0).bufferedIndex;if(u>-1&&u<l.length-1){const h=Ke.bufferedInfo(l,e,0).bufferedIndex,d=l[u].end,m=l[u+1].start;if((h===-1||h>u)&&m-d<1&&e-d<2){const p=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${e} hole: ${d} -> ${m} buffered index: ${h}`);this.warn(p.message),this.media.currentTime+=1e-6;let g=Ch(e,this.fragmentTracker);g&&"fragment"in g?g=g.fragment:g||(g=void 0);const E=Ke.bufferInfo(this.media,e,0);this.hls.trigger(A.ERROR,{type:Ie.MEDIA_ERROR,details:Q.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:p,reason:p.message,frag:g,buffer:E.len,bufferInfo:E})}}}}}_tryFixBufferStall(e,t,s){var n,a;const{fragmentTracker:l,media:u}=this,h=(n=this.hls)==null?void 0:n.config;if(!u||!l||!h)return;const d=(a=this.hls)==null?void 0:a.latestLevelDetails,m=Ch(s,l);if((m||d!=null&&d.live&&s<d.fragmentStart)&&(this._trySkipBufferHole(m)||!this.media))return;const p=e.buffered,g=this.adjacentTraversal(e,s);(p&&p.length>1&&e.len>h.maxBufferHole||e.nextStart&&(e.nextStart-s<h.maxBufferHole||g))&&(t>h.highBufferWatchdogPeriod*1e3||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(e))}adjacentTraversal(e,t){const s=this.fragmentTracker,n=e.nextStart;if(s&&n){const a=s.getFragAtPos(t,Re.MAIN),l=s.getFragAtPos(n,Re.MAIN);if(a&&l)return l.sn-a.sn<2}return!1}_reportStall(e){const{hls:t,media:s,stallReported:n,stalled:a}=this;if(!n&&a!==null&&s&&t){this.stallReported=!0;const l=new Error(`Playback stalling at @${s.currentTime} due to low buffer (${Ot(e)})`);this.warn(l.message),t.trigger(A.ERROR,{type:Ie.MEDIA_ERROR,details:Q.BUFFER_STALLED_ERROR,fatal:!1,error:l,buffer:e.len,bufferInfo:e,stalled:{start:a}})}}_trySkipBufferHole(e){var t;const{fragmentTracker:s,media:n}=this,a=(t=this.hls)==null?void 0:t.config;if(!n||!s||!a)return 0;const l=n.currentTime,u=Ke.bufferInfo(n,l,0),h=l<u.start?u.start:u.nextStart;if(h&&this.hls){const m=u.len<=a.maxBufferHole,p=u.len>0&&u.len<1&&n.readyState<3,g=h-l;if(g>0&&(m||p)){if(g>a.maxBufferHole){let b=!1;if(l===0){const k=s.getAppendedFrag(0,Re.MAIN);k&&h<k.end&&(b=!0)}if(!b&&e){var d;if(!((d=this.hls.loadLevelObj)!=null&&d.details)||t1(this.hls.inFlightFragments,h))return 0;let S=!1,x=e.end;for(;x<h;){const _=Ch(x,s);if(_)x+=_.duration;else{S=!0;break}}if(S)return 0}}const E=Math.max(h+g6,l+p6);if(this.warn(`skipping hole, adjusting currentTime from ${l} to ${E}`),this.moved=!0,n.currentTime=E,!(e!=null&&e.gap)){const b=new Error(`fragment loaded with buffer holes, seeking from ${l} to ${E}`),k={type:Ie.MEDIA_ERROR,details:Q.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:b,reason:b.message,buffer:u.len,bufferInfo:u};e&&("fragment"in e?k.part=e:k.frag=e),this.hls.trigger(A.ERROR,k)}return E}}return 0}_tryNudgeBuffer(e){const{hls:t,media:s,nudgeRetry:n}=this,a=t==null?void 0:t.config;if(!s||!a)return 0;const l=s.currentTime;if(this.nudgeRetry++,n<a.nudgeMaxRetry){const u=l+(n+1)*a.nudgeOffset,h=new Error(`Nudging 'currentTime' from ${l} to ${u}`);this.warn(h.message),s.currentTime=u,t.trigger(A.ERROR,{type:Ie.MEDIA_ERROR,details:Q.BUFFER_NUDGE_ON_STALL,error:h,fatal:!1,buffer:e.len,bufferInfo:e})}else{const u=new Error(`Playhead still not moving while enough data buffered @${l} after ${a.nudgeMaxRetry} nudges`);this.error(u.message),t.trigger(A.ERROR,{type:Ie.MEDIA_ERROR,details:Q.BUFFER_STALLED_ERROR,error:u,fatal:!0,buffer:e.len,bufferInfo:e})}}}function t1(i,e){const t=i1(i.main);if(t&&t.start<=e)return t;const s=i1(i.audio);return s&&s.start<=e?s:null}function i1(i){if(!i)return null;switch(i.state){case ce.IDLE:case ce.STOPPED:case ce.ENDED:case ce.ERROR:return null}return i.frag}function Ch(i,e){return e.getAppendedFrag(i,Re.MAIN)||e.getPartialFragment(i)}const b6=.25;function Ey(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function h0(i,e,t,s,n){let a=new i(e,t,"");try{a.value=s,n&&(a.type=n)}catch{a=new i(e,t,Ot(n?wt({type:n},s):s))}return a}const Dh=(()=>{const i=Ey();try{i&&new i(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();class E6{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.assetCue=void 0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(A.EVENT_CUE_ENTER,{})},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:e}=this;e&&(e.on(A.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(A.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(A.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(A.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(A.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(A.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(A.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(A.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}onMediaAttaching(e,t){var s;this.media=t.media,((s=t.overrides)==null?void 0:s.cueRemoval)===!1&&(this.removeCues=!1)}onMediaAttached(){var e;const t=(e=this.hls)==null?void 0:e.latestLevelDetails;t&&this.updateDateRangeCues(t)}onMediaDetaching(e,t){this.media=null,!t.transferMedia&&(this.id3Track&&(this.removeCues&&ml(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const t=this.getID3Track(e.textTracks);return t.mode="hidden",t}getID3Track(e){if(this.media){for(let t=0;t<e.length;t++){const s=e[t];if(s.kind==="metadata"&&s.label==="id3")return iR(s,this.media),s}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,t){if(!this.media||!this.hls)return;const{enableEmsgMetadataCues:s,enableID3MetadataCues:n}=this.hls.config;if(!s&&!n)return;const{samples:a}=t;this.id3Track||(this.id3Track=this.createTrack(this.media));const l=Ey();if(l)for(let u=0;u<a.length;u++){const h=a[u].type;if(h===ys.emsg&&!s||!n)continue;const d=C_(a[u].data),m=a[u].pts;let p=m+a[u].duration;p>Dh&&(p=Dh),p-m<=0&&(p=m+b6);for(let E=0;E<d.length;E++){const b=d[E];if(!D_(b)){this.updateId3CueEnds(m,h);const k=h0(l,m,p,b,h);k&&this.id3Track.addCue(k)}}}}updateId3CueEnds(e,t){var s;const n=(s=this.id3Track)==null?void 0:s.cues;if(n)for(let a=n.length;a--;){const l=n[a];l.type===t&&l.startTime<e&&l.endTime===Dh&&(l.endTime=e)}}onBufferFlushing(e,{startOffset:t,endOffset:s,type:n}){const{id3Track:a,hls:l}=this;if(!l)return;const{config:{enableEmsgMetadataCues:u,enableID3MetadataCues:h}}=l;if(a&&(u||h)){let d;n==="audio"?d=m=>m.type===ys.audioId3&&h:n==="video"?d=m=>m.type===ys.emsg&&u:d=m=>m.type===ys.audioId3&&h||m.type===ys.emsg&&u,yy(a,t,s,d)}}onLevelUpdated(e,{details:t}){this.updateDateRangeCues(t,!0)}onLevelPtsUpdated(e,t){Math.abs(t.drift)>.01&&this.updateDateRangeCues(t.details)}updateDateRangeCues(e,t){if(!this.hls||!this.media)return;const{assetPlayerId:s,timelineOffset:n,enableDateRangeMetadataCues:a,interstitialsController:l}=this.hls.config;if(!a)return;const u=Ey();if(s&&n&&!l){const{fragmentStart:k,fragmentEnd:S}=e;let x=this.assetCue;x?(x.startTime=k,x.endTime=S):u&&(x=this.assetCue=h0(u,k,S,{assetPlayerId:this.hls.config.assetPlayerId},"hlsjs.interstitial.asset"),x&&(x.id=s,this.id3Track||(this.id3Track=this.createTrack(this.media)),this.id3Track.addCue(x),x.addEventListener("enter",this.onEventCueEnter)))}if(!e.hasProgramDateTime)return;const{id3Track:h}=this,{dateRanges:d}=e,m=Object.keys(d);let p=this.dateRangeCuesAppended;if(h&&t){var g;if((g=h.cues)!=null&&g.length){const k=Object.keys(p).filter(S=>!m.includes(S));for(let S=k.length;S--;){var E;const x=k[S],_=(E=p[x])==null?void 0:E.cues;delete p[x],_&&Object.keys(_).forEach(w=>{const R=_[w];if(R){R.removeEventListener("enter",this.onEventCueEnter);try{h.removeCue(R)}catch{}}})}}else p=this.dateRangeCuesAppended={}}const b=e.fragments[e.fragments.length-1];if(!(m.length===0||!Ae(b==null?void 0:b.programDateTime))){this.id3Track||(this.id3Track=this.createTrack(this.media));for(let k=0;k<m.length;k++){const S=m[k],x=d[S],_=x.startTime,w=p[S],R=(w==null?void 0:w.cues)||{};let C=(w==null?void 0:w.durationKnown)||!1,I=Dh;const{duration:L,endDate:P}=x;if(P&&L!==null)I=_+L,C=!0;else if(x.endOnNext&&!C){const N=m.reduce((H,se)=>{if(se!==x.id){const ge=d[se];if(ge.class===x.class&&ge.startDate>x.startDate&&(!H||x.startDate<H.startDate))return ge}return H},null);N&&(I=N.startTime,C=!0)}const M=Object.keys(x.attr);for(let N=0;N<M.length;N++){const H=M[N];if(!$B(H))continue;const se=R[H];if(se)C&&!(w!=null&&w.durationKnown)?se.endTime=I:Math.abs(se.startTime-_)>.01&&(se.startTime=_,se.endTime=I);else if(u){let ge=x.attr[H];zB(H)&&(ge=$w(ge));const U=h0(u,_,I,{key:H,data:ge},ys.dateRange);U&&(U.id=S,this.id3Track.addCue(U),R[H]=U,l&&(H==="X-ASSET-LIST"||H==="X-ASSET-URL")&&U.addEventListener("enter",this.onEventCueEnter))}}p[S]={cues:R,dateRange:x,durationKnown:C}}}}}class k6{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:t}=this,s=this.levelDetails;if(!t||!s)return;this.currentTime=t.currentTime;const n=this.computeLatency();if(n===null)return;this._latency=n;const{lowLatencyMode:a,maxLiveSyncPlaybackRate:l}=this.config;if(!a||l===1||!s.live)return;const u=this.targetLatency;if(u===null)return;const h=n-u,d=Math.min(this.maxLatency,u+s.targetduration);if(h<d&&h>.05&&this.forwardBufferLength>1){const p=Math.min(2,Math.max(1,l)),g=Math.round(2/(1+Math.exp(-.75*h-this.edgeStalled))*20)/20,E=Math.min(p,Math.max(1,g));this.changeMediaPlaybackRate(t,E)}else t.playbackRate!==1&&t.playbackRate!==0&&this.changeMediaPlaybackRate(t,1)},this.hls=e,this.config=e.config,this.registerListeners()}get levelDetails(){var e;return((e=this.hls)==null?void 0:e.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:e}=this;if(e.liveMaxLatencyDuration!==void 0)return e.liveMaxLatencyDuration;const t=this.levelDetails;return t?e.liveMaxLatencyDurationCount*t.targetduration:0}get targetLatency(){const e=this.levelDetails;if(e===null||this.hls===null)return null;const{holdBack:t,partHoldBack:s,targetduration:n}=e,{liveSyncDuration:a,liveSyncDurationCount:l,lowLatencyMode:u}=this.config,h=this.hls.userConfig;let d=u&&s||t;(this._targetLatencyUpdated||h.liveSyncDuration||h.liveSyncDurationCount||d===0)&&(d=a!==void 0?a:l*n);const m=n;return d+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,m)}set targetLatency(e){this.stallCount=0,this.config.liveSyncDuration=e,this._targetLatencyUpdated=!0}get liveSyncPosition(){const e=this.estimateLiveEdge(),t=this.targetLatency;if(e===null||t===null)return null;const s=this.levelDetails;if(s===null)return null;const n=s.edge,a=e-t-this.edgeStalled,l=n-s.totalduration,u=n-(this.config.lowLatencyMode&&s.partTarget||s.targetduration);return Math.min(Math.max(l,a),u)}get drift(){const e=this.levelDetails;return e===null?1:e.drift}get edgeStalled(){const e=this.levelDetails;if(e===null)return 0;const t=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-t,0)}get forwardBufferLength(){const{media:e}=this,t=this.levelDetails;if(!e||!t)return 0;const s=e.buffered.length;return(s?e.buffered.end(s-1):t.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:e}=this;e&&(e.on(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(A.ERROR,this.onError,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(A.ERROR,this.onError,this))}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:t}){t.advanced&&this.onTimeupdate(),!t.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(e,t){var s;t.details===Q.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&(s=this.levelDetails)!=null&&s.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(e,t){var s,n;e.playbackRate!==t&&((s=this.hls)==null||s.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${(n=this.targetLatency)==null?void 0:n.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${e.playbackRate} to ${t}`),e.playbackRate=t)}estimateLiveEdge(){const e=this.levelDetails;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}class S6 extends pv{constructor(e,t){super(e,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=t,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(A.LEVEL_LOADED,this.onLevelLoaded,this),e.on(A.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(A.FRAG_BUFFERED,this.onFragBuffered,this),e.on(A.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(A.LEVEL_LOADED,this.onLevelLoaded,this),e.off(A.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(A.FRAG_BUFFERED,this.onFragBuffered,this),e.off(A.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(t=>{t.loadError=0,t.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,t){this.resetLevels()}onManifestLoaded(e,t){const s=this.hls.config.preferManagedMediaSource,n=[],a={},l={};let u=!1,h=!1,d=!1;t.levels.forEach(m=>{const p=m.attrs;let{audioCodec:g,videoCodec:E}=m;g&&(m.audioCodec=g=Af(g,s)||void 0),E&&(E=m.videoCodec=nB(E));const{width:b,height:k,unknownCodecs:S}=m,x=(S==null?void 0:S.length)||0;if(u||(u=!!(b&&k)),h||(h=!!E),d||(d=!!g),x||g&&!this.isAudioSupported(g)||E&&!this.isVideoSupported(E)){this.log(`Some or all CODECS not supported "${p.CODECS}"`);return}const{CODECS:_,"FRAME-RATE":w,"HDCP-LEVEL":R,"PATHWAY-ID":C,RESOLUTION:I,"VIDEO-RANGE":L}=p,M=`${`${C||"."}-`}${m.bitrate}-${I}-${w}-${_}-${L}-${R}`;if(a[M])if(a[M].uri!==m.url&&!m.attrs["PATHWAY-ID"]){const N=l[M]+=1;m.attrs["PATHWAY-ID"]=new Array(N+1).join(".");const H=this.createLevel(m);a[M]=H,n.push(H)}else a[M].addGroupId("audio",p.AUDIO),a[M].addGroupId("text",p.SUBTITLES);else{const N=this.createLevel(m);a[M]=N,l[M]=1,n.push(N)}}),this.filterAndSortMediaOptions(n,t,u,h,d)}createLevel(e){const t=new Oc(e),s=e.supplemental;if(s!=null&&s.videoCodec&&!this.isVideoSupported(s.videoCodec)){const n=new Error(`SUPPLEMENTAL-CODECS not supported "${s.videoCodec}"`);this.log(n.message),t.supportedResult=Jw(n,[])}return t}isAudioSupported(e){return Ic(e,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(e){return Ic(e,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(e,t,s,n,a){var l;let u=[],h=[],d=e;const m=((l=t.stats)==null?void 0:l.parsing)||{};if((s||n)&&a&&(d=d.filter(({videoCodec:_,videoRange:w,width:R,height:C})=>(!!_||!!(R&&C))&&mB(w))),d.length===0){Promise.resolve().then(()=>{if(this.hls){let _="no level with compatible codecs found in manifest",w=_;t.levels.length&&(w=`one or more CODECS in variant not supported: ${Ot(t.levels.map(C=>C.attrs.CODECS).filter((C,I,L)=>L.indexOf(C)===I))}`,this.warn(w),_+=` (${w})`);const R=new Error(_);this.hls.trigger(A.ERROR,{type:Ie.MEDIA_ERROR,details:Q.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:R,reason:w})}}),m.end=performance.now();return}t.audioTracks&&(u=t.audioTracks.filter(_=>!_.audioCodec||this.isAudioSupported(_.audioCodec)),s1(u)),t.subtitles&&(h=t.subtitles,s1(h));const p=d.slice(0);d.sort((_,w)=>{if(_.attrs["HDCP-LEVEL"]!==w.attrs["HDCP-LEVEL"])return(_.attrs["HDCP-LEVEL"]||"")>(w.attrs["HDCP-LEVEL"]||"")?1:-1;if(s&&_.height!==w.height)return _.height-w.height;if(_.frameRate!==w.frameRate)return _.frameRate-w.frameRate;if(_.videoRange!==w.videoRange)return wf.indexOf(_.videoRange)-wf.indexOf(w.videoRange);if(_.videoCodec!==w.videoCodec){const R=Yx(_.videoCodec),C=Yx(w.videoCodec);if(R!==C)return C-R}if(_.uri===w.uri&&_.codecSet!==w.codecSet){const R=Tf(_.codecSet),C=Tf(w.codecSet);if(R!==C)return C-R}return _.averageBitrate!==w.averageBitrate?_.averageBitrate-w.averageBitrate:0});let g=p[0];if(this.steering&&(d=this.steering.filterParsedLevels(d),d.length!==p.length)){for(let _=0;_<p.length;_++)if(p[_].pathwayId===d[0].pathwayId){g=p[_];break}}this._levels=d;for(let _=0;_<d.length;_++)if(d[_]===g){var E;this._firstLevel=_;const w=g.bitrate,R=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${d.length} level(s) found, first bitrate: ${w}`),((E=this.hls.userConfig)==null?void 0:E.abrEwmaDefaultEstimate)===void 0){const C=Math.min(w,this.hls.config.abrEwmaDefaultEstimateMax);C>R&&R===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=C)}break}const b=a&&!n,k=this.hls.config,S=!!(k.audioStreamController&&k.audioTrackController),x={levels:d,audioTracks:u,subtitleTracks:h,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:a,video:n,altAudio:S&&!b&&u.some(_=>!!_.url)};m.end=performance.now(),this.hls.trigger(A.MANIFEST_PARSED,x)}get levels(){return this._levels.length===0?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(e){const t=this._levels;if(t.length===0)return;if(e<0||e>=t.length){const m=new Error("invalid level idx"),p=e<0;if(this.hls.trigger(A.ERROR,{type:Ie.OTHER_ERROR,details:Q.LEVEL_SWITCH_ERROR,level:e,fatal:p,error:m,reason:m.message}),p)return;e=Math.min(e,t.length-1)}const s=this.currentLevelIndex,n=this.currentLevel,a=n?n.attrs["PATHWAY-ID"]:void 0,l=t[e],u=l.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=l,s===e&&n&&a===u)return;this.log(`Switching to level ${e} (${l.height?l.height+"p ":""}${l.videoRange?l.videoRange+" ":""}${l.codecSet?l.codecSet+" ":""}@${l.bitrate})${u?" with Pathway "+u:""} from level ${s}${a?" with Pathway "+a:""}`);const h={level:e,attrs:l.attrs,details:l.details,bitrate:l.bitrate,averageBitrate:l.averageBitrate,maxBitrate:l.maxBitrate,realBitrate:l.realBitrate,width:l.width,height:l.height,codecSet:l.codecSet,audioCodec:l.audioCodec,videoCodec:l.videoCodec,audioGroups:l.audioGroups,subtitleGroups:l.subtitleGroups,loaded:l.loaded,loadError:l.loadError,fragmentError:l.fragmentError,name:l.name,id:l.id,uri:l.uri,url:l.url,urlId:0,audioGroupIds:l.audioGroupIds,textGroupIds:l.textGroupIds};this.hls.trigger(A.LEVEL_SWITCHING,h);const d=l.details;if(!d||d.live){const m=this.switchParams(l.uri,n==null?void 0:n.details,d);this.loadPlaylist(m)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(e){if(this.steering){const t=this.steering.pathways(),s=e.filter(n=>t.indexOf(n)!==-1);if(e.length<1){this.warn(`pathwayPriority ${e} should contain at least one pathway from list: ${t}`);return}this.steering.pathwayPriority=s}}onError(e,t){t.fatal||!t.context||t.context.type===st.LEVEL&&t.context.level===this.level&&this.checkRetry(t)}onFragBuffered(e,{frag:t}){if(t!==void 0&&t.type===Re.MAIN){const s=t.elementaryStreams;if(!Object.keys(s).some(a=>!!s[a]))return;const n=this._levels[t.level];n!=null&&n.loadError&&(this.log(`Resetting level error count of ${n.loadError} on frag buffered`),n.loadError=0)}}onLevelLoaded(e,t){var s;const{level:n,details:a}=t,l=t.levelInfo;if(!l){var u;this.warn(`Invalid level index ${n}`),(u=t.deliveryDirectives)!=null&&u.skip&&(a.deltaUpdateFailed=!0);return}if(l===this.currentLevel||t.withoutMultiVariant){l.fragmentError===0&&(l.loadError=0);let h=l.details;h===t.details&&h.advanced&&(h=void 0),this.playlistLoaded(n,t,h)}else(s=t.deliveryDirectives)!=null&&s.skip&&(a.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const s=this.getUrlWithDirectives(e.uri,t),n=this.currentLevelIndex,a=e.attrs["PATHWAY-ID"],l=e.details,u=l==null?void 0:l.age;this.log(`Loading level index ${n}${(t==null?void 0:t.msn)!==void 0?" at sn "+t.msn+" part "+t.part:""}${a?" Pathway "+a:""}${u&&l.live?" age "+u.toFixed(1)+(l.type&&" "+l.type||""):""} ${s}`),this.hls.trigger(A.LEVEL_LOADING,{url:s,level:n,levelInfo:e,pathwayId:e.attrs["PATHWAY-ID"],id:0,deliveryDirectives:t||null})}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var t;if(this._levels.length===1)return;const s=this._levels.filter((a,l)=>l!==e?!0:(this.steering&&this.steering.removeLevel(a),a===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,a.details&&a.details.fragments.forEach(u=>u.level=-1)),!1));E_(s),this._levels=s,this.currentLevelIndex>-1&&(t=this.currentLevel)!=null&&t.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const n=s.length-1;this._firstLevel=Math.min(this._firstLevel,n),this._startLevel&&(this._startLevel=Math.min(this._startLevel,n)),this.hls.trigger(A.LEVELS_UPDATED,{levels:s})}onLevelsUpdated(e,{levels:t}){this._levels=t}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:t,maxHdcpLevel:s}=this.hls;this._maxAutoLevel!==t&&(this._maxAutoLevel=t,this.hls.trigger(A.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:t,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:s}))}}function s1(i){const e={};i.forEach(t=>{const s=t.groupId||"";t.id=e[s]=e[s]||0,e[s]++})}function pR(){return self.SourceBuffer||self.WebKitSourceBuffer}function gR(){if(!ca())return!1;const e=pR();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function x6(){if(!gR())return!1;const i=ca();return typeof(i==null?void 0:i.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>i.isTypeSupported(jc(e,"video")))||["mp4a.40.2","fLaC"].some(e=>i.isTypeSupported(jc(e,"audio"))))}function T6(){var i;const e=pR();return typeof(e==null||(i=e.prototype)==null?void 0:i.changeType)=="function"}const A6=100;class w6 extends ov{constructor(e,t,s){super(e,t,s,"stream-controller",Re.MAIN),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const n=this.media,a=n?n.currentTime:null;if(a===null||!Ae(a)||(this.log(`Media seeked to ${a.toFixed(3)}`),!this.getBufferedFrag(a)))return;const l=this.getFwdBufferInfoAtPos(n,a,Re.MAIN,0);if(l===null||l.len===0){this.warn(`Main forward buffer length at ${a} on "seeked" event ${l?l.len:"empty"})`);return}this.tick()},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(A.MANIFEST_PARSED,this.onManifestParsed,this),e.on(A.LEVEL_LOADING,this.onLevelLoading,this),e.on(A.LEVEL_LOADED,this.onLevelLoaded,this),e.on(A.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(A.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(A.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(A.BUFFER_CREATED,this.onBufferCreated,this),e.on(A.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(A.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(A.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(A.MANIFEST_PARSED,this.onManifestParsed,this),e.off(A.LEVEL_LOADED,this.onLevelLoaded,this),e.off(A.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(A.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(A.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(A.BUFFER_CREATED,this.onBufferCreated,this),e.off(A.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(A.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(A.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(e,t){if(this.levels){const{lastCurrentTime:s,hls:n}=this;if(this.stopLoad(),this.setInterval(A6),this.level=-1,!this.startFragRequested){let a=n.startLevel;a===-1&&(n.config.testBandwidth&&this.levels.length>1?(a=0,this.bitrateTest=!0):a=n.firstAutoLevel),n.nextLoadLevel=a,this.level=n.loadLevel,this._hasEnoughToStart=!!t}s>0&&e===-1&&!t&&(this.log(`Override startPosition with lastCurrentTime @${s.toFixed(3)}`),e=s),this.state=ce.IDLE,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}else this._forceStartLoad=!0,this.state=ce.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case ce.WAITING_LEVEL:{const{levels:e,level:t}=this,s=e==null?void 0:e[t],n=s==null?void 0:s.details;if(n&&(!n.live||this.levelLastLoaded===s&&!this.waitForLive(s))){if(this.waitForCdnTuneIn(n))break;this.state=ce.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=ce.IDLE;break}break}case ce.FRAG_LOADING_WAITING_RETRY:this.checkRetryDate();break}this.state===ce.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var e;super.onTickEnd(),(e=this.media)!=null&&e.readyState&&this.media.seeking===!1&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:t,levels:s,media:n}=this;if(t===null||!n&&!this.primaryPrefetch&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const a=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(s!=null&&s[a]))return;const l=s[a],u=this.getMainFwdBufferInfo();if(u===null)return;const h=this.getLevelDetails();if(h&&this._streamEnded(u,h)){const k={};this.altAudio===2&&(k.type="video"),this.hls.trigger(A.BUFFER_EOS,k),this.state=ce.ENDED;return}if(!this.buffering)return;e.loadLevel!==a&&e.manualLevel===-1&&this.log(`Adapting to level ${a} from level ${this.level}`),this.level=e.nextLoadLevel=a;const d=l.details;if(!d||this.state===ce.WAITING_LEVEL||this.waitForLive(l)){this.level=a,this.state=ce.WAITING_LEVEL,this.startFragRequested=!1;return}const m=u.len,p=this.getMaxBufferLength(l.maxBitrate);if(m>=p)return;this.backtrackFragment&&this.backtrackFragment.start>u.end&&(this.backtrackFragment=null);const g=this.backtrackFragment?this.backtrackFragment.start:u.end;let E=this.getNextFragment(g,d);if(this.couldBacktrack&&!this.fragPrevious&&E&&Qt(E)&&this.fragmentTracker.getState(E)!==li.OK){var b;const S=((b=this.backtrackFragment)!=null?b:E).sn-d.startSN,x=d.fragments[S-1];x&&E.cc===x.cc&&(E=x,this.fragmentTracker.removeFragment(x))}else this.backtrackFragment&&u.len&&(this.backtrackFragment=null);if(E&&this.isLoopLoading(E,g)){if(!E.gap){const S=this.audioOnly&&!this.altAudio?jt.AUDIO:jt.VIDEO,x=(S===jt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;x&&this.afterBufferFlushed(x,S,Re.MAIN)}E=this.getNextFragmentLoopLoading(E,d,u,Re.MAIN,p)}E&&(E.initSegment&&!E.initSegment.data&&!this.bitrateTest&&(E=E.initSegment),this.loadFragment(E,l,g))}loadFragment(e,t,s){const n=this.fragmentTracker.getState(e);n===li.NOT_LOADED||n===li.PARTIAL?Qt(e)?this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,t)):super.loadFragment(e,t,s):this._loadInitSegment(e,t):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Re.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:t}=this;if(t!=null&&t.readyState){let s;const n=this.getAppendedFrag(t.currentTime);n&&n.start>1&&this.flushMainBuffer(0,n.start-1);const a=this.getLevelDetails();if(a!=null&&a.live){const u=this.getMainFwdBufferInfo();if(!u||u.len<a.targetduration*2)return}if(!t.paused&&e){const u=this.hls.nextLoadLevel,h=e[u],d=this.fragLastKbps;d&&this.fragCurrent?s=this.fragCurrent.duration*h.maxBitrate/(1e3*d)+1:s=0}else s=0;const l=this.getBufferedFrag(t.currentTime+s);if(l){const u=this.followingBufferedFrag(l);if(u){this.abortCurrentFrag();const h=u.maxStartPTS?u.maxStartPTS:u.start,d=u.duration,m=Math.max(l.end,h+Math.min(Math.max(d-this.config.maxFragLookUpTolerance,d*(this.couldBacktrack?.5:.125)),d*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(m,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case ce.KEY_LOADING:case ce.FRAG_LOADING:case ce.FRAG_LOADING_WAITING_RETRY:case ce.PARSING:case ce.PARSED:this.state=ce.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,t){super.flushMainBuffer(e,t,this.altAudio===2?"video":null)}onMediaAttached(e,t){super.onMediaAttached(e,t);const s=t.media;Ui(s,"playing",this.onMediaPlaying),Ui(s,"seeked",this.onMediaSeeked)}onMediaDetaching(e,t){const{media:s}=this;s&&(is(s,"playing",this.onMediaPlaying),is(s,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(e,t),!t.transferMedia&&(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(A.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(e,t){let s=!1,n=!1;for(let a=0;a<t.levels.length;a++){const l=t.levels[a].audioCodec;l&&(s=s||l.indexOf("mp4a.40.2")!==-1,n=n||l.indexOf("mp4a.40.5")!==-1)}this.audioCodecSwitch=s&&n&&!T6(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}onLevelLoading(e,t){const{levels:s}=this;if(!s||this.state!==ce.IDLE)return;const n=t.levelInfo;(!n.details||n.details.live&&(this.levelLastLoaded!==n||n.details.expired)||this.waitForCdnTuneIn(n.details))&&(this.state=ce.WAITING_LEVEL)}onLevelLoaded(e,t){var s;const{levels:n,startFragRequested:a}=this,l=t.level,u=t.details,h=u.totalduration;if(!n){this.warn(`Levels were reset while loading level ${l}`);return}this.log(`Level ${l} loaded [${u.startSN},${u.endSN}]${u.lastPartSn?`[part-${u.lastPartSn}-${u.lastPartIndex}]`:""}, cc [${u.startCC}, ${u.endCC}] duration:${h}`);const d=t.levelInfo,m=this.fragCurrent;m&&(this.state===ce.FRAG_LOADING||this.state===ce.FRAG_LOADING_WAITING_RETRY)&&m.level!==t.level&&m.loader&&this.abortCurrentFrag();let p=0;if(u.live||(s=d.details)!=null&&s.live){var g;if(this.checkLiveUpdate(u),u.deltaUpdateFailed)return;p=this.alignPlaylists(u,d.details,(g=this.levelLastLoaded)==null?void 0:g.details)}if(d.details=u,this.levelLastLoaded=d,a||this.setStartPosition(u,p),this.hls.trigger(A.LEVEL_UPDATED,{details:u,level:l}),this.state===ce.WAITING_LEVEL){if(this.waitForCdnTuneIn(u))return;this.state=ce.IDLE}a&&u.live&&this.synchronizeToLiveEdge(u),this.tick()}synchronizeToLiveEdge(e){const{config:t,media:s}=this;if(!s)return;const n=this.hls.liveSyncPosition,a=this.getLoadPosition(),l=e.fragmentStart,u=e.edge,h=a>=l-t.maxFragLookUpTolerance&&a<=u;if(n!==null&&s.duration>n&&(a<n||!h)){const m=t.liveMaxLatencyDuration!==void 0?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;if((!h&&s.readyState<4||a<u-m)&&(this._hasEnoughToStart||(this.nextLoadPosition=n),s.readyState))if(this.warn(`Playback: ${a.toFixed(3)} is located too far from the end of live sliding playlist: ${u}, reset currentTime to : ${n.toFixed(3)}`),this.config.liveSyncMode==="buffered"){var d;const p=Ke.bufferInfo(s,n,0);if(!((d=p.buffered)!=null&&d.length)){s.currentTime=n;return}if(p.start<=a){s.currentTime=n;return}const{nextStart:E}=Ke.bufferedInfo(p.buffered,a,0);E&&(s.currentTime=E)}else s.currentTime=n}}_handleFragmentLoadProgress(e){var t;const s=e.frag,{part:n,payload:a}=e,{levels:l}=this;if(!l){this.warn(`Levels were reset while fragment load was in progress. Fragment ${s.sn} of level ${s.level} will not be buffered`);return}const u=l[s.level];if(!u){this.warn(`Level ${s.level} not found on progress`);return}const h=u.details;if(!h){this.warn(`Dropping fragment ${s.sn} of level ${s.level} after level details were reset`),this.fragmentTracker.removeFragment(s);return}const d=u.videoCodec,m=h.PTSKnown||!h.live,p=(t=s.initSegment)==null?void 0:t.data,g=this._getAudioCodec(u),E=this.transmuxer=this.transmuxer||new z_(this.hls,Re.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),b=n?n.index:-1,k=b!==-1,S=new nv(s.level,s.sn,s.stats.chunkCount,a.byteLength,b,k),x=this.initPTS[s.cc];E.push(a,p,g,d,s,n,h.totalduration,m,S,x)}onAudioTrackSwitching(e,t){const s=this.hls,n=this.altAudio!==0;if(_f(t.url,s))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const l=this.fragCurrent;l&&(this.log("Switching to main audio track, cancel main fragment load"),l.abortRequests(),this.fragmentTracker.removeFragment(l)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(n){this.altAudio=0,this.fragmentTracker.removeAllFragments(),s.once(A.BUFFER_FLUSHED,()=>{this.hls&&this.hls.trigger(A.AUDIO_TRACK_SWITCHED,t)}),s.trigger(A.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});return}s.trigger(A.AUDIO_TRACK_SWITCHED,t)}}onAudioTrackSwitched(e,t){const s=_f(t.url,this.hls);if(s){const n=this.videoBuffer;n&&this.mediaBuffer!==n&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=s?2:0,this.tick()}onBufferCreated(e,t){const s=t.tracks;let n,a,l=!1;for(const u in s){const h=s[u];if(h.id==="main"){if(a=u,n=h,u==="video"){const d=s[u];d&&(this.videoBuffer=d.buffer)}}else l=!0}l&&n?(this.log(`Alternate track found, use ${a}.buffered to schedule main fragment loading`),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media}onFragBuffered(e,t){const{frag:s,part:n}=t,a=s.type===Re.MAIN;if(a){if(this.fragContextChanged(s)){this.warn(`Fragment ${s.sn}${n?" p: "+n.index:""} of level ${s.level} finished buffering, but was aborted. state: ${this.state}`),this.state===ce.PARSED&&(this.state=ce.IDLE);return}const u=n?n.stats:s.stats;this.fragLastKbps=Math.round(8*u.total/(u.buffering.end-u.loading.first)),Qt(s)&&(this.fragPrevious=s),this.fragBufferedComplete(s,n)}const l=this.media;l&&(!this._hasEnoughToStart&&Ke.getBuffered(l).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),a&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(e,t){var s;if(t.fatal){this.state=ce.ERROR;return}switch(t.details){case Q.FRAG_GAP:case Q.FRAG_PARSING_ERROR:case Q.FRAG_DECRYPT_ERROR:case Q.FRAG_LOAD_ERROR:case Q.FRAG_LOAD_TIMEOUT:case Q.KEY_LOAD_ERROR:case Q.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Re.MAIN,t);break;case Q.LEVEL_LOAD_ERROR:case Q.LEVEL_LOAD_TIMEOUT:case Q.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===ce.WAITING_LEVEL&&((s=t.context)==null?void 0:s.type)===st.LEVEL&&(this.state=ce.IDLE);break;case Q.BUFFER_ADD_CODEC_ERROR:case Q.BUFFER_APPEND_ERROR:if(t.parent!=="main")return;this.reduceLengthAndFlushBuffer(t)&&this.resetLoadingState();break;case Q.BUFFER_FULL_ERROR:if(t.parent!=="main")return;this.reduceLengthAndFlushBuffer(t)&&(!this.config.interstitialsController&&this.config.assetPlayerId?this._hasEnoughToStart=!0:this.flushMainBuffer(0,Number.POSITIVE_INFINITY));break;case Q.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}onFragLoadEmergencyAborted(){this.state=ce.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(e,{type:t}){if(t!==jt.AUDIO||!this.altAudio){const s=(t===jt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;s&&(this.afterBufferFlushed(s,t,Re.MAIN),this.tick())}}onLevelsUpdated(e,t){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,this.level===-1&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=t.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const t=e.currentTime;let s=this.startPosition;if(s>=0&&t<s){if(e.seeking){this.log(`could not seek to ${s}, already seeking at ${t}`);return}const n=this.timelineOffset;n&&s&&(s+=n);const a=this.getLevelDetails(),l=Ke.getBuffered(e),u=l.length?l.start(0):0,h=u-s,d=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);(this.config.startOnSegmentBoundary||h>0&&(h<d||this.loadingParts&&h<2*((a==null?void 0:a.partTarget)||0)))&&(this.log(`adjusting start position by ${h} to match buffer start`),s+=h,this.startPosition=s),t<s&&(this.log(`seek to target start position ${s} from current time ${t} buffer start ${u}`),e.currentTime=s)}}_getAudioCodec(e){let t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t.indexOf("mp4a.40.5")!==-1?t="mp4a.40.2":t="mp4a.40.5"),t}_loadBitrateTestFrag(e,t){e.bitrateTest=!0,this._doFragLoad(e,t).then(s=>{const{hls:n}=this,a=s==null?void 0:s.frag;if(!a||this.fragContextChanged(a))return;t.fragmentError=0,this.state=ce.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const l=a.stats;l.parsing.start=l.parsing.end=l.buffering.start=l.buffering.end=self.performance.now(),n.trigger(A.FRAG_LOADED,s),a.bitrateTest=!1}).catch(s=>{this.state===ce.STOPPED||this.state===ce.ERROR||(this.warn(s),this.resetFragmentLoading(e))})}_handleTransmuxComplete(e){const t=this.playlistType,{hls:s}=this,{remuxResult:n,chunkMeta:a}=e,l=this.getCurrentContext(a);if(!l){this.resetWhenMissingContext(a);return}const{frag:u,part:h,level:d}=l,{video:m,text:p,id3:g,initSegment:E}=n,{details:b}=d,k=this.altAudio?void 0:n.audio;if(this.fragContextChanged(u)){this.fragmentTracker.removeFragment(u);return}if(this.state=ce.PARSING,E){const S=E.tracks;if(S){const R=u.initSegment||u;if(this.unhandledEncryptionError(E,u))return;this._bufferInitSegment(d,S,R,a),s.trigger(A.FRAG_PARSING_INIT_SEGMENT,{frag:R,id:t,tracks:S})}const x=E.initPTS,_=E.timescale,w=this.initPTS[u.cc];if(Ae(x)&&(!w||w.baseTime!==x||w.timescale!==_)){const R=E.trackId;this.initPTS[u.cc]={baseTime:x,timescale:_,trackId:R},s.trigger(A.INIT_PTS_FOUND,{frag:u,id:t,initPTS:x,timescale:_,trackId:R})}}if(m&&b){k&&m.type==="audiovideo"&&this.logMuxedErr(u);const S=b.fragments[u.sn-1-b.startSN],x=u.sn===b.startSN,_=!S||u.cc>S.cc;if(n.independent!==!1){const{startPTS:w,endPTS:R,startDTS:C,endDTS:I}=m;if(h)h.elementaryStreams[m.type]={startPTS:w,endPTS:R,startDTS:C,endDTS:I};else if(m.firstKeyFrame&&m.independent&&a.id===1&&!_&&(this.couldBacktrack=!0),m.dropped&&m.independent){const L=this.getMainFwdBufferInfo(),P=(L?L.end:this.getLoadPosition())+this.config.maxBufferHole,M=m.firstKeyFramePTS?m.firstKeyFramePTS:w;if(!x&&P<M-this.config.maxBufferHole&&!_){this.backtrack(u);return}else _&&(u.gap=!0);u.setElementaryStreamInfo(m.type,u.start,R,u.start,I,!0)}else x&&w-(b.appliedTimelineOffset||0)>Jh&&(u.gap=!0);u.setElementaryStreamInfo(m.type,w,R,C,I),this.backtrackFragment&&(this.backtrackFragment=u),this.bufferFragmentData(m,u,h,a,x||_)}else if(x||_)u.gap=!0;else{this.backtrack(u);return}}if(k){const{startPTS:S,endPTS:x,startDTS:_,endDTS:w}=k;h&&(h.elementaryStreams[jt.AUDIO]={startPTS:S,endPTS:x,startDTS:_,endDTS:w}),u.setElementaryStreamInfo(jt.AUDIO,S,x,_,w),this.bufferFragmentData(k,u,h,a)}if(b&&g!=null&&g.samples.length){const S={id:t,frag:u,details:b,samples:g.samples};s.trigger(A.FRAG_PARSING_METADATA,S)}if(b&&p){const S={id:t,frag:u,details:b,samples:p.samples};s.trigger(A.FRAG_PARSING_USERDATA,S)}}logMuxedErr(e){this.warn(`${Qt(e)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${e.url}`)}_bufferInitSegment(e,t,s,n){if(this.state!==ce.PARSING)return;this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&(delete t.audio,t.audiovideo&&this.logMuxedErr(s));const{audio:a,video:l,audiovideo:u}=t;if(a){const d=e.audioCodec;let m=Vh(a.codec,d);m==="mp4a"&&(m="mp4a.40.5");const p=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){m&&(m.indexOf("mp4a.40.5")!==-1?m="mp4a.40.2":m="mp4a.40.5");const g=a.metadata;g&&"channelCount"in g&&(g.channelCount||1)!==1&&p.indexOf("firefox")===-1&&(m="mp4a.40.5")}m&&m.indexOf("mp4a.40.5")!==-1&&p.indexOf("android")!==-1&&a.container!=="audio/mpeg"&&(m="mp4a.40.2",this.log(`Android: force audio codec to ${m}`)),d&&d!==m&&this.log(`Swapping manifest audio codec "${d}" for "${m}"`),a.levelCodec=m,a.id=Re.MAIN,this.log(`Init audio buffer, container:${a.container}, codecs[selected/level/parsed]=[${m||""}/${d||""}/${a.codec}]`),delete t.audiovideo}if(l){l.levelCodec=e.videoCodec,l.id=Re.MAIN;const d=l.codec;if((d==null?void 0:d.length)===4)switch(d){case"hvc1":case"hev1":l.codec="hvc1.1.6.L120.90";break;case"av01":l.codec="av01.0.04M.08";break;case"avc1":l.codec="avc1.42e01e";break}this.log(`Init video buffer, container:${l.container}, codecs[level/parsed]=[${e.videoCodec||""}/${d}]${l.codec!==d?" parsed-corrected="+l.codec:""}${l.supplemental?" supplemental="+l.supplemental:""}`),delete t.audiovideo}u&&(this.log(`Init audiovideo buffer, container:${u.container}, codecs[level/parsed]=[${e.codecs}/${u.codec}]`),delete t.video,delete t.audio);const h=Object.keys(t);if(h.length){if(this.hls.trigger(A.BUFFER_CODECS,t),!this.hls)return;h.forEach(d=>{const p=t[d].initSegment;p!=null&&p.byteLength&&this.hls.trigger(A.BUFFER_APPENDING,{type:d,data:p,frag:s,part:null,chunkMeta:n,parent:s.type})})}this.tickImmediate()}getMainFwdBufferInfo(){const e=this.mediaBuffer&&this.altAudio===2?this.mediaBuffer:this.media;return this.getFwdBufferInfo(e,Re.MAIN)}get maxBufferLength(){const{levels:e,level:t}=this,s=e==null?void 0:e[t];return s?this.getMaxBufferLength(s.maxBitrate):this.config.maxBufferLength}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=ce.IDLE}checkFragmentChanged(){const e=this.media;let t=null;if(e&&e.readyState>1&&e.seeking===!1){const s=e.currentTime;if(Ke.isBuffered(e,s)?t=this.getAppendedFrag(s):Ke.isBuffered(e,s+.1)&&(t=this.getAppendedFrag(s+.1)),t){this.backtrackFragment=null;const n=this.fragPlaying,a=t.level;(!n||t.sn!==n.sn||n.level!==a)&&(this.fragPlaying=t,this.hls.trigger(A.FRAG_CHANGED,{frag:t}),(!n||n.level!==a)&&this.hls.trigger(A.LEVEL_SWITCHED,{level:a}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){var e;if(this.fragPlaying)return this.fragPlaying;const t=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;return Ae(t)?this.getAppendedFrag(t):null}get currentProgramDateTime(){var e;const t=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;if(Ae(t)){const s=this.getLevelDetails(),n=this.currentFrag||(s?uo(null,s.fragments,t):null);if(n){const a=n.programDateTime;if(a!==null){const l=a+(t-n.start)*1e3;return new Date(l)}}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class _6 extends Ps{constructor(e,t){super("key-loader",t),this.config=void 0,this.keyIdToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const s in this.keyIdToKeyInfo){const n=this.keyIdToKeyInfo[s].loader;if(n){var t;if(e&&e!==((t=n.context)==null?void 0:t.frag.type))return;n.abort()}}}detach(){for(const e in this.keyIdToKeyInfo){const t=this.keyIdToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyIdToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyIdToKeyInfo){const t=this.keyIdToKeyInfo[e].loader;t&&t.destroy()}this.keyIdToKeyInfo={}}createKeyLoadError(e,t=Q.KEY_LOAD_ERROR,s,n,a){return new Jn({type:Ie.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:a,error:s,networkDetails:n})}loadClear(e,t,s){if(this.emeController&&this.config.emeEnabled&&!this.emeController.getSelectedKeySystemFormats().length){if(t.length)for(let n=0,a=t.length;n<a;n++){const l=t[n];if(e.cc<=l.cc&&(!Qt(e)||!Qt(l)||e.sn<l.sn)||!s&&n==a-1)return this.emeController.selectKeySystemFormat(l).then(u=>{if(!this.emeController)return;l.setKeyFormat(u);const h=Yh(u);if(h)return this.emeController.getKeySystemAccess([h])})}if(this.config.requireKeySystemAccessOnStart){const n=nc(this.config);if(n.length)return this.emeController.getKeySystemAccess(n)}}return null}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(t=>this.loadInternal(e,t)):this.loadInternal(e)}loadInternal(e,t){var s,n;t&&e.setKeyFormat(t);const a=e.decryptdata;if(!a){const d=new Error(t?`Expected frag.decryptdata to be defined after setting format ${t}`:`Missing decryption data on fragment in onKeyLoading (emeEnabled with controller: ${this.emeController&&this.config.emeEnabled})`);return Promise.reject(this.createKeyLoadError(e,Q.KEY_LOAD_ERROR,d))}const l=a.uri;if(!l)return Promise.reject(this.createKeyLoadError(e,Q.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${l}"`)));const u=f0(a);let h=this.keyIdToKeyInfo[u];if((s=h)!=null&&s.decryptdata.key)return a.key=h.decryptdata.key,Promise.resolve({frag:e,keyInfo:h});if(this.emeController&&(n=h)!=null&&n.keyLoadPromise)switch(this.emeController.getKeyStatus(h.decryptdata)){case"usable":case"usable-in-future":return h.keyLoadPromise.then(m=>{const{keyInfo:p}=m;return a.key=p.decryptdata.key,{frag:e,keyInfo:p}})}switch(this.log(`${this.keyIdToKeyInfo[u]?"Rel":"L"}oading${a.keyId?" keyId: "+xi(a.keyId):""} URI: ${a.uri} from ${e.type} ${e.level}`),h=this.keyIdToKeyInfo[u]={decryptdata:a,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},a.method){case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return a.keyFormat==="identity"?this.loadKeyHTTP(h,e):this.loadKeyEME(h,e);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(h,e);default:return Promise.reject(this.createKeyLoadError(e,Q.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${a.method}"`)))}}loadKeyEME(e,t){const s={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){var n;if(!e.decryptdata.keyId&&(n=t.initSegment)!=null&&n.data){const l=V4(t.initSegment.data);if(l.length){let u=l[0];u.some(h=>h!==0)?(this.log(`Using keyId found in init segment ${xi(u)}`),ia.setKeyIdForUri(e.decryptdata.uri,u)):(u=ia.addKeyIdForUri(e.decryptdata.uri),this.log(`Generating keyId to patch media ${xi(u)}`)),e.decryptdata.keyId=u}}if(!e.decryptdata.keyId&&!Qt(t))return Promise.resolve(s);const a=this.emeController.loadKey(s);return(e.keyLoadPromise=a.then(l=>(e.mediaKeySessionContext=l,s))).catch(l=>{throw e.keyLoadPromise=null,"data"in l&&(l.data.frag=t),l})}return Promise.resolve(s)}loadKeyHTTP(e,t){const s=this.config,n=s.loader,a=new n(s);return t.keyLoader=e.loader=a,e.keyLoadPromise=new Promise((l,u)=>{const h={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},d=s.keyLoadPolicy.default,m={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},p={onSuccess:(g,E,b,k)=>{const{frag:S,keyInfo:x}=b,_=f0(x.decryptdata);if(!S.decryptdata||x!==this.keyIdToKeyInfo[_])return u(this.createKeyLoadError(S,Q.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),k));x.decryptdata.key=S.decryptdata.key=new Uint8Array(g.data),S.keyLoader=null,x.loader=null,l({frag:S,keyInfo:x})},onError:(g,E,b,k)=>{this.resetLoader(E),u(this.createKeyLoadError(t,Q.KEY_LOAD_ERROR,new Error(`HTTP Error ${g.code} loading key ${g.text}`),b,wt({url:h.url,data:void 0},g)))},onTimeout:(g,E,b)=>{this.resetLoader(E),u(this.createKeyLoadError(t,Q.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),b))},onAbort:(g,E,b)=>{this.resetLoader(E),u(this.createKeyLoadError(t,Q.INTERNAL_ABORTED,new Error("key loading aborted"),b))}};a.load(h,m,p)})}resetLoader(e){const{frag:t,keyInfo:s,url:n}=e,a=s.loader;t.keyLoader===a&&(t.keyLoader=null,s.loader=null);const l=f0(s.decryptdata)||n;delete this.keyIdToKeyInfo[l],a&&a.destroy()}}function f0(i){if(i.keyFormat!==Ti.FAIRPLAY){const e=i.keyId;if(e)return xi(e)}return i.uri}function n1(i){const{type:e}=i;switch(e){case st.AUDIO_TRACK:return Re.AUDIO;case st.SUBTITLE_TRACK:return Re.SUBTITLE;default:return Re.MAIN}}function m0(i,e){let t=i.url;return(t===void 0||t.indexOf("data:")===0)&&(t=e.url),t}class R6{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.LEVEL_LOADING,this.onLevelLoading,this),e.on(A.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(A.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.on(A.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:e}=this;e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.LEVEL_LOADING,this.onLevelLoading,this),e.off(A.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(A.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.off(A.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(e){const t=this.hls.config,s=t.pLoader,n=t.loader,a=s||n,l=new a(t);return this.loaders[e.type]=l,l}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,t){const{url:s}=t;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:st.MANIFEST,url:s,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(e,t){const{id:s,level:n,pathwayId:a,url:l,deliveryDirectives:u,levelInfo:h}=t;this.load({id:s,level:n,pathwayId:a,responseType:"text",type:st.LEVEL,url:l,deliveryDirectives:u,levelOrTrack:h})}onAudioTrackLoading(e,t){const{id:s,groupId:n,url:a,deliveryDirectives:l,track:u}=t;this.load({id:s,groupId:n,level:null,responseType:"text",type:st.AUDIO_TRACK,url:a,deliveryDirectives:l,levelOrTrack:u})}onSubtitleTrackLoading(e,t){const{id:s,groupId:n,url:a,deliveryDirectives:l,track:u}=t;this.load({id:s,groupId:n,level:null,responseType:"text",type:st.SUBTITLE_TRACK,url:a,deliveryDirectives:l,levelOrTrack:u})}onLevelsUpdated(e,t){const s=this.loaders[st.LEVEL];if(s){const n=s.context;n&&!t.levels.some(a=>a===n.levelOrTrack)&&(s.abort(),delete this.loaders[st.LEVEL])}}load(e){var t;const s=this.hls.config;let n=this.getInternalLoader(e);if(n){const d=this.hls.logger,m=n.context;if(m&&m.levelOrTrack===e.levelOrTrack&&(m.url===e.url||m.deliveryDirectives&&!e.deliveryDirectives)){m.url===e.url?d.log(`[playlist-loader]: ignore ${e.url} ongoing request`):d.log(`[playlist-loader]: ignore ${e.url} in favor of ${m.url}`);return}d.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),n.abort()}let a;if(e.type===st.MANIFEST?a=s.manifestLoadPolicy.default:a=Dt({},s.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),n=this.createInternalLoader(e),Ae((t=e.deliveryDirectives)==null?void 0:t.part)){let d;if(e.type===st.LEVEL&&e.level!==null?d=this.hls.levels[e.level].details:e.type===st.AUDIO_TRACK&&e.id!==null?d=this.hls.audioTracks[e.id].details:e.type===st.SUBTITLE_TRACK&&e.id!==null&&(d=this.hls.subtitleTracks[e.id].details),d){const m=d.partTarget,p=d.targetduration;if(m&&p){const g=Math.max(m*3,p*.8)*1e3;a=Dt({},a,{maxTimeToFirstByteMs:Math.min(g,a.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(g,a.maxTimeToFirstByteMs)})}}}const l=a.errorRetry||a.timeoutRetry||{},u={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:l.maxNumRetry||0,retryDelay:l.retryDelayMs||0,maxRetryDelay:l.maxRetryDelayMs||0},h={onSuccess:(d,m,p,g)=>{const E=this.getInternalLoader(p);this.resetInternalLoader(p.type);const b=d.data;m.parsing.start=performance.now(),xn.isMediaPlaylist(b)||p.type!==st.MANIFEST?this.handleTrackOrLevelPlaylist(d,m,p,g||null,E):this.handleMasterPlaylist(d,m,p,g)},onError:(d,m,p,g)=>{this.handleNetworkError(m,p,!1,d,g)},onTimeout:(d,m,p)=>{this.handleNetworkError(m,p,!0,void 0,d)}};n.load(e,u,h)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:e,startPosition:t},forceStartLoad:s}=this.hls;(e||s)&&(this.hls.logger.log(`${e?"auto":"force"} startLoad with configured startPosition ${t}`),this.hls.startLoad(t))}handleMasterPlaylist(e,t,s,n){const a=this.hls,l=e.data,u=m0(e,s),h=xn.parseMasterPlaylist(l,u);if(h.playlistParsingError){t.parsing.end=performance.now(),this.handleManifestParsingError(e,s,h.playlistParsingError,n,t);return}const{contentSteering:d,levels:m,sessionData:p,sessionKeys:g,startTimeOffset:E,variableList:b}=h;this.variableList=b,m.forEach(_=>{const{unknownCodecs:w}=_;if(w){const{preferManagedMediaSource:R}=this.hls.config;let{audioCodec:C,videoCodec:I}=_;for(let L=w.length;L--;){const P=w[L];Ic(P,"audio",R)?(_.audioCodec=C=C?`${C},${P}`:P,Vl.audio[C.substring(0,4)]=2,w.splice(L,1)):Ic(P,"video",R)&&(_.videoCodec=I=I?`${I},${P}`:P,Vl.video[I.substring(0,4)]=2,w.splice(L,1))}}});const{AUDIO:k=[],SUBTITLES:S,"CLOSED-CAPTIONS":x}=xn.parseMasterPlaylistMedia(l,u,h);k.length&&!k.some(w=>!w.url)&&m[0].audioCodec&&!m[0].attrs.AUDIO&&(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),k.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new $t({}),bitrate:0,url:""})),a.trigger(A.MANIFEST_LOADED,{levels:m,audioTracks:k,subtitles:S,captions:x,contentSteering:d,url:u,stats:t,networkDetails:n,sessionData:p,sessionKeys:g,startTimeOffset:E,variableList:b})}handleTrackOrLevelPlaylist(e,t,s,n,a){const l=this.hls,{id:u,level:h,type:d}=s,m=m0(e,s),p=Ae(h)?h:Ae(u)?u:0,g=n1(s),E=xn.parseLevelPlaylist(e.data,m,p,g,0,this.variableList);if(d===st.MANIFEST){const b={attrs:new $t({}),bitrate:0,details:E,name:"",url:m};E.requestScheduled=t.loading.start+y_(E,0),l.trigger(A.MANIFEST_LOADED,{levels:[b],audioTracks:[],url:m,stats:t,networkDetails:n,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),s.levelDetails=E,this.handlePlaylistLoaded(E,e,t,s,n,a)}handleManifestParsingError(e,t,s,n,a){this.hls.trigger(A.ERROR,{type:Ie.NETWORK_ERROR,details:Q.MANIFEST_PARSING_ERROR,fatal:t.type===st.MANIFEST,url:e.url,err:s,error:s,reason:s.message,response:e,context:t,networkDetails:n,stats:a})}handleNetworkError(e,t,s=!1,n,a){let l=`A network ${s?"timeout":"error"+(n?" (status "+n.code+")":"")} occurred while loading ${e.type}`;e.type===st.LEVEL?l+=`: ${e.level} id: ${e.id}`:(e.type===st.AUDIO_TRACK||e.type===st.SUBTITLE_TRACK)&&(l+=` id: ${e.id} group-id: "${e.groupId}"`);const u=new Error(l);this.hls.logger.warn(`[playlist-loader]: ${l}`);let h=Q.UNKNOWN,d=!1;const m=this.getInternalLoader(e);switch(e.type){case st.MANIFEST:h=s?Q.MANIFEST_LOAD_TIMEOUT:Q.MANIFEST_LOAD_ERROR,d=!0;break;case st.LEVEL:h=s?Q.LEVEL_LOAD_TIMEOUT:Q.LEVEL_LOAD_ERROR,d=!1;break;case st.AUDIO_TRACK:h=s?Q.AUDIO_TRACK_LOAD_TIMEOUT:Q.AUDIO_TRACK_LOAD_ERROR,d=!1;break;case st.SUBTITLE_TRACK:h=s?Q.SUBTITLE_TRACK_LOAD_TIMEOUT:Q.SUBTITLE_LOAD_ERROR,d=!1;break}m&&this.resetInternalLoader(e.type);const p={type:Ie.NETWORK_ERROR,details:h,fatal:d,url:e.url,loader:m,context:e,error:u,networkDetails:t,stats:a};if(n){const g=(t==null?void 0:t.url)||e.url;p.response=wt({url:g,data:void 0},n)}this.hls.trigger(A.ERROR,p)}handlePlaylistLoaded(e,t,s,n,a,l){const u=this.hls,{type:h,level:d,levelOrTrack:m,id:p,groupId:g,deliveryDirectives:E}=n,b=m0(t,n),k=n1(n);let S=typeof n.level=="number"&&k===Re.MAIN?d:void 0;const x=e.playlistParsingError;if(x){if(this.hls.logger.warn(`${x} ${e.url}`),!u.config.ignorePlaylistParsingErrors){u.trigger(A.ERROR,{type:Ie.NETWORK_ERROR,details:Q.LEVEL_PARSING_ERROR,fatal:!1,url:b,error:x,reason:x.message,response:t,context:n,level:S,parent:k,networkDetails:a,stats:s});return}e.playlistParsingError=null}if(!e.fragments.length){const _=e.playlistParsingError=new Error("No Segments found in Playlist");u.trigger(A.ERROR,{type:Ie.NETWORK_ERROR,details:Q.LEVEL_EMPTY_ERROR,fatal:!1,url:b,error:_,reason:_.message,response:t,context:n,level:S,parent:k,networkDetails:a,stats:s});return}switch(e.live&&l&&(l.getCacheAge&&(e.ageHeader=l.getCacheAge()||0),(!l.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),h){case st.MANIFEST:case st.LEVEL:if(S){if(!m)S=0;else if(m!==u.levels[S]){const _=u.levels.indexOf(m);_>-1&&(S=_)}}u.trigger(A.LEVEL_LOADED,{details:e,levelInfo:m||u.levels[0],level:S||0,id:p||0,stats:s,networkDetails:a,deliveryDirectives:E,withoutMultiVariant:h===st.MANIFEST});break;case st.AUDIO_TRACK:u.trigger(A.AUDIO_TRACK_LOADED,{details:e,track:m,id:p||0,groupId:g||"",stats:s,networkDetails:a,deliveryDirectives:E});break;case st.SUBTITLE_TRACK:u.trigger(A.SUBTITLE_TRACK_LOADED,{details:e,track:m,id:p||0,groupId:g||"",stats:s,networkDetails:a,deliveryDirectives:E});break}}}class vs{static get version(){return Mc}static isMSESupported(){return gR()}static isSupported(){return x6()}static getMediaSource(){return ca()}static get Events(){return A}static get MetadataSchema(){return ys}static get ErrorTypes(){return Ie}static get ErrorDetails(){return Q}static get DefaultConfig(){return vs.defaultConfig?vs.defaultConfig:d6}static set DefaultConfig(e){vs.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new lv,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const t=this.logger=O4(e.debug||!1,"Hls instance",e.assetPlayerId),s=this.config=f6(vs.DefaultConfig,e,t);this.userConfig=e,s.progressive&&m6(s,t);const{abrController:n,bufferController:a,capLevelController:l,errorController:u,fpsController:h}=s,d=new u(this),m=this.abrController=new n(this),p=new LB(this),g=s.interstitialsController,E=g?this.interstitialsController=new g(this,vs):null,b=this.bufferController=new a(this,p),k=this.capLevelController=new l(this),S=new h(this),x=new R6(this),_=s.contentSteeringController,w=_?new _(this):null,R=this.levelController=new S6(this,w),C=new E6(this),I=new _6(this.config,this.logger),L=this.streamController=new w6(this,p,I),P=this.gapController=new v6(this,p);k.setStreamController(L),S.setStreamController(L);const M=[x,R,L];E&&M.splice(1,0,E),w&&M.splice(1,0,w),this.networkControllers=M;const N=[m,b,P,k,S,C,p];this.audioTrackController=this.createController(s.audioTrackController,M);const H=s.audioStreamController;H&&M.push(this.audioStreamController=new H(this,p,I)),this.subtitleTrackController=this.createController(s.subtitleTrackController,M);const se=s.subtitleStreamController;se&&M.push(this.subtititleStreamController=new se(this,p,I)),this.createController(s.timelineController,N),I.emeController=this.emeController=this.createController(s.emeController,N),this.cmcdController=this.createController(s.cmcdController,N),this.latencyController=this.createController(k6,N),this.coreComponents=N,M.push(d);const ge=d.onErrorOut;typeof ge=="function"&&this.on(A.ERROR,ge,d),this.on(A.MANIFEST_LOADED,x.onManifestLoaded,x)}createController(e,t){if(e){const s=new e(this);return t&&t.push(s),s}return null}on(e,t,s=this){this._emitter.on(e,t,s)}once(e,t,s=this){this._emitter.once(e,t,s)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,t,s=this,n){this._emitter.off(e,t,s,n)}listeners(e){return this._emitter.listeners(e)}emit(e,t,s){return this._emitter.emit(e,t,s)}trigger(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(s){if(this.logger.error("An internal error happened while handling event "+e+'. Error message: "'+s.message+'". Here is a stacktrace:',s),!this.triggeringException){this.triggeringException=!0;const n=e===A.ERROR;this.trigger(A.ERROR,{type:Ie.OTHER_ERROR,details:Q.INTERNAL_EXCEPTION,fatal:n,event:e,error:s}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){this.logger.log("destroy"),this.trigger(A.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(t=>t.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(t=>t.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){if(!e||"media"in e&&!e.media){const a=new Error(`attachMedia failed: invalid argument (${e})`);this.trigger(A.ERROR,{type:Ie.OTHER_ERROR,details:Q.ATTACH_MEDIA_ERROR,fatal:!0,error:a});return}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const t="media"in e,s=t?e.media:e,n=t?e:{media:s};this._media=s,this.trigger(A.MEDIA_ATTACHING,n)}detachMedia(){this.logger.log("detachMedia"),this.trigger(A.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const e=this.bufferController.transferMedia();return this.trigger(A.MEDIA_DETACHING,{transferMedia:e}),e}loadSource(e){this.stopLoad();const t=this.media,s=this._url,n=this._url=Qy.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${n}`),t&&s&&(s!==n||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(A.MANIFEST_LOADING,{url:e})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(e=-1,t){this.logger.log(`startLoad(${e+(t?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let s=0;s<this.networkControllers.length&&(this.networkControllers[s].startLoad(e,t),!(!this.started||!this.networkControllers));s++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()}))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()}))}get inFlightFragments(){const e={[Re.MAIN]:this.streamController.inFlightFrag};return this.audioStreamController&&(e[Re.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(e[Re.SUBTITLE]=this.subtititleStreamController.inFlightFrag),e}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const e=this._media,t=e==null?void 0:e.currentTime;this.detachMedia(),e&&(this.attachMedia(e),t&&this.startLoad(t))}removeLevel(e){this.levelController.removeLevel(e)}get sessionId(){let e=this._sessionId;return e||(e=this._sessionId=v5()),e}get levels(){const e=this.levelController.levels;return e||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){this.logger.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){this.logger.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){this.logger.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){this.logger.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){this.logger.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get abrEwmaDefaultEstimate(){const{bwEstimator:e}=this.abrController;return e?e.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(this.logger.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){fB(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:t}}=this;if(!e)return 0;const s=e.length;for(let n=0;n<s;n++)if(e[n].maxBitrate>=t)return n;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:t,maxHdcpLevel:s}=this;let n;if(t===-1&&e!=null&&e.length?n=e.length-1:n=t,s)for(let a=n;a--;){const l=e[a].attrs["HDCP-LEVEL"];if(l&&l<=s)return a}return n}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(e){var t;return((t=this.audioTrackController)==null?void 0:t.setAudioOption(e))||null}setSubtitleOption(e){var t;return((t=this.subtitleTrackController)==null?void 0:t.setSubtitleOption(e))||null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const t=this.audioTrackController;t&&(t.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(e){this.latencyController.targetLatency=e}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(e){this.levelController.pathwayPriority=e}get bufferedToEnd(){var e;return!!((e=this.bufferController)!=null&&e.bufferedToEnd)}get interstitialsManager(){var e;return((e=this.interstitialsController)==null?void 0:e.interstitialsManager)||null}getMediaDecodingInfo(e,t=this.allAudioTracks){const s=i_(t);return e_(e,s,navigator.mediaCapabilities)}}vs.defaultConfig=void 0;const L6=i=>{const e=Yt.c(9),{videoRef:t,src:s,onError:n}=i,a=$e.useRef(null),{setFps:l}=Xc();let u;e[0]!==l||e[1]!==s||e[2]!==t?(u=()=>{const d=t.current;if(!d||!vs.isSupported())return;const m=new vs({enableWorker:!0,lowLatencyMode:!0,backBufferLength:90});return a.current=m,m.loadSource(s),m.attachMedia(d),m.on(vs.Events.MANIFEST_PARSED,(p,g)=>{l(g.levels[0].frameRate)}),m.on(vs.Events.ERROR,C6),()=>{m.destroy(),a.current=null}},e[0]=l,e[1]=s,e[2]=t,e[3]=u):u=e[3];let h;return e[4]!==n||e[5]!==l||e[6]!==s||e[7]!==t?(h=[t,s,n,l],e[4]=n,e[5]=l,e[6]=s,e[7]=t,e[8]=h):h=e[8],$e.useEffect(u,h),a};function C6(i,e){if(e.fatal)throw e.type===vs.ErrorTypes.NETWORK_ERROR?new Ja("PLAYER_NETWORK_ERROR","Fatal network error, trying to recover"):e.type===vs.ErrorTypes.MEDIA_ERROR?new Ja("PLAYER_MEDIA_ERROR","Fatal media error, trying to recover"):new Ja("PLAYER_ERROR","Fatal error, cannot recover")}const D6=i=>{const e=Yt.c(8),t=Xc();let s,n;e[0]!==t||e[1]!==i?(s=()=>{const u=i.current;if(u)return t.setVideoElement(u),()=>t.setVideoElement(null)},n=[i,t],e[0]=t,e[1]=i,e[2]=s,e[3]=n):(s=e[2],n=e[3]),$e.useEffect(s,n);let a,l;e[4]!==t||e[5]!==i?(a=()=>{const u=i.current;if(!u)return;const h=()=>{const b=u.currentTime;t.setCurrentTime(b)},d=()=>{t.setDuration(u.duration)},m=()=>t.setIsPlaying(!0),p=()=>t.setIsPlaying(!1),g=()=>t.setIsBuffering(!0),E=()=>t.setIsBuffering(!1);return u.addEventListener("timeupdate",h),u.addEventListener("loadedmetadata",d),u.addEventListener("play",m),u.addEventListener("pause",p),u.addEventListener("waiting",g),u.addEventListener("canplay",E),()=>{u.removeEventListener("timeupdate",h),u.removeEventListener("loadedmetadata",d),u.removeEventListener("play",m),u.removeEventListener("pause",p),u.removeEventListener("waiting",g),u.removeEventListener("canplay",E)}},l=[i,t],e[4]=t,e[5]=i,e[6]=a,e[7]=l):(a=e[6],l=e[7]),$e.useEffect(a,l)};function I6(i,e,t){const s=e.getBoundingClientRect(),n=i-s.left,a=Math.max(0,Math.min(n/s.width,1));return{time:a*t,percentage:a}}function j6(i,e,t){const s=e.getBoundingClientRect(),l=(i-s.left)/s.width*t;return Math.max(0,Math.min(l,t))}function O6(i,e){return e>0?i/e*100:0}const M6=i=>{const e=Yt.c(33),{currentTime:t,duration:s,onSeek:n,comments:a}=i;let l;e[0]!==a?(l=a===void 0?[]:a,e[0]=a,e[1]=l):l=e[1];const u=l,h=$e.useRef(null),d=D3(h),[m,p]=$e.useState(null),[g,E]=$e.useState(0);let b;e[2]!==s||e[3]!==n?(b=U=>{if(!h.current||s===0)return;const O=j6(U.clientX,h.current,s);n(O)},e[2]=s,e[3]=n,e[4]=b):b=e[4];const k=b;let S;e[5]!==s?(S=U=>{if(!h.current||s===0)return;const{time:O,percentage:q}=I6(U.clientX,h.current,s);p(O),E(q*100)},e[5]=s,e[6]=S):S=e[6];const x=S;let _,w;e[7]!==d?(_=()=>{d||p(null)},w=[d],e[7]=d,e[8]=_,e[9]=w):(_=e[8],w=e[9]),$e.useEffect(_,w);let R;e[10]!==t||e[11]!==s?(R=O6(t,s),e[10]=t,e[11]=s,e[12]=R):R=e[12];const C=R;let I;e[13]!==n?(I=(U,O)=>{U.stopPropagation(),n(O)},e[13]=n,e[14]=I):I=e[14];const L=I,P=`${C}%`;let M;e[15]!==P?(M=ke.jsx(P6,{style:{width:P}}),e[15]=P,e[16]=M):M=e[16];let N;e[17]!==u||e[18]!==s||e[19]!==L?(N=s>0&&u.map(U=>{const O=U.time/s*100;return ke.jsx(F6,{style:{left:`${O}%`},$resolved:U.resolved,onClick:q=>L(q,U.time),title:`${U.author}: ${U.text}`},U.id)}),e[17]=u,e[18]=s,e[19]=L,e[20]=N):N=e[20];const H=`${C}%`;let se;e[21]!==H?(se=ke.jsx(N6,{style:{left:H}}),e[21]=H,e[22]=se):se=e[22];let ge;e[23]!==g||e[24]!==m?(ge=m!==null&&ke.jsx(B6,{style:{left:`${g}%`},children:Dc(m)}),e[23]=g,e[24]=m,e[25]=ge):ge=e[25];let ve;return e[26]!==k||e[27]!==x||e[28]!==M||e[29]!==N||e[30]!==se||e[31]!==ge?(ve=ke.jsxs(kv,{ref:h,onClick:k,onMouseMove:x,children:[M,N,se,ge]}),e[26]=k,e[27]=x,e[28]=M,e[29]=N,e[30]=se,e[31]=ge,e[32]=ve):ve=e[32],ve},kv=Fe.div`
  position: relative;
  height: 6px;
  background: ${({theme:i})=>`${i.colors.text.primary}33`};
  cursor: pointer;
  margin: 0 16px 8px;
  transition: height 0.2s;

  &:hover {
    height: 8px;
  }
`,P6=Fe.div`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  background: ${({theme:i})=>i.colors.primary};
  transition: width 0.1s linear;
  pointer-events: none;
`,N6=Fe.div`
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 14px;
  height: 14px;
  background: white;
  border-radius: 50%;
  box-shadow: 0 2px 4px ${({theme:i})=>`${i.colors.background.black}4d`};
  pointer-events: none;
  transition: transform 0.2s;

  ${kv}:hover & {
    transform: translate(-50%, -50%) scale(1.2);
  }
`,F6=Fe.div`
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 10px;
  height: 10px;
  background: ${i=>i.$resolved?i.theme.colors.comment.resolved:i.theme.colors.text.tertiary};
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.2s;
  z-index: 1;
  box-shadow: 0 1px 3px ${({theme:i})=>`${i.colors.background.black}4d`};

  &:hover {
    transform: translate(-50%, -50%) scale(1.4);
    box-shadow: 0 2px 6px ${({theme:i})=>`${i.colors.background.black}66`};
  }

  ${kv}:hover & {
    width: 12px;
    height: 12px;
  }
`,B6=Fe.div`
  position: absolute;
  bottom: 100%;
  transform: translateX(-50%);
  background: ${({theme:i})=>`${i.colors.background.black}e6`};
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 11px;
  font-family: 'Monaco', 'Courier New', monospace;
  white-space: nowrap;
  margin-bottom: 8px;
  pointer-events: none;
  box-shadow: 0 2px 8px ${({theme:i})=>`${i.colors.background.black}4d`};
`,U6=()=>{const i=Yt.c(62),e=v3(),t=Pw(),s=Nw(),n=b3(),a=E3(),l=k3(),{data:u}=Mw(),{togglePlay:h,seek:d,jump:m,stepFrame:p}=Xc();let g;i[0]!==d?(g=Ee=>{d(Ee)},i[0]=d,i[1]=g):g=i[1];const E=g,b=!e&&!!l;let k;i[2]!==u||i[3]!==s||i[4]!==n||i[5]!==E?(k=ke.jsx(M6,{currentTime:s,duration:n,onSeek:E,comments:u}),i[2]=u,i[3]=s,i[4]=n,i[5]=E,i[6]=k):k=i[6];const S=e?"Pause":"Play";let x;i[7]!==e?(x=e?ke.jsx(W3,{size:20}):ke.jsx(X3,{size:20}),i[7]=e,i[8]=x):x=i[8];let _;i[9]!==t||i[10]!==S||i[11]!==x||i[12]!==h?(_=ke.jsx(q6,{onClick:h,"aria-label":S,disabled:t,children:x}),i[9]=t,i[10]=S,i[11]=x,i[12]=h,i[13]=_):_=i[13];let w;i[14]!==m?(w=()=>m(-5),i[14]=m,i[15]=w):w=i[15];let R;i[16]===Symbol.for("react.memo_cache_sentinel")?(R=ke.jsx(Q3,{size:20}),i[16]=R):R=i[16];let C;i[17]!==w?(C=ke.jsx(rc,{onClick:w,"aria-label":"Jump back 5 seconds",title:"-5s",children:R}),i[17]=w,i[18]=C):C=i[18];let I;i[19]!==p?(I=()=>p(-1),i[19]=p,i[20]=I):I=i[20];const L=!b,P=`-1 frame (1/${a}s)`;let M;i[21]===Symbol.for("react.memo_cache_sentinel")?(M=ke.jsx(K3,{size:20}),i[21]=M):M=i[21];let N;i[22]!==P||i[23]!==I||i[24]!==L?(N=ke.jsx(rc,{onClick:I,disabled:L,"aria-label":"Previous frame",title:P,children:M}),i[22]=P,i[23]=I,i[24]=L,i[25]=N):N=i[25];let H;i[26]!==p?(H=()=>p(1),i[26]=p,i[27]=H):H=i[27];const se=!b,ge=`+1 frame (1/${a}s)`;let ve;i[28]===Symbol.for("react.memo_cache_sentinel")?(ve=ke.jsx(V3,{size:20}),i[28]=ve):ve=i[28];let U;i[29]!==H||i[30]!==se||i[31]!==ge?(U=ke.jsx(rc,{onClick:H,disabled:se,"aria-label":"Next frame",title:ge,children:ve}),i[29]=H,i[30]=se,i[31]=ge,i[32]=U):U=i[32];let O;i[33]!==m?(O=()=>m(5),i[33]=m,i[34]=O):O=i[34];let q;i[35]===Symbol.for("react.memo_cache_sentinel")?(q=ke.jsx(Y3,{size:20}),i[35]=q):q=i[35];let W;i[36]!==O?(W=ke.jsx(rc,{onClick:O,"aria-label":"Jump forward 5 seconds",title:"+5s",children:q}),i[36]=O,i[37]=W):W=i[37];let re;i[38]!==N||i[39]!==U||i[40]!==W||i[41]!==_||i[42]!==C?(re=ke.jsxs(G6,{children:[_,C,N,U,W]}),i[38]=N,i[39]=U,i[40]=W,i[41]=_,i[42]=C,i[43]=re):re=i[43];let he;i[44]!==s?(he=Dc(s),i[44]=s,i[45]=he):he=i[45];let j;i[46]!==he?(j=ke.jsx(K6,{children:he}),i[46]=he,i[47]=j):j=i[47];let F;i[48]===Symbol.for("react.memo_cache_sentinel")?(F=ke.jsx(Y6,{children:"/"}),i[48]=F):F=i[48];let K;i[49]!==n?(K=Dc(n),i[49]=n,i[50]=K):K=i[50];let ae;i[51]!==K?(ae=ke.jsx(W6,{children:K}),i[51]=K,i[52]=ae):ae=i[52];let le;i[53]!==j||i[54]!==ae?(le=ke.jsx(H6,{children:ke.jsxs(V6,{children:[j,F,ae]})}),i[53]=j,i[54]=ae,i[55]=le):le=i[55];let me;i[56]!==re||i[57]!==le?(me=ke.jsxs(z6,{children:[re,le]}),i[56]=re,i[57]=le,i[58]=me):me=i[58];let xe;return i[59]!==k||i[60]!==me?(xe=ke.jsxs($6,{children:[k,me]}),i[59]=k,i[60]=me,i[61]=xe):xe=i[61],xe},$6=Fe.div`
  display: flex;
  flex-direction: column;
  background: ${({theme:i})=>`${i.colors.background.black}e6`};
  border-top: 1px solid ${({theme:i})=>i.colors.border.primary};
  min-height: 80px;
`,z6=Fe.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 16px;
  gap: 16px;
  min-height: 56px;
`,G6=Fe.div`
  display: flex;
  align-items: center;
  gap: 8px;
`,H6=Fe.div`
  display: flex;
  align-items: center;
  gap: 12px;
`,rc=Fe.button`
  background: transparent;
  border: none;
  color: white;
  font-size: 18px;
  cursor: pointer;
  padding: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
  transition: all 0.2s;
  min-width: 32px;
  height: 32px;

  &:hover:not(:disabled) {
    background: ${({theme:i})=>`${i.colors.text.primary}1a`};
  }

  &:active:not(:disabled) {
    transform: scale(0.95);
  }

  &:disabled {
    opacity: 0.3;
    cursor: not-allowed;
  }
`,q6=Fe(rc)`
  width: 40px;
  height: 40px;
  background: ${({theme:i})=>i.colors.primary};
  font-size: 16px;

  &:hover:not(:disabled) {
    background: ${({theme:i})=>i.colors.primaryHover};
  }
`,V6=Fe.div`
  display: flex;
  align-items: center;
  gap: 6px;
  font-family: 'Monaco', 'Courier New', monospace;
  font-size: 14px;
  color: white;
  user-select: none;
`,K6=Fe.span`
  color: ${({theme:i})=>i.colors.primary};
  font-weight: 600;
`,Y6=Fe.span`
  color: ${({theme:i})=>i.colors.text.quaternary};
`,W6=Fe.span`
  color: ${({theme:i})=>i.colors.text.tertiary};
`,X6=i=>{const e=Yt.c(14),{src:t}=i,{togglePlay:s,jump:n}=Xc();qh(" ",s);let a;e[0]!==n?(a=()=>n(-5),e[0]=n,e[1]=a):a=e[1],qh("ArrowLeft",a);let l;e[2]!==n?(l=()=>n(5),e[2]=n,e[3]=l):l=e[3],qh("ArrowRight",l);const u=$e.useRef(null);let h;e[4]!==t?(h={videoRef:u,src:t},e[4]=t,e[5]=h):h=e[5],L6(h),D6(u);const d=Pw();let m;e[6]===Symbol.for("react.memo_cache_sentinel")?(m=ke.jsx(J6,{ref:u}),e[6]=m):m=e[6];let p;e[7]!==d?(p=d&&ke.jsx(ez,{children:"Loading..."}),e[7]=d,e[8]=p):p=e[8];let g;e[9]!==p?(g=ke.jsxs(Z6,{children:[m,p]}),e[9]=p,e[10]=g):g=e[10];let E;e[11]===Symbol.for("react.memo_cache_sentinel")?(E=ke.jsx(U6,{}),e[11]=E):E=e[11];let b;return e[12]!==g?(b=ke.jsxs(Q6,{children:[g,E]}),e[12]=g,e[13]=b):b=e[13],b},Q6=Fe.div`
  display: flex;
  flex-direction: column;
  background: ${({theme:i})=>i.colors.background.black};
  position: relative;
  flex: 1;
  overflow: hidden;
  height: 100%;
`,Z6=Fe.div`
  position: relative;
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 0;
  max-height: calc(100% - 100px);
`,J6=Fe.video`
  width: 100%;
  height: 100%;
  object-fit: contain;
  max-height: 100%;
`,ez=Fe.div`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: ${({theme:i})=>`${i.colors.background.black}cc`};
  color: white;
  padding: 16px 24px;
  border-radius: 8px;
  font-size: 14px;
`,tz="https://storage.googleapis.com/sohonet-interview-video-sample-public/1040056094289814902/manifests/master_stage_3.m3u8",iz=()=>{const i=Yt.c(2);let e;i[0]===Symbol.for("react.memo_cache_sentinel")?(e=ke.jsx(v4,{}),i[0]=e):e=i[0];let t;return i[1]===Symbol.for("react.memo_cache_sentinel")?(t=ke.jsxs(D2,{children:[e,ke.jsxs(sz,{children:[ke.jsx(nz,{children:ke.jsx(X6,{src:tz})}),ke.jsx(g4,{})]})]}),i[1]=t):t=i[1],t},sz=Fe.div`
  display: flex;
  flex: 1;
  background: ${({theme:i})=>i.colors.background.black};
  overflow: hidden;
  min-height: 0;

  ${Zt.tablet} {
    flex-direction: column;
  }
`,nz=Fe.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  overflow: hidden;

  ${Zt.tablet} {
    flex: none;
    height: 50vh;
    min-height: 300px;
  }

  ${Zt.mobile} {
    height: 40vh;
    min-height: 250px;
  }
`;function rz(i){const e=Yt.c(2),{children:t}=i;let s;return e[0]!==t?(s=ke.jsx(Z2,{client:Wy,children:t}),e[0]=t,e[1]=s):s=e[1],s}function az(i){const e=Yt.c(2),{children:t}=i;let s;return e[0]!==t?(s=ke.jsx(C2,{children:t}),e[0]=t,e[1]=s):s=e[1],s}function oz(i){const e=Yt.c(2),{children:t}=i;let s;return e[0]!==t?(s=ke.jsx(az,{children:ke.jsx(rz,{children:t})}),e[0]=t,e[1]=s):s=e[1],s}const lz=BA`
  ${R2.normalize}

  body {
    font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  }
`;function uz(){const i=Yt.c(2);let e;i[0]===Symbol.for("react.memo_cache_sentinel")?(e=ke.jsx(lz,{}),i[0]=e):e=i[0];let t;return i[1]===Symbol.for("react.memo_cache_sentinel")?(t=ke.jsx(oz,{children:ke.jsxs(NA,{theme:ph,children:[e,ke.jsx(vM,{position:"top-right",theme:"dark",toastOptions:{style:{background:ph.colors.background.secondary,border:`1px solid ${ph.colors.border.primary}`,color:ph.colors.text.primary}}}),ke.jsx(iz,{})]})}),i[1]=t):t=i[1],t}const cz=async()=>{await $O.start({serviceWorker:{url:"/video-review-reviewer/mockServiceWorker.js"}}),BC.createRoot(document.getElementById("root")).render(ke.jsx($e.StrictMode,{children:ke.jsx(uz,{})}))};cz();
